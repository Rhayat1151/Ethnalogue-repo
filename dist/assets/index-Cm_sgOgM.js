(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function b1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eg={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function TR(){if(cb)return Xt;cb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,$={};function X(k,Z,H){this.props=k,this.context=Z,this.refs=$,this.updater=H||V}X.prototype.isReactComponent={},X.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},X.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ct(){}ct.prototype=X.prototype;function Q(k,Z,H){this.props=k,this.context=Z,this.refs=$,this.updater=H||V}var Y=Q.prototype=new ct;Y.constructor=Q,K(Y,X.prototype),Y.isPureReactComponent=!0;var ht=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function z(k,Z,H,dt,Tt,St){return H=St.ref,{$$typeof:n,type:k,key:Z,ref:H!==void 0?H:null,props:St}}function M(k,Z){return z(k.type,Z,void 0,void 0,void 0,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function q(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(H){return Z[H]})}var F=/\/+/g;function D(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):Z.toString(36)}function U(){}function $t(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Qt(k,Z,H,dt,Tt){var St=typeof k;(St==="undefined"||St==="boolean")&&(k=null);var wt=!1;if(k===null)wt=!0;else switch(St){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(k.$$typeof){case n:case t:wt=!0;break;case T:return wt=k._init,Qt(wt(k._payload),Z,H,dt,Tt)}}if(wt)return Tt=Tt(k),wt=dt===""?"."+D(k,0):dt,ht(Tt)?(H="",wt!=null&&(H=wt.replace(F,"$&/")+"/"),Qt(Tt,Z,H,"",function(ui){return ui})):Tt!=null&&(O(Tt)&&(Tt=M(Tt,H+(Tt.key==null||k&&k.key===Tt.key?"":(""+Tt.key).replace(F,"$&/")+"/")+wt)),Z.push(Tt)),1;wt=0;var xe=dt===""?".":dt+":";if(ht(k))for(var ne=0;ne<k.length;ne++)dt=k[ne],St=xe+D(dt,ne),wt+=Qt(dt,Z,H,St,Tt);else if(ne=R(k),typeof ne=="function")for(k=ne.call(k),ne=0;!(dt=k.next()).done;)dt=dt.value,St=xe+D(dt,ne++),wt+=Qt(dt,Z,H,St,Tt);else if(St==="object"){if(typeof k.then=="function")return Qt($t(k),Z,H,dt,Tt);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ot(k,Z,H){if(k==null)return k;var dt=[],Tt=0;return Qt(k,dt,"","",function(St){return Z.call(H,St,Tt++)}),dt}function Et(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(H){(k._status===0||k._status===-1)&&(k._status=1,k._result=H)},function(H){(k._status===0||k._status===-1)&&(k._status=2,k._result=H)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var pt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Vt(){}return Xt.Children={map:ot,forEach:function(k,Z,H){ot(k,function(){Z.apply(this,arguments)},H)},count:function(k){var Z=0;return ot(k,function(){Z++}),Z},toArray:function(k){return ot(k,function(Z){return Z})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Xt.Component=X,Xt.Fragment=e,Xt.Profiler=o,Xt.PureComponent=Q,Xt.StrictMode=s,Xt.Suspense=y,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return lt.H.useMemoCache(k)}},Xt.cache=function(k){return function(){return k.apply(null,arguments)}},Xt.cloneElement=function(k,Z,H){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var dt=K({},k.props),Tt=k.key,St=void 0;if(Z!=null)for(wt in Z.ref!==void 0&&(St=void 0),Z.key!==void 0&&(Tt=""+Z.key),Z)!bt.call(Z,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Z.ref===void 0||(dt[wt]=Z[wt]);var wt=arguments.length-2;if(wt===1)dt.children=H;else if(1<wt){for(var xe=Array(wt),ne=0;ne<wt;ne++)xe[ne]=arguments[ne+2];dt.children=xe}return z(k.type,Tt,void 0,void 0,St,dt)},Xt.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Xt.createElement=function(k,Z,H){var dt,Tt={},St=null;if(Z!=null)for(dt in Z.key!==void 0&&(St=""+Z.key),Z)bt.call(Z,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(Tt[dt]=Z[dt]);var wt=arguments.length-2;if(wt===1)Tt.children=H;else if(1<wt){for(var xe=Array(wt),ne=0;ne<wt;ne++)xe[ne]=arguments[ne+2];Tt.children=xe}if(k&&k.defaultProps)for(dt in wt=k.defaultProps,wt)Tt[dt]===void 0&&(Tt[dt]=wt[dt]);return z(k,St,void 0,void 0,null,Tt)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(k){return{$$typeof:g,render:k}},Xt.isValidElement=O,Xt.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:Et}},Xt.memo=function(k,Z){return{$$typeof:E,type:k,compare:Z===void 0?null:Z}},Xt.startTransition=function(k){var Z=lt.T,H={};lt.T=H;try{var dt=k(),Tt=lt.S;Tt!==null&&Tt(H,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(Vt,pt)}catch(St){pt(St)}finally{lt.T=Z}},Xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Xt.use=function(k){return lt.H.use(k)},Xt.useActionState=function(k,Z,H){return lt.H.useActionState(k,Z,H)},Xt.useCallback=function(k,Z){return lt.H.useCallback(k,Z)},Xt.useContext=function(k){return lt.H.useContext(k)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(k,Z){return lt.H.useDeferredValue(k,Z)},Xt.useEffect=function(k,Z,H){var dt=lt.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return dt.useEffect(k,Z)},Xt.useId=function(){return lt.H.useId()},Xt.useImperativeHandle=function(k,Z,H){return lt.H.useImperativeHandle(k,Z,H)},Xt.useInsertionEffect=function(k,Z){return lt.H.useInsertionEffect(k,Z)},Xt.useLayoutEffect=function(k,Z){return lt.H.useLayoutEffect(k,Z)},Xt.useMemo=function(k,Z){return lt.H.useMemo(k,Z)},Xt.useOptimistic=function(k,Z){return lt.H.useOptimistic(k,Z)},Xt.useReducer=function(k,Z,H){return lt.H.useReducer(k,Z,H)},Xt.useRef=function(k){return lt.H.useRef(k)},Xt.useState=function(k){return lt.H.useState(k)},Xt.useSyncExternalStore=function(k,Z,H){return lt.H.useSyncExternalStore(k,Z,H)},Xt.useTransition=function(){return lt.H.useTransition()},Xt.version="19.1.1",Xt}var hb;function Oy(){return hb||(hb=1,eg.exports=TR()),eg.exports}var tt=Oy();const _=b1(tt);var ng={exports:{}},jc={},ig={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function wR(){return fb||(fb=1,(function(n){function t(ot,Et){var pt=ot.length;ot.push(Et);t:for(;0<pt;){var Vt=pt-1>>>1,k=ot[Vt];if(0<o(k,Et))ot[Vt]=Et,ot[pt]=k,pt=Vt;else break t}}function e(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var Et=ot[0],pt=ot.pop();if(pt!==Et){ot[0]=pt;t:for(var Vt=0,k=ot.length,Z=k>>>1;Vt<Z;){var H=2*(Vt+1)-1,dt=ot[H],Tt=H+1,St=ot[Tt];if(0>o(dt,pt))Tt<k&&0>o(St,dt)?(ot[Vt]=St,ot[Tt]=pt,Vt=Tt):(ot[Vt]=dt,ot[H]=pt,Vt=H);else if(Tt<k&&0>o(St,pt))ot[Vt]=St,ot[Tt]=pt,Vt=Tt;else break t}}return Et}function o(ot,Et){var pt=ot.sortIndex-Et.sortIndex;return pt!==0?pt:ot.id-Et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var y=[],E=[],T=1,S=null,R=3,V=!1,K=!1,$=!1,X=!1,ct=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ht(ot){for(var Et=e(E);Et!==null;){if(Et.callback===null)s(E);else if(Et.startTime<=ot)s(E),Et.sortIndex=Et.expirationTime,t(y,Et);else break;Et=e(E)}}function lt(ot){if($=!1,ht(ot),!K)if(e(y)!==null)K=!0,bt||(bt=!0,D());else{var Et=e(E);Et!==null&&Qt(lt,Et.startTime-ot)}}var bt=!1,z=-1,M=5,O=-1;function q(){return X?!0:!(n.unstable_now()-O<M)}function F(){if(X=!1,bt){var ot=n.unstable_now();O=ot;var Et=!0;try{t:{K=!1,$&&($=!1,Q(z),z=-1),V=!0;var pt=R;try{e:{for(ht(ot),S=e(y);S!==null&&!(S.expirationTime>ot&&q());){var Vt=S.callback;if(typeof Vt=="function"){S.callback=null,R=S.priorityLevel;var k=Vt(S.expirationTime<=ot);if(ot=n.unstable_now(),typeof k=="function"){S.callback=k,ht(ot),Et=!0;break e}S===e(y)&&s(y),ht(ot)}else s(y);S=e(y)}if(S!==null)Et=!0;else{var Z=e(E);Z!==null&&Qt(lt,Z.startTime-ot),Et=!1}}break t}finally{S=null,R=pt,V=!1}Et=void 0}}finally{Et?D():bt=!1}}}var D;if(typeof Y=="function")D=function(){Y(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$t=U.port2;U.port1.onmessage=F,D=function(){$t.postMessage(null)}}else D=function(){ct(F,0)};function Qt(ot,Et){z=ct(function(){ot(n.unstable_now())},Et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ot){ot.callback=null},n.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ot?Math.floor(1e3/ot):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_next=function(ot){switch(R){case 1:case 2:case 3:var Et=3;break;default:Et=R}var pt=R;R=Et;try{return ot()}finally{R=pt}},n.unstable_requestPaint=function(){X=!0},n.unstable_runWithPriority=function(ot,Et){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var pt=R;R=ot;try{return Et()}finally{R=pt}},n.unstable_scheduleCallback=function(ot,Et,pt){var Vt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Vt+pt:Vt):pt=Vt,ot){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pt+k,ot={id:T++,callback:Et,priorityLevel:ot,startTime:pt,expirationTime:k,sortIndex:-1},pt>Vt?(ot.sortIndex=pt,t(E,ot),e(y)===null&&ot===e(E)&&($?(Q(z),z=-1):$=!0,Qt(lt,pt-Vt))):(ot.sortIndex=k,t(y,ot),K||V||(K=!0,bt||(bt=!0,D()))),ot},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(ot){var Et=R;return function(){var pt=R;R=Et;try{return ot.apply(this,arguments)}finally{R=pt}}}})(sg)),sg}var db;function xR(){return db||(db=1,ig.exports=wR()),ig.exports}var rg={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function SR(){if(mb)return jn;mb=1;var n=Oy();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,E,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:E,implementation:T}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jn.createPortal=function(y,E){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return u(y,E,null,T)},jn.flushSync=function(y){var E=f.T,T=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=E,s.p=T,s.d.f()}},jn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(y,E))},jn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},jn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var T=E.as,S=g(T,E.crossOrigin),R=typeof E.integrity=="string"?E.integrity:void 0,V=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;T==="style"?s.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:V}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:R,fetchPriority:V,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},jn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var T=g(E.as,E.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(y)},jn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var T=E.as,S=g(T,E.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},jn.preloadModule=function(y,E){if(typeof y=="string")if(E){var T=g(E.as,E.crossOrigin);s.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(y)},jn.requestFormReset=function(y){s.d.r(y)},jn.unstable_batchedUpdates=function(y,E){return y(E)},jn.useFormState=function(y,E,T){return f.H.useFormState(y,E,T)},jn.useFormStatus=function(){return f.H.useHostTransitionStatus()},jn.version="19.1.1",jn}var pb;function T1(){if(pb)return rg.exports;pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rg.exports=SR(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function AR(){if(gb)return jc;gb=1;var n=xR(),t=Oy(),e=T1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(u(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return g(p),i;if(v===h)return g(p),r;v=v.sibling}throw Error(s(188))}if(l.return!==h.return)l=p,h=v;else{for(var C=!1,N=p.child;N;){if(N===l){C=!0,l=p,h=v;break}if(N===h){C=!0,h=p,l=v;break}N=N.sibling}if(!C){for(N=v.child;N;){if(N===l){C=!0,l=v,h=p;break}if(N===h){C=!0,h=v,l=p;break}N=N.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function E(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=E(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function $t(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case X:return"Profiler";case $:return"StrictMode";case lt:return"Suspense";case bt:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case Q:return(i._context.displayName||"Context")+".Consumer";case ht:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return r=i.displayName||null,r!==null?r:$t(i.type)||"Memo";case M:r=i._payload,i=i._init;try{return $t(i(r))}catch{}}return null}var Qt=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Vt=[],k=-1;function Z(i){return{current:i}}function H(i){0>k||(i.current=Vt[k],Vt[k]=null,k--)}function dt(i,r){k++,Vt[k]=i.current,i.current=r}var Tt=Z(null),St=Z(null),wt=Z(null),xe=Z(null);function ne(i,r){switch(dt(wt,r),dt(St,i),dt(Tt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?zE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=zE(r),i=UE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(Tt),dt(Tt,i)}function ui(){H(Tt),H(St),H(wt)}function Er(i){i.memoizedState!==null&&dt(xe,i);var r=Tt.current,l=UE(r,i.type);r!==l&&(dt(St,i),dt(Tt,l))}function Hs(i){St.current===i&&(H(Tt),H(St)),xe.current===i&&(H(xe),kc._currentValue=pt)}var Ki=Object.prototype.hasOwnProperty,vs=n.unstable_scheduleCallback,oa=n.unstable_cancelCallback,Rl=n.unstable_shouldYield,la=n.unstable_requestPaint,gn=n.unstable_now,br=n.unstable_getCurrentPriorityLevel,Ke=n.unstable_ImmediatePriority,Ye=n.unstable_UserBlockingPriority,Ai=n.unstable_NormalPriority,Il=n.unstable_LowPriority,ua=n.unstable_IdlePriority,Ju=n.log,Tr=n.unstable_setDisableYieldValue,Yi=null,un=null;function Kn(i){if(typeof Ju=="function"&&Tr(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Yi,i)}catch{}}var In=Math.clz32?Math.clz32:Pl,Nl=Math.log,Ao=Math.LN2;function Pl(i){return i>>>=0,i===0?32:31-(Nl(i)/Ao|0)|0}var Ci=256,$i=4194304;function ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function hi(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var N=h&134217727;return N!==0?(h=N&~v,h!==0?p=ci(h):(C&=N,C!==0?p=ci(C):l||(l=N&~i,l!==0&&(p=ci(l))))):(N=h&~v,N!==0?p=ci(N):C!==0?p=ci(C):l||(l=h&~i,l!==0&&(p=ci(l)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:p}function fi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ca(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var i=Ci;return Ci<<=1,(Ci&4194048)===0&&(Ci=256),i}function Es(){var i=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),i}function wr(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Me(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ml(i,r,l,h,p,v){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var N=i.entanglements,j=i.expirationTimes,it=i.hiddenUpdates;for(l=C&~l;0<l;){var ft=31-In(l),yt=1<<ft;N[ft]=0,j[ft]=-1;var st=it[ft];if(st!==null)for(it[ft]=null,ft=0;ft<st.length;ft++){var at=st[ft];at!==null&&(at.lane&=-536870913)}l&=~yt}h!==0&&qs(i,h,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function qs(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-In(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Gs(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-In(l),p=1<<h;p&r|i[h]&r&&(i[h]|=r),l&=~p}}function Ro(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Io(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bs(){var i=Et.p;return i!==0?i:(i=window.event,i===void 0?32:sb(i.type))}function No(i,r){var l=Et.p;try{return Et.p=i,r()}finally{Et.p=l}}var Wi=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Wi,cn="__reactProps$"+Wi,Ts="__reactContainer$"+Wi,yn="__reactEvents$"+Wi,Mt="__reactListeners$"+Wi,Dl="__reactHandles$"+Wi,di="__reactResources$"+Wi,ws="__reactMarker$"+Wi;function xr(i){delete i[Ve],delete i[cn],delete i[yn],delete i[Mt],delete i[Dl]}function mi(i){var r=i[Ve];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ts]||l[Ve]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=HE(i);i!==null;){if(l=i[Ve])return l;i=HE(i)}return r}i=l,l=i.parentNode}return null}function Ri(i){if(i=i[Ve]||i[Ts]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Yn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function xs(i){var r=i[di];return r||(r=i[di]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ze(i){i[ws]=!0}var Ll=new Set,Sr={};function Xi(i,r){Ii(i,r),Ii(i+"Capture",r)}function Ii(i,r){for(Sr[i]=r,i=0;i<r.length;i++)Ll.add(r[i])}var Ar=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$n={},ha={};function tc(i){return Ki.call(ha,i)?!0:Ki.call($n,i)?!1:Ar.test(i)?ha[i]=!0:($n[i]=!0,!1)}function Cr(i,r,l){if(tc(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Rr(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function pi(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var Ss,Qi;function Ji(i){if(Ss===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",Qi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+i+Qi}var Ir=!1;function ts(i,r){if(!i||Ir)return"";Ir=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(at){var st=at}Reflect.construct(i,[],yt)}else{try{yt.call()}catch(at){st=at}i.call(yt.prototype)}}else{try{throw Error()}catch(at){st=at}(yt=i())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(at){if(at&&st&&typeof at.stack=="string")return[at.stack,st.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],N=v[1];if(C&&N){var j=C.split(`
`),it=N.split(`
`);for(p=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;p<it.length&&!it[p].includes("DetermineComponentFrameRoot");)p++;if(h===j.length||p===it.length)for(h=j.length-1,p=it.length-1;1<=h&&0<=p&&j[h]!==it[p];)p--;for(;1<=h&&0<=p;h--,p--)if(j[h]!==it[p]){if(h!==1||p!==1)do if(h--,p--,0>p||j[h]!==it[p]){var ft=`
`+j[h].replace(" at new "," at ");return i.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",i.displayName)),ft}while(1<=h&&0<=p);break}}}finally{Ir=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ji(l):""}function re(i){switch(i.tag){case 26:case 27:case 5:return Ji(i.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return ts(i.type,!1);case 11:return ts(i.type.render,!1);case 1:return ts(i.type,!0);case 31:return Ji("Activity");default:return""}}function ue(i){try{var r="";do r+=re(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ee(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wn(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gi(i){var r=Wn(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function es(i){i._valueTracker||(i._valueTracker=gi(i))}function It(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=Wn(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function ge(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var As=/[\n"\\]/g;function Ue(i){return i.replace(As,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,l,h,p,v,C,N){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ee(r)):i.value!==""+Ee(r)&&(i.value=""+Ee(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Zs(i,C,Ee(r)):l!=null?Zs(i,C,Ee(l)):h!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+Ee(N):i.removeAttribute("name")}function Po(i,r,l,h,p,v,C,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;l=l!=null?""+Ee(l):"",r=r!=null?""+Ee(r):l,N||r===i.value||(i.value=r),i.defaultValue=r}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=N?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Zs(i,r,l){r==="number"&&ge(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Vn(i,r,l,h){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ee(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Ie(i,r,l){if(r!=null&&(r=""+Ee(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Ee(l):""}function ns(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Qt(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Ee(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function vn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Xn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nr(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Xn.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Cs(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in r)h=r[p],r.hasOwnProperty(p)&&l[p]!==h&&Nr(i,p,h)}else for(var v in r)r.hasOwnProperty(v)&&Nr(i,v,r[v])}function Ks(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(i){return Pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mr=null;function Ys(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,hn=null;function Ol(i){var r=Ri(i);if(r&&(i=r.stateNode)){var l=i[cn]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ue(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var p=h[cn]||null;if(!p)throw Error(s(90));_n(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&It(h)}break t;case"textarea":Ie(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Vn(i,!!l.multiple,r,!1)}}}var Ut=!1;function En(i,r,l){if(Ut)return i(r,l);Ut=!0;try{var h=i(r);return h}finally{if(Ut=!1,(Rs!==null||hn!==null)&&(Rf(),Rs&&(r=Rs,i=hn,hn=Rs=null,Ol(r),i)))for(r=0;r<i.length;r++)Ol(i[r])}}function ce(i,r){var l=i.stateNode;if(l===null)return null;var h=l[cn]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(bn)try{var is={};Object.defineProperty(is,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Ni=!1}var zn=null,he=null,$s=null;function Ws(){if($s)return $s;var i,r=he,l=r.length,h,p="value"in zn?zn.value:zn.textContent,v=p.length;for(i=0;i<l&&r[i]===p[i];i++);var C=l-i;for(h=1;h<=C&&r[l-h]===p[v-h];h++);return $s=p.slice(i,1<h?1-h:void 0)}function Ne(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Jn(){return!0}function da(){return!1}function qe(i){function r(l,h,p,v,C){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Jn:da,this.isPropagationStopped=da,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),r}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=qe(Tn),Is=T({},Tn,{view:0,detail:0}),Dr=qe(Is),Lr,Wt,ss,fn=T({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(Lr=i.screenX-ss.screenX,Wt=i.screenY-ss.screenY):Wt=Lr=0,ss=i),Lr)},movementY:function(i){return"movementY"in i?i.movementY:Wt}}),Pi=qe(fn),kl=T({},fn,{dataTransfer:0}),Vl=qe(kl),Ns=T({},Is,{relatedTarget:0}),ma=qe(Ns),Mo=T({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=qe(Mo),Lo=T({},Tn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pa=qe(Lo),ga=T({},Tn,{data:0}),Un=qe(ga),zl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Mi[i])?!!r[i]:!1}function Or(){return Oo}var ya=T({},Is,{key:function(i){if(i.key){var r=zl[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ne(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(i){return i.type==="keypress"?Ne(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ne(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_a=qe(ya),wn=T({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=qe(wn),Ul=T({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Qs=qe(Ul),d=T({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qe(d),A=T({},fn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),P=qe(A),et=T({},Tn,{newState:0,oldState:0}),rt=qe(et),xt=[9,13,27,32],Bt=bn&&"CompositionEvent"in window,te=null;bn&&"documentMode"in document&&(te=document.documentMode);var me=bn&&"TextEvent"in window&&!te,De=bn&&(!Bt||te&&8<te&&11>=te),ti=" ",yi=!1;function ei(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Di(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Li=!1;function Ea(i,r){switch(i){case"compositionend":return Di(r);case"keypress":return r.which!==32?null:(yi=!0,ti);case"textInput":return i=r.data,i===ti&&yi?null:i;default:return null}}function xm(i,r){if(Li)return i==="compositionend"||!Bt&&ei(i,r)?(i=Ws(),$s=he=zn=null,Li=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return De&&r.locale!=="ko"?null:r.data;default:return null}}var Oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Oi[i.type]:r==="textarea"}function Gh(i,r,l,h){Rs?hn?hn.push(h):hn=[h]:Rs=h,r=Lf(r,"onChange"),0<r.length&&(l=new Xs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var ni=null,ko=null;function ba(i){DE(i,0)}function Bl(i){var r=Yn(i);if(It(r))return i}function Ta(i,r){if(i==="change")return r}var ec=!1;if(bn){var wa;if(bn){var nc="oninput"in document;if(!nc){var Ps=document.createElement("div");Ps.setAttribute("oninput","return;"),nc=typeof Ps.oninput=="function"}wa=nc}else wa=!1;ec=wa&&(!document.documentMode||9<document.documentMode)}function Vo(){ni&&(ni.detachEvent("onpropertychange",Zh),ko=ni=null)}function Zh(i){if(i.propertyName==="value"&&Bl(ko)){var r=[];Gh(r,ko,i,Ys(i)),En(ba,r)}}function ic(i,r,l){i==="focusin"?(Vo(),ni=r,ko=l,ni.attachEvent("onpropertychange",Zh)):i==="focusout"&&Vo()}function Sm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bl(ko)}function Ms(i,r){if(i==="click")return Bl(r)}function Am(i,r){if(i==="input"||i==="change")return Bl(r)}function xa(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ii=typeof Object.is=="function"?Object.is:xa;function si(i,r){if(ii(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Ki.call(r,p)||!ii(i[p],r[p]))return!1}return!0}function zo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sc(i,r){var l=zo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=zo(l)}}function jl(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?jl(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Uo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ge(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=ge(i.document)}return r}function Bo(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Fl=bn&&"documentMode"in document&&11>=document.documentMode,ki=null,Sa=null,Vr=null,Hl=!1;function Kh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hl||ki==null||ki!==ge(h)||(h=ki,"selectionStart"in h&&Bo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Vr&&si(Vr,h)||(Vr=h,h=Lf(Sa,"onSelect"),0<h.length&&(r=new Xs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=ki)))}function as(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Aa={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},ql={},Yh={};bn&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Js(i){if(ql[i])return ql[i];if(!Aa[i])return i;var r=Aa[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Yh)return ql[i]=r[l];return i}var $h=Js("animationend"),Vi=Js("animationiteration"),jo=Js("animationstart"),Cm=Js("transitionrun"),Gl=Js("transitionstart"),Rm=Js("transitioncancel"),rc=Js("transitionend"),Wh=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function zi(i,r){Wh.set(i,r),Xi(r,[i])}var Ur=new WeakMap;function ri(i,r){if(typeof i=="object"&&i!==null){var l=Ur.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ue(r)},Ur.set(i,r),r)}return{value:i,source:r,stack:ue(r)}}var ai=[],Ca=0,Ui=0;function Fo(){for(var i=Ca,r=Ui=Ca=0;r<i;){var l=ai[r];ai[r++]=null;var h=ai[r];ai[r++]=null;var p=ai[r];ai[r++]=null;var v=ai[r];if(ai[r++]=null,h!==null&&p!==null){var C=h.pending;C===null?p.next=p:(p.next=C.next,C.next=p),h.pending=p}v!==0&&qo(l,p,v)}}function Ho(i,r,l,h){ai[Ca++]=i,ai[Ca++]=r,ai[Ca++]=l,ai[Ca++]=h,Ui|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Br(i,r,l,h){return Ho(i,r,l,h),tr(i)}function Ra(i,r){return Ho(i,null,null,r),tr(i)}function qo(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&r!==null&&(p=31-In(l),i=v.hiddenUpdates,h=i[p],h===null?i[p]=[r]:h.push(r),r.lane=l|536870912),v):null}function tr(i){if(50<Rc)throw Rc=0,Sp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var jr={};function Xh(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,r,l,h){return new Xh(i,r,l,h)}function Zl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var l=i.alternate;return l===null?(l=oi(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ac(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Go(i,r,l,h,p,v){var C=0;if(h=i,typeof i=="function")Zl(i)&&(C=1);else if(typeof i=="string")C=uR(i,l,Tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case O:return i=oi(31,l,r,p),i.elementType=O,i.lanes=v,i;case K:return er(l.children,p,v,r);case $:C=8,p|=24;break;case X:return i=oi(12,l,r,p|2),i.elementType=X,i.lanes=v,i;case lt:return i=oi(13,l,r,p),i.elementType=lt,i.lanes=v,i;case bt:return i=oi(19,l,r,p),i.elementType=bt,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ct:case Y:C=10;break t;case Q:C=9;break t;case ht:C=11;break t;case z:C=14;break t;case M:C=16,h=null;break t}C=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=oi(C,l,r,p),r.elementType=i,r.type=h,r.lanes=v,r}function er(i,r,l,h){return i=oi(7,i,h,r),i.lanes=l,i}function oc(i,r,l){return i=oi(6,i,null,r),i.lanes=l,i}function Kl(i,r,l){return r=oi(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Fr=[],Ia=0,a=null,c=0,m=[],b=0,x=null,I=1,B="";function J(i,r){Fr[Ia++]=c,Fr[Ia++]=a,a=i,c=r}function ut(i,r,l){m[b++]=I,m[b++]=B,m[b++]=x,x=i;var h=I;i=B;var p=32-In(h)-1;h&=~(1<<p),l+=1;var v=32-In(r)+p;if(30<v){var C=p-p%5;v=(h&(1<<C)-1).toString(32),h>>=C,p-=C,I=1<<32-In(r)+p|l<<p|h,B=v+i}else I=1<<v|l<<p|h,B=i}function vt(i){i.return!==null&&(J(i,1),ut(i,1,0))}function Ct(i){for(;i===a;)a=Fr[--Ia],Fr[Ia]=null,c=Fr[--Ia],Fr[Ia]=null;for(;i===x;)x=m[--b],m[b]=null,B=m[--b],m[b]=null,I=m[--b],m[b]=null}var Pt=null,Lt=null,Zt=!1,Ae=null,Be=!1,xn=Error(s(519));function _i(i){var r=Error(s(418,""));throw Pa(ri(r,i)),xn}function Qh(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Ve]=i,r[cn]=h,l){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(l=0;l<Nc.length;l++)se(Nc[l],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":se("invalid",r),Po(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),es(r);break;case"select":se("invalid",r);break;case"textarea":se("invalid",r),ns(r,h.value,h.defaultValue,h.children),es(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||VE(r.textContent,l)?(h.popover!=null&&(se("beforetoggle",r),se("toggle",r)),h.onScroll!=null&&se("scroll",r),h.onScrollEnd!=null&&se("scrollend",r),h.onClick!=null&&(r.onclick=Of),r=!0):r=!1,r||_i(i)}function Jh(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:Pt=Pt.return}}function Zo(i){if(i!==Pt)return!1;if(!Zt)return Jh(i),Zt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||jp(i.type,i.memoizedProps)),l=!l),l&&Lt&&_i(i),Jh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Lt=ks(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Lt=null}}else r===27?(r=Lt,Za(i.type)?(i=Gp,Gp=null,Lt=i):Lt=r):Lt=Pt?ks(i.stateNode.nextSibling):null;return!0}function Na(){Lt=Pt=null,Zt=!1}function tf(){var i=Ae;return i!==null&&(bi===null?bi=i:bi.push.apply(bi,i),Ae=null),i}function Pa(i){Ae===null?Ae=[i]:Ae.push(i)}var Le=Z(null),ls=null,Ds=null;function nr(i,r,l){dt(Le,r._currentValue),r._currentValue=l}function Ls(i){i._currentValue=Le.current,H(Le)}function Ko(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Yl(i,r,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var C=p.child;v=v.firstContext;t:for(;v!==null;){var N=v;v=p;for(var j=0;j<r.length;j++)if(N.context===r[j]){v.lanes|=l,N=v.alternate,N!==null&&(N.lanes|=l),Ko(v.return,l,i),h||(C=null);break t}v=N.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(s(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),Ko(C,l,i),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===i){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Yo(i,r,l,h){i=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var N=p.type;ii(p.pendingProps.value,C.value)||(i!==null?i.push(N):i=[N])}}else if(p===xe.current){if(C=p.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(kc):i=[kc])}p=p.return}i!==null&&Yl(r,i,l,h),r.flags|=262144}function ef(i){for(i=i.firstContext;i!==null;){if(!ii(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $o(i){ls=i,Ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return wv(ls,i)}function nf(i,r){return ls===null&&$o(i),wv(i,r)}function wv(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ds===null){if(i===null)throw Error(s(308));Ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ds=Ds.next=r;return l}var l2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},u2=n.unstable_scheduleCallback,c2=n.unstable_NormalPriority,dn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new l2,data:new Map,refCount:0}}function lc(i){i.refCount--,i.refCount===0&&u2(c2,function(){i.controller.abort()})}var uc=null,Nm=0,$l=0,Wl=null;function h2(i,r){if(uc===null){var l=uc=[];Nm=0,$l=Mp(),Wl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Nm++,r.then(xv,xv),r}function xv(){if(--Nm===0&&uc!==null){Wl!==null&&(Wl.status="fulfilled");var i=uc;uc=null,$l=0,Wl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function f2(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Sv=ot.S;ot.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&h2(i,r),Sv!==null&&Sv(i,r)};var Wo=Z(null);function Pm(){var i=Wo.current;return i!==null?i:Ce.pooledCache}function sf(i,r){r===null?dt(Wo,Wo.current):dt(Wo,r.pool)}function Av(){var i=Pm();return i===null?null:{parent:dn._currentValue,pool:i}}var cc=Error(s(460)),Cv=Error(s(474)),rf=Error(s(542)),Mm={then:function(){}};function Rv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function af(){}function Iv(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(af,af),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Pv(i),i;default:if(typeof r.status=="string")r.then(af,af);else{if(i=Ce,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=h}},function(h){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Pv(i),i}throw hc=r,cc}}var hc=null;function Nv(){if(hc===null)throw Error(s(459));var i=hc;return hc=null,i}function Pv(i){if(i===cc||i===rf)throw Error(s(483))}var Ma=!1;function Dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Da(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function La(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(_e&2)!==0){var p=h.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),h.pending=r,r=tr(i),qo(i,null,l),r}return Ho(i,h,r,l),tr(i)}function fc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Gs(i,l)}}function Om(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?p=v=r:v=v.next=r}else p=v=r;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var km=!1;function dc(){if(km){var i=Wl;if(i!==null)throw i}}function mc(i,r,l,h){km=!1;var p=i.updateQueue;Ma=!1;var v=p.firstBaseUpdate,C=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var j=N,it=j.next;j.next=null,C===null?v=it:C.next=it,C=j;var ft=i.alternate;ft!==null&&(ft=ft.updateQueue,N=ft.lastBaseUpdate,N!==C&&(N===null?ft.firstBaseUpdate=it:N.next=it,ft.lastBaseUpdate=j))}if(v!==null){var yt=p.baseState;C=0,ft=it=j=null,N=v;do{var st=N.lane&-536870913,at=st!==N.lane;if(at?(fe&st)===st:(h&st)===st){st!==0&&st===$l&&(km=!0),ft!==null&&(ft=ft.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var qt=i,zt=N;st=r;var we=l;switch(zt.tag){case 1:if(qt=zt.payload,typeof qt=="function"){yt=qt.call(we,yt,st);break t}yt=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=zt.payload,st=typeof qt=="function"?qt.call(we,yt,st):qt,st==null)break t;yt=T({},yt,st);break t;case 2:Ma=!0}}st=N.callback,st!==null&&(i.flags|=64,at&&(i.flags|=8192),at=p.callbacks,at===null?p.callbacks=[st]:at.push(st))}else at={lane:st,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ft===null?(it=ft=at,j=yt):ft=ft.next=at,C|=st;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;at=N,N=at.next,at.next=null,p.lastBaseUpdate=at,p.shared.pending=null}}while(!0);ft===null&&(j=yt),p.baseState=j,p.firstBaseUpdate=it,p.lastBaseUpdate=ft,v===null&&(p.shared.lanes=0),Fa|=C,i.lanes=C,i.memoizedState=yt}}function Mv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Dv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Mv(l[i],r)}var Xl=Z(null),of=Z(0);function Lv(i,r){i=$r,dt(of,i),dt(Xl,r),$r=i|r.baseLanes}function Vm(){dt(of,$r),dt(Xl,Xl.current)}function zm(){$r=of.current,H(Xl),H(of)}var Oa=0,Jt=null,be=null,en=null,lf=!1,Ql=!1,Xo=!1,uf=0,pc=0,Jl=null,d2=0;function $e(){throw Error(s(321))}function Um(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!ii(i[l],r[l]))return!1;return!0}function Bm(i,r,l,h,p,v){return Oa=v,Jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ot.H=i===null||i.memoizedState===null?y0:_0,Xo=!1,v=l(h,p),Xo=!1,Ql&&(v=kv(r,l,h,p)),Ov(i),v}function Ov(i){ot.H=pf;var r=be!==null&&be.next!==null;if(Oa=0,en=be=Jt=null,lf=!1,pc=0,Jl=null,r)throw Error(s(300));i===null||Sn||(i=i.dependencies,i!==null&&ef(i)&&(Sn=!0))}function kv(i,r,l,h){Jt=i;var p=0;do{if(Ql&&(Jl=null),pc=0,Ql=!1,25<=p)throw Error(s(301));if(p+=1,en=be=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ot.H=E2,v=r(l,h)}while(Ql);return v}function m2(){var i=ot.H,r=i.useState()[0];return r=typeof r.then=="function"?gc(r):r,i=i.useState()[0],(be!==null?be.memoizedState:null)!==i&&(Jt.flags|=1024),r}function jm(){var i=uf!==0;return uf=0,i}function Fm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Hm(i){if(lf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lf=!1}Oa=0,en=be=Jt=null,Ql=!1,pc=uf=0,Jl=null}function vi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Jt.memoizedState=en=i:en=en.next=i,en}function nn(){if(be===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=be.next;var r=en===null?Jt.memoizedState:en.next;if(r!==null)en=r,be=i;else{if(i===null)throw Jt.alternate===null?Error(s(467)):Error(s(310));be=i,i={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},en===null?Jt.memoizedState=en=i:en=en.next=i}return en}function qm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(i){var r=pc;return pc+=1,Jl===null&&(Jl=[]),i=Iv(Jl,i,r),r=Jt,(en===null?r.memoizedState:en.next)===null&&(r=r.alternate,ot.H=r===null||r.memoizedState===null?y0:_0),i}function cf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gc(i);if(i.$$typeof===Y)return Bn(i)}throw Error(s(438,String(i)))}function Gm(i){var r=null,l=Jt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=qm(),Jt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=q;return r.index++,l}function Hr(i,r){return typeof r=="function"?r(i):r}function hf(i){var r=nn();return Zm(r,be,i)}function Zm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var p=i.baseQueue,v=h.pending;if(v!==null){if(p!==null){var C=p.next;p.next=v.next,v.next=C}r.baseQueue=p=v,h.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{r=p.next;var N=C=null,j=null,it=r,ft=!1;do{var yt=it.lane&-536870913;if(yt!==it.lane?(fe&yt)===yt:(Oa&yt)===yt){var st=it.revertLane;if(st===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),yt===$l&&(ft=!0);else if((Oa&st)===st){it=it.next,st===$l&&(ft=!0);continue}else yt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},j===null?(N=j=yt,C=v):j=j.next=yt,Jt.lanes|=st,Fa|=st;yt=it.action,Xo&&l(v,yt),v=it.hasEagerState?it.eagerState:l(v,yt)}else st={lane:yt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},j===null?(N=j=st,C=v):j=j.next=st,Jt.lanes|=yt,Fa|=yt;it=it.next}while(it!==null&&it!==r);if(j===null?C=v:j.next=N,!ii(v,i.memoizedState)&&(Sn=!0,ft&&(l=Wl,l!==null)))throw l;i.memoizedState=v,i.baseState=C,i.baseQueue=j,h.lastRenderedState=v}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Km(i){var r=nn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,v=r.memoizedState;if(p!==null){l.pending=null;var C=p=p.next;do v=i(v,C.action),C=C.next;while(C!==p);ii(v,r.memoizedState)||(Sn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,h]}function Vv(i,r,l){var h=Jt,p=nn(),v=Zt;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var C=!ii((be||p).memoizedState,l);C&&(p.memoizedState=l,Sn=!0),p=p.queue;var N=Bv.bind(null,h,p,i);if(yc(2048,8,N,[i]),p.getSnapshot!==r||C||en!==null&&en.memoizedState.tag&1){if(h.flags|=2048,tu(9,ff(),Uv.bind(null,h,p,l,r),null),Ce===null)throw Error(s(349));v||(Oa&124)!==0||zv(h,r,l)}return l}function zv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Jt.updateQueue,r===null?(r=qm(),Jt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Uv(i,r,l,h){r.value=l,r.getSnapshot=h,jv(r)&&Fv(i)}function Bv(i,r,l){return l(function(){jv(r)&&Fv(i)})}function jv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!ii(i,l)}catch{return!0}}function Fv(i){var r=Ra(i,2);r!==null&&qi(r,i,2)}function Ym(i){var r=vi();if(typeof i=="function"){var l=i;if(i=l(),Xo){Kn(!0);try{l()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:i},r}function Hv(i,r,l,h){return i.baseState=l,Zm(i,be,typeof h=="function"?h:Hr)}function p2(i,r,l,h,p){if(mf(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};ot.T!==null?l(!0):v.isTransition=!1,h(v),l=r.pending,l===null?(v.next=r.pending=v,qv(r,v)):(v.next=l.next,r.pending=l.next=v)}}function qv(i,r){var l=r.action,h=r.payload,p=i.state;if(r.isTransition){var v=ot.T,C={};ot.T=C;try{var N=l(p,h),j=ot.S;j!==null&&j(C,N),Gv(i,r,N)}catch(it){$m(i,r,it)}finally{ot.T=v}}else try{v=l(p,h),Gv(i,r,v)}catch(it){$m(i,r,it)}}function Gv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Zv(i,r,h)},function(h){return $m(i,r,h)}):Zv(i,r,l)}function Zv(i,r,l){r.status="fulfilled",r.value=l,Kv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,qv(i,l)))}function $m(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Kv(r),r=r.next;while(r!==h)}i.action=null}function Kv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yv(i,r){return r}function $v(i,r){if(Zt){var l=Ce.formState;if(l!==null){t:{var h=Jt;if(Zt){if(Lt){e:{for(var p=Lt,v=Be;p.nodeType!==8;){if(!v){p=null;break e}if(p=ks(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Lt=ks(p.nextSibling),h=p.data==="F!";break t}}_i(h)}h=!1}h&&(r=l[0])}}return l=vi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:r},l.queue=h,l=m0.bind(null,Jt,h),h.dispatch=l,h=Ym(!1),v=tp.bind(null,Jt,!1,h.queue),h=vi(),p={state:r,dispatch:null,action:i,pending:null},h.queue=p,l=p2.bind(null,Jt,p,v,l),p.dispatch=l,h.memoizedState=i,[r,l,!1]}function Wv(i){var r=nn();return Xv(r,be,i)}function Xv(i,r,l){if(r=Zm(i,r,Yv)[0],i=hf(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=gc(r)}catch(C){throw C===cc?rf:C}else h=r;r=nn();var p=r.queue,v=p.dispatch;return l!==r.memoizedState&&(Jt.flags|=2048,tu(9,ff(),g2.bind(null,p,l),null)),[h,v,i]}function g2(i,r){i.action=r}function Qv(i){var r=nn(),l=be;if(l!==null)return Xv(r,l,i);nn(),r=r.memoizedState,l=nn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function tu(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Jt.updateQueue,r===null&&(r=qm(),Jt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function ff(){return{destroy:void 0,resource:void 0}}function Jv(){return nn().memoizedState}function df(i,r,l,h){var p=vi();h=h===void 0?null:h,Jt.flags|=i,p.memoizedState=tu(1|r,ff(),l,h)}function yc(i,r,l,h){var p=nn();h=h===void 0?null:h;var v=p.memoizedState.inst;be!==null&&h!==null&&Um(h,be.memoizedState.deps)?p.memoizedState=tu(r,v,l,h):(Jt.flags|=i,p.memoizedState=tu(1|r,v,l,h))}function t0(i,r){df(8390656,8,i,r)}function e0(i,r){yc(2048,8,i,r)}function n0(i,r){return yc(4,2,i,r)}function i0(i,r){return yc(4,4,i,r)}function s0(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function r0(i,r,l){l=l!=null?l.concat([i]):null,yc(4,4,s0.bind(null,r,i),l)}function Wm(){}function a0(i,r){var l=nn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Um(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function o0(i,r){var l=nn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Um(r,h[1]))return h[0];if(h=i(),Xo){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[h,r],h}function Xm(i,r,l){return l===void 0||(Oa&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=cE(),Jt.lanes|=i,Fa|=i,l)}function l0(i,r,l,h){return ii(l,r)?l:Xl.current!==null?(i=Xm(i,l,h),ii(i,r)||(Sn=!0),i):(Oa&42)===0?(Sn=!0,i.memoizedState=l):(i=cE(),Jt.lanes|=i,Fa|=i,r)}function u0(i,r,l,h,p){var v=Et.p;Et.p=v!==0&&8>v?v:8;var C=ot.T,N={};ot.T=N,tp(i,!1,r,l);try{var j=p(),it=ot.S;if(it!==null&&it(N,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ft=f2(j,h);_c(i,r,ft,Hi(i))}else _c(i,r,h,Hi(i))}catch(yt){_c(i,r,{then:function(){},status:"rejected",reason:yt},Hi())}finally{Et.p=v,ot.T=C}}function y2(){}function Qm(i,r,l,h){if(i.tag!==5)throw Error(s(476));var p=c0(i).queue;u0(i,p,r,pt,l===null?y2:function(){return h0(i),l(h)})}function c0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:pt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function h0(i){var r=c0(i).next.queue;_c(i,r,{},Hi())}function Jm(){return Bn(kc)}function f0(){return nn().memoizedState}function d0(){return nn().memoizedState}function _2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=Hi();i=Da(l);var h=La(r,i,l);h!==null&&(qi(h,r,l),fc(h,r,l)),r={cache:Im()},i.payload=r;return}r=r.return}}function v2(i,r,l){var h=Hi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mf(i)?p0(r,l):(l=Br(i,r,l,h),l!==null&&(qi(l,i,h),g0(l,r,h)))}function m0(i,r,l){var h=Hi();_c(i,r,l,h)}function _c(i,r,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mf(i))p0(r,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,N=v(C,l);if(p.hasEagerState=!0,p.eagerState=N,ii(N,C))return Ho(i,r,p,0),Ce===null&&Fo(),!1}catch{}finally{}if(l=Br(i,r,p,h),l!==null)return qi(l,i,h),g0(l,r,h),!0}return!1}function tp(i,r,l,h){if(h={lane:2,revertLane:Mp(),action:h,hasEagerState:!1,eagerState:null,next:null},mf(i)){if(r)throw Error(s(479))}else r=Br(i,l,h,2),r!==null&&qi(r,i,2)}function mf(i){var r=i.alternate;return i===Jt||r!==null&&r===Jt}function p0(i,r){Ql=lf=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function g0(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Gs(i,l)}}var pf={readContext:Bn,use:cf,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},y0={readContext:Bn,use:cf,useCallback:function(i,r){return vi().memoizedState=[i,r===void 0?null:r],i},useContext:Bn,useEffect:t0,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,df(4194308,4,s0.bind(null,r,i),l)},useLayoutEffect:function(i,r){return df(4194308,4,i,r)},useInsertionEffect:function(i,r){df(4,2,i,r)},useMemo:function(i,r){var l=vi();r=r===void 0?null:r;var h=i();if(Xo){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=vi();if(l!==void 0){var p=l(r);if(Xo){Kn(!0);try{l(r)}finally{Kn(!1)}}}else p=r;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=v2.bind(null,Jt,i),[h.memoizedState,i]},useRef:function(i){var r=vi();return i={current:i},r.memoizedState=i},useState:function(i){i=Ym(i);var r=i.queue,l=m0.bind(null,Jt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Wm,useDeferredValue:function(i,r){var l=vi();return Xm(l,i,r)},useTransition:function(){var i=Ym(!1);return i=u0.bind(null,Jt,i.queue,!0,!1),vi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Jt,p=vi();if(Zt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ce===null)throw Error(s(349));(fe&124)!==0||zv(h,r,l)}p.memoizedState=l;var v={value:l,getSnapshot:r};return p.queue=v,t0(Bv.bind(null,h,v,i),[i]),h.flags|=2048,tu(9,ff(),Uv.bind(null,h,v,l,r),null),l},useId:function(){var i=vi(),r=Ce.identifierPrefix;if(Zt){var l=B,h=I;l=(h&~(1<<32-In(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=uf++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=d2++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Jm,useFormState:$v,useActionState:$v,useOptimistic:function(i){var r=vi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=tp.bind(null,Jt,!0,l),l.dispatch=r,[i,r]},useMemoCache:Gm,useCacheRefresh:function(){return vi().memoizedState=_2.bind(null,Jt)}},_0={readContext:Bn,use:cf,useCallback:a0,useContext:Bn,useEffect:e0,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:o0,useReducer:hf,useRef:Jv,useState:function(){return hf(Hr)},useDebugValue:Wm,useDeferredValue:function(i,r){var l=nn();return l0(l,be.memoizedState,i,r)},useTransition:function(){var i=hf(Hr)[0],r=nn().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:Vv,useId:f0,useHostTransitionStatus:Jm,useFormState:Wv,useActionState:Wv,useOptimistic:function(i,r){var l=nn();return Hv(l,be,i,r)},useMemoCache:Gm,useCacheRefresh:d0},E2={readContext:Bn,use:cf,useCallback:a0,useContext:Bn,useEffect:e0,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:o0,useReducer:Km,useRef:Jv,useState:function(){return Km(Hr)},useDebugValue:Wm,useDeferredValue:function(i,r){var l=nn();return be===null?Xm(l,i,r):l0(l,be.memoizedState,i,r)},useTransition:function(){var i=Km(Hr)[0],r=nn().memoizedState;return[typeof i=="boolean"?i:gc(i),r]},useSyncExternalStore:Vv,useId:f0,useHostTransitionStatus:Jm,useFormState:Qv,useActionState:Qv,useOptimistic:function(i,r){var l=nn();return be!==null?Hv(l,be,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:d0},eu=null,vc=0;function gf(i){var r=vc;return vc+=1,eu===null&&(eu=[]),Iv(eu,i,r)}function Ec(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function yf(i,r){throw r.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function v0(i){var r=i._init;return r(i._payload)}function E0(i){function r(W,G){if(i){var nt=W.deletions;nt===null?(W.deletions=[G],W.flags|=16):nt.push(G)}}function l(W,G){if(!i)return null;for(;G!==null;)r(W,G),G=G.sibling;return null}function h(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function p(W,G){return W=os(W,G),W.index=0,W.sibling=null,W}function v(W,G,nt){return W.index=nt,i?(nt=W.alternate,nt!==null?(nt=nt.index,nt<G?(W.flags|=67108866,G):nt):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function C(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function N(W,G,nt,mt){return G===null||G.tag!==6?(G=oc(nt,W.mode,mt),G.return=W,G):(G=p(G,nt),G.return=W,G)}function j(W,G,nt,mt){var Dt=nt.type;return Dt===K?ft(W,G,nt.props.children,mt,nt.key):G!==null&&(G.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&v0(Dt)===G.type)?(G=p(G,nt.props),Ec(G,nt),G.return=W,G):(G=Go(nt.type,nt.key,nt.props,null,W.mode,mt),Ec(G,nt),G.return=W,G)}function it(W,G,nt,mt){return G===null||G.tag!==4||G.stateNode.containerInfo!==nt.containerInfo||G.stateNode.implementation!==nt.implementation?(G=Kl(nt,W.mode,mt),G.return=W,G):(G=p(G,nt.children||[]),G.return=W,G)}function ft(W,G,nt,mt,Dt){return G===null||G.tag!==7?(G=er(nt,W.mode,mt,Dt),G.return=W,G):(G=p(G,nt),G.return=W,G)}function yt(W,G,nt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=oc(""+G,W.mode,nt),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return nt=Go(G.type,G.key,G.props,null,W.mode,nt),Ec(nt,G),nt.return=W,nt;case V:return G=Kl(G,W.mode,nt),G.return=W,G;case M:var mt=G._init;return G=mt(G._payload),yt(W,G,nt)}if(Qt(G)||D(G))return G=er(G,W.mode,nt,null),G.return=W,G;if(typeof G.then=="function")return yt(W,gf(G),nt);if(G.$$typeof===Y)return yt(W,nf(W,G),nt);yf(W,G)}return null}function st(W,G,nt,mt){var Dt=G!==null?G.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Dt!==null?null:N(W,G,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case R:return nt.key===Dt?j(W,G,nt,mt):null;case V:return nt.key===Dt?it(W,G,nt,mt):null;case M:return Dt=nt._init,nt=Dt(nt._payload),st(W,G,nt,mt)}if(Qt(nt)||D(nt))return Dt!==null?null:ft(W,G,nt,mt,null);if(typeof nt.then=="function")return st(W,G,gf(nt),mt);if(nt.$$typeof===Y)return st(W,G,nf(W,nt),mt);yf(W,nt)}return null}function at(W,G,nt,mt,Dt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return W=W.get(nt)||null,N(G,W,""+mt,Dt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case R:return W=W.get(mt.key===null?nt:mt.key)||null,j(G,W,mt,Dt);case V:return W=W.get(mt.key===null?nt:mt.key)||null,it(G,W,mt,Dt);case M:var ee=mt._init;return mt=ee(mt._payload),at(W,G,nt,mt,Dt)}if(Qt(mt)||D(mt))return W=W.get(nt)||null,ft(G,W,mt,Dt,null);if(typeof mt.then=="function")return at(W,G,nt,gf(mt),Dt);if(mt.$$typeof===Y)return at(W,G,nt,nf(G,mt),Dt);yf(G,mt)}return null}function qt(W,G,nt,mt){for(var Dt=null,ee=null,Ot=G,jt=G=0,Cn=null;Ot!==null&&jt<nt.length;jt++){Ot.index>jt?(Cn=Ot,Ot=null):Cn=Ot.sibling;var pe=st(W,Ot,nt[jt],mt);if(pe===null){Ot===null&&(Ot=Cn);break}i&&Ot&&pe.alternate===null&&r(W,Ot),G=v(pe,G,jt),ee===null?Dt=pe:ee.sibling=pe,ee=pe,Ot=Cn}if(jt===nt.length)return l(W,Ot),Zt&&J(W,jt),Dt;if(Ot===null){for(;jt<nt.length;jt++)Ot=yt(W,nt[jt],mt),Ot!==null&&(G=v(Ot,G,jt),ee===null?Dt=Ot:ee.sibling=Ot,ee=Ot);return Zt&&J(W,jt),Dt}for(Ot=h(Ot);jt<nt.length;jt++)Cn=at(Ot,W,jt,nt[jt],mt),Cn!==null&&(i&&Cn.alternate!==null&&Ot.delete(Cn.key===null?jt:Cn.key),G=v(Cn,G,jt),ee===null?Dt=Cn:ee.sibling=Cn,ee=Cn);return i&&Ot.forEach(function(Xa){return r(W,Xa)}),Zt&&J(W,jt),Dt}function zt(W,G,nt,mt){if(nt==null)throw Error(s(151));for(var Dt=null,ee=null,Ot=G,jt=G=0,Cn=null,pe=nt.next();Ot!==null&&!pe.done;jt++,pe=nt.next()){Ot.index>jt?(Cn=Ot,Ot=null):Cn=Ot.sibling;var Xa=st(W,Ot,pe.value,mt);if(Xa===null){Ot===null&&(Ot=Cn);break}i&&Ot&&Xa.alternate===null&&r(W,Ot),G=v(Xa,G,jt),ee===null?Dt=Xa:ee.sibling=Xa,ee=Xa,Ot=Cn}if(pe.done)return l(W,Ot),Zt&&J(W,jt),Dt;if(Ot===null){for(;!pe.done;jt++,pe=nt.next())pe=yt(W,pe.value,mt),pe!==null&&(G=v(pe,G,jt),ee===null?Dt=pe:ee.sibling=pe,ee=pe);return Zt&&J(W,jt),Dt}for(Ot=h(Ot);!pe.done;jt++,pe=nt.next())pe=at(Ot,W,jt,pe.value,mt),pe!==null&&(i&&pe.alternate!==null&&Ot.delete(pe.key===null?jt:pe.key),G=v(pe,G,jt),ee===null?Dt=pe:ee.sibling=pe,ee=pe);return i&&Ot.forEach(function(bR){return r(W,bR)}),Zt&&J(W,jt),Dt}function we(W,G,nt,mt){if(typeof nt=="object"&&nt!==null&&nt.type===K&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case R:t:{for(var Dt=nt.key;G!==null;){if(G.key===Dt){if(Dt=nt.type,Dt===K){if(G.tag===7){l(W,G.sibling),mt=p(G,nt.props.children),mt.return=W,W=mt;break t}}else if(G.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===M&&v0(Dt)===G.type){l(W,G.sibling),mt=p(G,nt.props),Ec(mt,nt),mt.return=W,W=mt;break t}l(W,G);break}else r(W,G);G=G.sibling}nt.type===K?(mt=er(nt.props.children,W.mode,mt,nt.key),mt.return=W,W=mt):(mt=Go(nt.type,nt.key,nt.props,null,W.mode,mt),Ec(mt,nt),mt.return=W,W=mt)}return C(W);case V:t:{for(Dt=nt.key;G!==null;){if(G.key===Dt)if(G.tag===4&&G.stateNode.containerInfo===nt.containerInfo&&G.stateNode.implementation===nt.implementation){l(W,G.sibling),mt=p(G,nt.children||[]),mt.return=W,W=mt;break t}else{l(W,G);break}else r(W,G);G=G.sibling}mt=Kl(nt,W.mode,mt),mt.return=W,W=mt}return C(W);case M:return Dt=nt._init,nt=Dt(nt._payload),we(W,G,nt,mt)}if(Qt(nt))return qt(W,G,nt,mt);if(D(nt)){if(Dt=D(nt),typeof Dt!="function")throw Error(s(150));return nt=Dt.call(nt),zt(W,G,nt,mt)}if(typeof nt.then=="function")return we(W,G,gf(nt),mt);if(nt.$$typeof===Y)return we(W,G,nf(W,nt),mt);yf(W,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,G!==null&&G.tag===6?(l(W,G.sibling),mt=p(G,nt),mt.return=W,W=mt):(l(W,G),mt=oc(nt,W.mode,mt),mt.return=W,W=mt),C(W)):l(W,G)}return function(W,G,nt,mt){try{vc=0;var Dt=we(W,G,nt,mt);return eu=null,Dt}catch(Ot){if(Ot===cc||Ot===rf)throw Ot;var ee=oi(29,Ot,null,W.mode);return ee.lanes=mt,ee.return=W,ee}finally{}}}var nu=E0(!0),b0=E0(!1),us=Z(null),ir=null;function ka(i){var r=i.alternate;dt(mn,mn.current&1),dt(us,i),ir===null&&(r===null||Xl.current!==null||r.memoizedState!==null)&&(ir=i)}function T0(i){if(i.tag===22){if(dt(mn,mn.current),dt(us,i),ir===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(ir=i)}}else Va()}function Va(){dt(mn,mn.current),dt(us,us.current)}function qr(i){H(us),ir===i&&(ir=null),H(mn)}var mn=Z(0);function _f(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qp(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ep(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:T({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var np={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=Hi(),p=Da(h);p.payload=r,l!=null&&(p.callback=l),r=La(i,p,h),r!==null&&(qi(r,i,h),fc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=Hi(),p=Da(h);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=La(i,p,h),r!==null&&(qi(r,i,h),fc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=Hi(),h=Da(l);h.tag=2,r!=null&&(h.callback=r),r=La(i,h,l),r!==null&&(qi(r,i,l),fc(r,i,l))}};function w0(i,r,l,h,p,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):r.prototype&&r.prototype.isPureReactComponent?!si(l,h)||!si(p,v):!0}function x0(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&np.enqueueReplaceState(r,r.state,null)}function Qo(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=T({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var vf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function S0(i){vf(i)}function A0(i){console.error(i)}function C0(i){vf(i)}function Ef(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function R0(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ip(i,r,l){return l=Da(l),l.tag=3,l.payload={element:null},l.callback=function(){Ef(i,r)},l}function I0(i){return i=Da(i),i.tag=3,i}function N0(i,r,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=h.value;i.payload=function(){return p(v)},i.callback=function(){R0(r,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){R0(r,l,h),typeof p!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function b2(i,r,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Yo(r,l,p,!0),l=us.current,l!==null){switch(l.tag){case 13:return ir===null?Cp():l.alternate===null&&Ge===0&&(Ge=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Mm?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Ip(i,h,p)),!1;case 22:return l.flags|=65536,h===Mm?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Ip(i,h,p)),!1}throw Error(s(435,l.tag))}return Ip(i,h,p),Cp(),!1}if(Zt)return r=us.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,h!==xn&&(i=Error(s(422),{cause:h}),Pa(ri(i,l)))):(h!==xn&&(r=Error(s(423),{cause:h}),Pa(ri(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=ri(h,l),p=ip(i.stateNode,h,p),Om(i,p),Ge!==4&&(Ge=2)),!1;var v=Error(s(520),{cause:h});if(v=ri(v,l),Cc===null?Cc=[v]:Cc.push(v),Ge!==4&&(Ge=2),r===null)return!0;h=ri(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ip(l.stateNode,h,i),Om(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ha===null||!Ha.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=I0(p),N0(p,i,l,h),Om(l,p),!1}l=l.return}while(l!==null);return!1}var P0=Error(s(461)),Sn=!1;function Nn(i,r,l,h){r.child=i===null?b0(r,null,l,h):nu(r,i.child,l,h)}function M0(i,r,l,h,p){l=l.render;var v=r.ref;if("ref"in h){var C={};for(var N in h)N!=="ref"&&(C[N]=h[N])}else C=h;return $o(r),h=Bm(i,r,l,C,v,p),N=jm(),i!==null&&!Sn?(Fm(i,r,p),Gr(i,r,p)):(Zt&&N&&vt(r),r.flags|=1,Nn(i,r,h,p),r.child)}function D0(i,r,l,h,p){if(i===null){var v=l.type;return typeof v=="function"&&!Zl(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,L0(i,r,v,h,p)):(i=Go(l.type,null,h,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!hp(i,p)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:si,l(C,h)&&i.ref===r.ref)return Gr(i,r,p)}return r.flags|=1,i=os(v,h),i.ref=r.ref,i.return=r,r.child=i}function L0(i,r,l,h,p){if(i!==null){var v=i.memoizedProps;if(si(v,h)&&i.ref===r.ref)if(Sn=!1,r.pendingProps=h=v,hp(i,p))(i.flags&131072)!==0&&(Sn=!0);else return r.lanes=i.lanes,Gr(i,r,p)}return sp(i,r,l,h,p)}function O0(i,r,l){var h=r.pendingProps,p=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|l:l,i!==null){for(p=r.child=i.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return k0(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&sf(r,v!==null?v.cachePool:null),v!==null?Lv(r,v):Vm(),T0(r);else return r.lanes=r.childLanes=536870912,k0(i,r,v!==null?v.baseLanes|l:l,l)}else v!==null?(sf(r,v.cachePool),Lv(r,v),Va(),r.memoizedState=null):(i!==null&&sf(r,null),Vm(),Va());return Nn(i,r,p,l),r.child}function k0(i,r,l,h){var p=Pm();return p=p===null?null:{parent:dn._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},i!==null&&sf(r,null),Vm(),T0(r),i!==null&&Yo(i,r,h,!0),null}function bf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function sp(i,r,l,h,p){return $o(r),l=Bm(i,r,l,h,void 0,p),h=jm(),i!==null&&!Sn?(Fm(i,r,p),Gr(i,r,p)):(Zt&&h&&vt(r),r.flags|=1,Nn(i,r,l,p),r.child)}function V0(i,r,l,h,p,v){return $o(r),r.updateQueue=null,l=kv(r,h,l,p),Ov(i),h=jm(),i!==null&&!Sn?(Fm(i,r,v),Gr(i,r,v)):(Zt&&h&&vt(r),r.flags|=1,Nn(i,r,l,v),r.child)}function z0(i,r,l,h,p){if($o(r),r.stateNode===null){var v=jr,C=l.contextType;typeof C=="object"&&C!==null&&(v=Bn(C)),v=new l(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=np,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},Dm(r),C=l.contextType,v.context=typeof C=="object"&&C!==null?Bn(C):jr,v.state=r.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(ep(r,l,C,h),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&np.enqueueReplaceState(v,v.state,null),mc(r,h,v,p),dc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){v=r.stateNode;var N=r.memoizedProps,j=Qo(l,N);v.props=j;var it=v.context,ft=l.contextType;C=jr,typeof ft=="object"&&ft!==null&&(C=Bn(ft));var yt=l.getDerivedStateFromProps;ft=typeof yt=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ft||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||it!==C)&&x0(r,v,h,C),Ma=!1;var st=r.memoizedState;v.state=st,mc(r,h,v,p),dc(),it=r.memoizedState,N||st!==it||Ma?(typeof yt=="function"&&(ep(r,l,yt,h),it=r.memoizedState),(j=Ma||w0(r,l,j,h,st,it,C))?(ft||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=it),v.props=h,v.state=it,v.context=C,h=j):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,Lm(i,r),C=r.memoizedProps,ft=Qo(l,C),v.props=ft,yt=r.pendingProps,st=v.context,it=l.contextType,j=jr,typeof it=="object"&&it!==null&&(j=Bn(it)),N=l.getDerivedStateFromProps,(it=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==yt||st!==j)&&x0(r,v,h,j),Ma=!1,st=r.memoizedState,v.state=st,mc(r,h,v,p),dc();var at=r.memoizedState;C!==yt||st!==at||Ma||i!==null&&i.dependencies!==null&&ef(i.dependencies)?(typeof N=="function"&&(ep(r,l,N,h),at=r.memoizedState),(ft=Ma||w0(r,l,ft,h,st,at,j)||i!==null&&i.dependencies!==null&&ef(i.dependencies))?(it||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,at,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,at,j)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=at),v.props=h,v.state=at,v.context=j,h=ft):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),h=!1)}return v=h,bf(i,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&h?(r.child=nu(r,i.child,null,p),r.child=nu(r,null,l,p)):Nn(i,r,l,p),r.memoizedState=v.state,i=r.child):i=Gr(i,r,p),i}function U0(i,r,l,h){return Na(),r.flags|=256,Nn(i,r,l,h),r.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(i){return{baseLanes:i,cachePool:Av()}}function op(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=cs),i}function B0(i,r,l){var h=r.pendingProps,p=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(mn.current&2)!==0),C&&(p=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Zt){if(p?ka(r):Va(),Zt){var N=Lt,j;if(j=N){t:{for(j=N,N=Be;j.nodeType!==8;){if(!N){N=null;break t}if(j=ks(j.nextSibling),j===null){N=null;break t}}N=j}N!==null?(r.memoizedState={dehydrated:N,treeContext:x!==null?{id:I,overflow:B}:null,retryLane:536870912,hydrationErrors:null},j=oi(18,null,null,0),j.stateNode=N,j.return=r,r.child=j,Pt=r,Lt=null,j=!0):j=!1}j||_i(r)}if(N=r.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return qp(N)?r.lanes=32:r.lanes=536870912,null;qr(r)}return N=h.children,h=h.fallback,p?(Va(),p=r.mode,N=Tf({mode:"hidden",children:N},p),h=er(h,p,l,null),N.return=r,h.return=r,N.sibling=h,r.child=N,p=r.child,p.memoizedState=ap(l),p.childLanes=op(i,C,l),r.memoizedState=rp,h):(ka(r),lp(r,N))}if(j=i.memoizedState,j!==null&&(N=j.dehydrated,N!==null)){if(v)r.flags&256?(ka(r),r.flags&=-257,r=up(i,r,l)):r.memoizedState!==null?(Va(),r.child=i.child,r.flags|=128,r=null):(Va(),p=h.fallback,N=r.mode,h=Tf({mode:"visible",children:h.children},N),p=er(p,N,l,null),p.flags|=2,h.return=r,p.return=r,h.sibling=p,r.child=h,nu(r,i.child,null,l),h=r.child,h.memoizedState=ap(l),h.childLanes=op(i,C,l),r.memoizedState=rp,r=p);else if(ka(r),qp(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var it=C.dgst;C=it,h=Error(s(419)),h.stack="",h.digest=C,Pa({value:h,source:null,stack:null}),r=up(i,r,l)}else if(Sn||Yo(i,r,l,!1),C=(l&i.childLanes)!==0,Sn||C){if(C=Ce,C!==null&&(h=l&-l,h=(h&42)!==0?1:Ro(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==j.retryLane))throw j.retryLane=h,Ra(i,h),qi(C,i,h),P0;N.data==="$?"||Cp(),r=up(i,r,l)}else N.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,Lt=ks(N.nextSibling),Pt=r,Zt=!0,Ae=null,Be=!1,i!==null&&(m[b++]=I,m[b++]=B,m[b++]=x,I=i.id,B=i.overflow,x=r),r=lp(r,h.children),r.flags|=4096);return r}return p?(Va(),p=h.fallback,N=r.mode,j=i.child,it=j.sibling,h=os(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,it!==null?p=os(it,p):(p=er(p,N,l,null),p.flags|=2),p.return=r,h.return=r,h.sibling=p,r.child=h,h=p,p=r.child,N=i.child.memoizedState,N===null?N=ap(l):(j=N.cachePool,j!==null?(it=dn._currentValue,j=j.parent!==it?{parent:it,pool:it}:j):j=Av(),N={baseLanes:N.baseLanes|l,cachePool:j}),p.memoizedState=N,p.childLanes=op(i,C,l),r.memoizedState=rp,h):(ka(r),l=i.child,i=l.sibling,l=os(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=l,r.memoizedState=null,l)}function lp(i,r){return r=Tf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Tf(i,r){return i=oi(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function up(i,r,l){return nu(r,i.child,null,l),i=lp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function j0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Ko(i.return,r,l)}function cp(i,r,l,h,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function F0(i,r,l){var h=r.pendingProps,p=h.revealOrder,v=h.tail;if(Nn(i,r,h.children,l),h=mn.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&j0(i,l,r);else if(i.tag===19)j0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(dt(mn,h),p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&_f(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),cp(r,!1,p,l,v);break;case"backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&_f(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}cp(r,!0,l,null,v);break;case"together":cp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Fa|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Yo(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=os(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=os(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function hp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ef(i)))}function T2(i,r,l){switch(r.tag){case 3:ne(r,r.stateNode.containerInfo),nr(r,dn,i.memoizedState.cache),Na();break;case 27:case 5:Er(r);break;case 4:ne(r,r.stateNode.containerInfo);break;case 10:nr(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ka(r),r.flags|=128,null):(l&r.child.childLanes)!==0?B0(i,r,l):(ka(r),i=Gr(i,r,l),i!==null?i.sibling:null);ka(r);break;case 19:var p=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Yo(i,r,l,!1),h=(l&r.childLanes)!==0),p){if(h)return F0(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),dt(mn,mn.current),h)break;return null;case 22:case 23:return r.lanes=0,O0(i,r,l);case 24:nr(r,dn,i.memoizedState.cache)}return Gr(i,r,l)}function H0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Sn=!0;else{if(!hp(i,l)&&(r.flags&128)===0)return Sn=!1,T2(i,r,l);Sn=(i.flags&131072)!==0}else Sn=!1,Zt&&(r.flags&1048576)!==0&&ut(r,c,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var h=r.elementType,p=h._init;if(h=p(h._payload),r.type=h,typeof h=="function")Zl(h)?(i=Qo(h,i),r.tag=1,r=z0(null,r,h,i,l)):(r.tag=0,r=sp(null,r,h,i,l));else{if(h!=null){if(p=h.$$typeof,p===ht){r.tag=11,r=M0(null,r,h,i,l);break t}else if(p===z){r.tag=14,r=D0(null,r,h,i,l);break t}}throw r=$t(h)||h,Error(s(306,r,""))}}return r;case 0:return sp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,p=Qo(h,r.pendingProps),z0(i,r,h,p,l);case 3:t:{if(ne(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var v=r.memoizedState;p=v.element,Lm(i,r),mc(r,h,null,l);var C=r.memoizedState;if(h=C.cache,nr(r,dn,h),h!==v.cache&&Yl(r,[dn],l,!0),dc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=U0(i,r,h,l);break t}else if(h!==p){p=ri(Error(s(424)),r),Pa(p),r=U0(i,r,h,l);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=ks(i.firstChild),Pt=r,Zt=!0,Ae=null,Be=!0,l=b0(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Na(),h===p){r=Gr(i,r,l);break t}Nn(i,r,h,l)}r=r.child}return r;case 26:return bf(i,r),i===null?(l=KE(r.type,null,r.pendingProps,null))?r.memoizedState=l:Zt||(l=r.type,i=r.pendingProps,h=kf(wt.current).createElement(l),h[Ve]=r,h[cn]=i,Mn(h,l,i),ze(h),r.stateNode=h):r.memoizedState=KE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Er(r),i===null&&Zt&&(h=r.stateNode=qE(r.type,r.pendingProps,wt.current),Pt=r,Be=!0,p=Lt,Za(r.type)?(Gp=p,Lt=ks(h.firstChild)):Lt=p),Nn(i,r,r.pendingProps.children,l),bf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Zt&&((p=h=Lt)&&(h=W2(h,r.type,r.pendingProps,Be),h!==null?(r.stateNode=h,Pt=r,Lt=ks(h.firstChild),Be=!1,p=!0):p=!1),p||_i(r)),Er(r),p=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,jp(p,v)?h=null:C!==null&&jp(p,C)&&(r.flags|=32),r.memoizedState!==null&&(p=Bm(i,r,m2,null,null,l),kc._currentValue=p),bf(i,r),Nn(i,r,h,l),r.child;case 6:return i===null&&Zt&&((i=l=Lt)&&(l=X2(l,r.pendingProps,Be),l!==null?(r.stateNode=l,Pt=r,Lt=null,i=!0):i=!1),i||_i(r)),null;case 13:return B0(i,r,l);case 4:return ne(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=nu(r,null,h,l):Nn(i,r,h,l),r.child;case 11:return M0(i,r,r.type,r.pendingProps,l);case 7:return Nn(i,r,r.pendingProps,l),r.child;case 8:return Nn(i,r,r.pendingProps.children,l),r.child;case 12:return Nn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,nr(r,r.type,h.value),Nn(i,r,h.children,l),r.child;case 9:return p=r.type._context,h=r.pendingProps.children,$o(r),p=Bn(p),h=h(p),r.flags|=1,Nn(i,r,h,l),r.child;case 14:return D0(i,r,r.type,r.pendingProps,l);case 15:return L0(i,r,r.type,r.pendingProps,l);case 19:return F0(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=Tf(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=os(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return O0(i,r,l);case 24:return $o(r),h=Bn(dn),i===null?(p=Pm(),p===null&&(p=Ce,v=Im(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),r.memoizedState={parent:h,cache:p},Dm(r),nr(r,dn,p)):((i.lanes&l)!==0&&(Lm(i,r),mc(r,null,null,l),dc()),p=i.memoizedState,v=r.memoizedState,p.parent!==h?(p={parent:h,cache:h},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),nr(r,dn,h)):(h=v.cache,nr(r,dn,h),h!==p.cache&&Yl(r,[dn],l,!0))),Nn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zr(i){i.flags|=4}function q0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QE(r)){if(r=us.current,r!==null&&((fe&4194048)===fe?ir!==null:(fe&62914560)!==fe&&(fe&536870912)===0||r!==ir))throw hc=Mm,Cv;i.flags|=8192}}function wf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Es():536870912,i.lanes|=r,au|=r)}function bc(i,r){if(!Zt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function je(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function w2(i,r,l){var h=r.pendingProps;switch(Ct(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(r),null;case 1:return je(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Ls(dn),ui(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Zo(r)?Zr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tf())),je(r),null;case 26:return l=r.memoizedState,i===null?(Zr(r),l!==null?(je(r),q0(r,l)):(je(r),r.flags&=-16777217)):l?l!==i.memoizedState?(Zr(r),je(r),q0(r,l)):(je(r),r.flags&=-16777217):(i.memoizedProps!==h&&Zr(r),je(r),r.flags&=-16777217),null;case 27:Hs(r),l=wt.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Zr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return je(r),null}i=Tt.current,Zo(r)?Qh(r):(i=qE(p,h,l),r.stateNode=i,Zr(r))}return je(r),null;case 5:if(Hs(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Zr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return je(r),null}if(i=Tt.current,Zo(r))Qh(r);else{switch(p=kf(wt.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}i[Ve]=r,i[cn]=h;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;t:switch(Mn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Zr(r)}}return je(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Zr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,Zo(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,p=Pt,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[Ve]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||VE(i.nodeValue,l)),i||_i(r)}else i=kf(i).createTextNode(h),i[Ve]=r,r.stateNode=i}return je(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Zo(r),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ve]=r}else Na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;je(r),p=!1}else p=tf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(qr(r),r):(qr(r),null)}if(qr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==p&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),wf(r,r.updateQueue),je(r),null;case 4:return ui(),i===null&&kp(r.stateNode.containerInfo),je(r),null;case 10:return Ls(r.type),je(r),null;case 19:if(H(mn),p=r.memoizedState,p===null)return je(r),null;if(h=(r.flags&128)!==0,v=p.rendering,v===null)if(h)bc(p,!1);else{if(Ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=_f(i),v!==null){for(r.flags|=128,bc(p,!1),i=v.updateQueue,r.updateQueue=i,wf(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)ac(l,i),l=l.sibling;return dt(mn,mn.current&1|2),r.child}i=i.sibling}p.tail!==null&&gn()>Af&&(r.flags|=128,h=!0,bc(p,!1),r.lanes=4194304)}else{if(!h)if(i=_f(v),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,wf(r,i),bc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Zt)return je(r),null}else 2*gn()-p.renderingStartTime>Af&&l!==536870912&&(r.flags|=128,h=!0,bc(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(i=p.last,i!==null?i.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=gn(),r.sibling=null,i=mn.current,dt(mn,h?i&1|2:i&1),r):(je(r),null);case 22:case 23:return qr(r),zm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(je(r),r.subtreeFlags&6&&(r.flags|=8192)):je(r),l=r.updateQueue,l!==null&&wf(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&H(Wo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ls(dn),je(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function x2(i,r){switch(Ct(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ls(dn),ui(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Hs(r),null;case 13:if(qr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Na()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return H(mn),null;case 4:return ui(),null;case 10:return Ls(r.type),null;case 22:case 23:return qr(r),zm(),i!==null&&H(Wo),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ls(dn),null;case 25:return null;default:return null}}function G0(i,r){switch(Ct(r),r.tag){case 3:Ls(dn),ui();break;case 26:case 27:case 5:Hs(r);break;case 4:ui();break;case 13:qr(r);break;case 19:H(mn);break;case 10:Ls(r.type);break;case 22:case 23:qr(r),zm(),i!==null&&H(Wo);break;case 24:Ls(dn)}}function Tc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var v=l.create,C=l.inst;h=v(),C.destroy=h}l=l.next}while(l!==p)}}catch(N){Se(r,r.return,N)}}function za(i,r,l){try{var h=r.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var v=p.next;h=v;do{if((h.tag&i)===i){var C=h.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,p=r;var j=l,it=N;try{it()}catch(ft){Se(p,j,ft)}}}h=h.next}while(h!==v)}}catch(ft){Se(r,r.return,ft)}}function Z0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{Dv(r,l)}catch(h){Se(i,i.return,h)}}}function K0(i,r,l){l.props=Qo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Se(i,r,h)}}function wc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){Se(i,r,p)}}function sr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){Se(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Se(i,r,p)}else l.current=null}function Y0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){Se(i,i.return,p)}}function fp(i,r,l){try{var h=i.stateNode;G2(h,i.type,l,r),h[cn]=r}catch(p){Se(i,i.return,p)}}function $0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Za(i.type)||i.tag===4}function dp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||$0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Za(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Of));else if(h!==4&&(h===27&&Za(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(mp(i,r,l),i=i.sibling;i!==null;)mp(i,r,l),i=i.sibling}function xf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&Za(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xf(i,r,l),i=i.sibling;i!==null;)xf(i,r,l),i=i.sibling}function W0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Mn(r,h,l),r[Ve]=i,r[cn]=l}catch(v){Se(i,i.return,v)}}var Kr=!1,We=!1,pp=!1,X0=typeof WeakSet=="function"?WeakSet:Set,An=null;function S2(i,r){if(i=i.containerInfo,Up=Ff,i=Uo(i),Bo(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break t}var C=0,N=-1,j=-1,it=0,ft=0,yt=i,st=null;e:for(;;){for(var at;yt!==l||p!==0&&yt.nodeType!==3||(N=C+p),yt!==v||h!==0&&yt.nodeType!==3||(j=C+h),yt.nodeType===3&&(C+=yt.nodeValue.length),(at=yt.firstChild)!==null;)st=yt,yt=at;for(;;){if(yt===i)break e;if(st===l&&++it===p&&(N=C),st===v&&++ft===h&&(j=C),(at=yt.nextSibling)!==null)break;yt=st,st=yt.parentNode}yt=at}l=N===-1||j===-1?null:{start:N,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bp={focusedElem:i,selectionRange:l},Ff=!1,An=r;An!==null;)if(r=An,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,An=i;else for(;An!==null;){switch(r=An,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,p=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var qt=Qo(l.type,p,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(qt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(zt){Se(l,l.return,zt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Hp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,An=i;break}An=r.return}}function Q0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ua(i,l),h&4&&Tc(5,l);break;case 1:if(Ua(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(C){Se(l,l.return,C)}else{var p=Qo(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Se(l,l.return,C)}}h&64&&Z0(l),h&512&&wc(l,l.return);break;case 3:if(Ua(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Dv(i,r)}catch(C){Se(l,l.return,C)}}break;case 27:r===null&&h&4&&W0(l);case 26:case 5:Ua(i,l),r===null&&h&4&&Y0(l),h&512&&wc(l,l.return);break;case 12:Ua(i,l);break;case 13:Ua(i,l),h&4&&eE(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=L2.bind(null,l),Q2(i,l))));break;case 22:if(h=l.memoizedState!==null||Kr,!h){r=r!==null&&r.memoizedState!==null||We,p=Kr;var v=We;Kr=h,(We=r)&&!v?Ba(i,l,(l.subtreeFlags&8772)!==0):Ua(i,l),Kr=p,We=v}break;case 30:break;default:Ua(i,l)}}function J0(i){var r=i.alternate;r!==null&&(i.alternate=null,J0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&xr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Oe=null,Ei=!1;function Yr(i,r,l){for(l=l.child;l!==null;)tE(i,r,l),l=l.sibling}function tE(i,r,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Yi,l)}catch{}switch(l.tag){case 26:We||sr(l,r),Yr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:We||sr(l,r);var h=Oe,p=Ei;Za(l.type)&&(Oe=l.stateNode,Ei=!1),Yr(i,r,l),Mc(l.stateNode),Oe=h,Ei=p;break;case 5:We||sr(l,r);case 6:if(h=Oe,p=Ei,Oe=null,Yr(i,r,l),Oe=h,Ei=p,Oe!==null)if(Ei)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(l.stateNode)}catch(v){Se(l,r,v)}else try{Oe.removeChild(l.stateNode)}catch(v){Se(l,r,v)}break;case 18:Oe!==null&&(Ei?(i=Oe,FE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Bc(i)):FE(Oe,l.stateNode));break;case 4:h=Oe,p=Ei,Oe=l.stateNode.containerInfo,Ei=!0,Yr(i,r,l),Oe=h,Ei=p;break;case 0:case 11:case 14:case 15:We||za(2,l,r),We||za(4,l,r),Yr(i,r,l);break;case 1:We||(sr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&K0(l,r,h)),Yr(i,r,l);break;case 21:Yr(i,r,l);break;case 22:We=(h=We)||l.memoizedState!==null,Yr(i,r,l),We=h;break;default:Yr(i,r,l)}}function eE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bc(i)}catch(l){Se(r,r.return,l)}}function A2(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new X0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new X0),r;default:throw Error(s(435,i.tag))}}function gp(i,r){var l=A2(i);r.forEach(function(h){var p=O2.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}function Bi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],v=i,C=r,N=C;t:for(;N!==null;){switch(N.tag){case 27:if(Za(N.type)){Oe=N.stateNode,Ei=!1;break t}break;case 5:Oe=N.stateNode,Ei=!1;break t;case 3:case 4:Oe=N.stateNode.containerInfo,Ei=!0;break t}N=N.return}if(Oe===null)throw Error(s(160));tE(v,C,p),Oe=null,Ei=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)nE(r,i),r=r.sibling}var Os=null;function nE(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bi(r,i),ji(i),h&4&&(za(3,i,i.return),Tc(3,i),za(5,i,i.return));break;case 1:Bi(r,i),ji(i),h&512&&(We||l===null||sr(l,l.return)),h&64&&Kr&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=Os;if(Bi(r,i),ji(i),h&512&&(We||l===null||sr(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":v=p.getElementsByTagName("title")[0],(!v||v[ws]||v[Ve]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(h),p.head.insertBefore(v,p.querySelector("head > title"))),Mn(v,h,l),v[Ve]=i,ze(v),h=v;break t;case"link":var C=WE("link","href",p).get(h+(l.href||""));if(C){for(var N=0;N<C.length;N++)if(v=C[N],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(N,1);break e}}v=p.createElement(h),Mn(v,h,l),p.head.appendChild(v);break;case"meta":if(C=WE("meta","content",p).get(h+(l.content||""))){for(N=0;N<C.length;N++)if(v=C[N],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(N,1);break e}}v=p.createElement(h),Mn(v,h,l),p.head.appendChild(v);break;default:throw Error(s(468,h))}v[Ve]=i,ze(v),h=v}i.stateNode=h}else XE(p,i.type,i.stateNode);else i.stateNode=$E(p,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?XE(p,i.type,i.stateNode):$E(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&fp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Bi(r,i),ji(i),h&512&&(We||l===null||sr(l,l.return)),l!==null&&h&4&&fp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Bi(r,i),ji(i),h&512&&(We||l===null||sr(l,l.return)),i.flags&32){p=i.stateNode;try{vn(p,"")}catch(at){Se(i,i.return,at)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,fp(i,p,l!==null?l.memoizedProps:p)),h&1024&&(pp=!0);break;case 6:if(Bi(r,i),ji(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(at){Se(i,i.return,at)}}break;case 3:if(Uf=null,p=Os,Os=Vf(r.containerInfo),Bi(r,i),Os=p,ji(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Bc(r.containerInfo)}catch(at){Se(i,i.return,at)}pp&&(pp=!1,iE(i));break;case 4:h=Os,Os=Vf(i.stateNode.containerInfo),Bi(r,i),ji(i),Os=h;break;case 12:Bi(r,i),ji(i);break;case 13:Bi(r,i),ji(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tp=gn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,gp(i,h)));break;case 22:p=i.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,it=Kr,ft=We;if(Kr=it||p,We=ft||j,Bi(r,i),We=ft,Kr=it,ji(i),h&8192)t:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||j||Kr||We||Jo(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){j=l=r;try{if(v=j.stateNode,p)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=j.stateNode;var yt=j.memoizedProps.style,st=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;N.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(at){Se(j,j.return,at)}}}else if(r.tag===6){if(l===null){j=r;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(at){Se(j,j.return,at)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,gp(i,l))));break;case 19:Bi(r,i),ji(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,gp(i,h)));break;case 30:break;case 21:break;default:Bi(r,i),ji(i)}}function ji(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if($0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,v=dp(i);xf(i,v,p);break;case 5:var C=l.stateNode;l.flags&32&&(vn(C,""),l.flags&=-33);var N=dp(i);xf(i,N,C);break;case 3:case 4:var j=l.stateNode.containerInfo,it=dp(i);mp(i,it,j);break;default:throw Error(s(161))}}catch(ft){Se(i,i.return,ft)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function iE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;iE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ua(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Q0(i,r.alternate,r),r=r.sibling}function Jo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:za(4,r,r.return),Jo(r);break;case 1:sr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&K0(r,r.return,l),Jo(r);break;case 27:Mc(r.stateNode);case 26:case 5:sr(r,r.return),Jo(r);break;case 22:r.memoizedState===null&&Jo(r);break;case 30:Jo(r);break;default:Jo(r)}i=i.sibling}}function Ba(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,p=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(p,v,l),Tc(4,v);break;case 1:if(Ba(p,v,l),h=v,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(it){Se(h,h.return,it)}if(h=v,p=h.updateQueue,p!==null){var N=h.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Mv(j[p],N)}catch(it){Se(h,h.return,it)}}l&&C&64&&Z0(v),wc(v,v.return);break;case 27:W0(v);case 26:case 5:Ba(p,v,l),l&&h===null&&C&4&&Y0(v),wc(v,v.return);break;case 12:Ba(p,v,l);break;case 13:Ba(p,v,l),l&&C&4&&eE(p,v);break;case 22:v.memoizedState===null&&Ba(p,v,l),wc(v,v.return);break;case 30:break;default:Ba(p,v,l)}r=r.sibling}}function yp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&lc(l))}function _p(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i))}function rr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sE(i,r,l,h),r=r.sibling}function sE(i,r,l,h){var p=r.flags;switch(r.tag){case 0:case 11:case 15:rr(i,r,l,h),p&2048&&Tc(9,r);break;case 1:rr(i,r,l,h);break;case 3:rr(i,r,l,h),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&lc(i)));break;case 12:if(p&2048){rr(i,r,l,h),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,N=v.onPostCommit;typeof N=="function"&&N(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){Se(r,r.return,j)}}else rr(i,r,l,h);break;case 13:rr(i,r,l,h);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?rr(i,r,l,h):xc(i,r):v._visibility&2?rr(i,r,l,h):(v._visibility|=2,iu(i,r,l,h,(r.subtreeFlags&10256)!==0)),p&2048&&yp(C,r);break;case 24:rr(i,r,l,h),p&2048&&_p(r.alternate,r);break;default:rr(i,r,l,h)}}function iu(i,r,l,h,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,C=r,N=l,j=h,it=C.flags;switch(C.tag){case 0:case 11:case 15:iu(v,C,N,j,p),Tc(8,C);break;case 23:break;case 22:var ft=C.stateNode;C.memoizedState!==null?ft._visibility&2?iu(v,C,N,j,p):xc(v,C):(ft._visibility|=2,iu(v,C,N,j,p)),p&&it&2048&&yp(C.alternate,C);break;case 24:iu(v,C,N,j,p),p&&it&2048&&_p(C.alternate,C);break;default:iu(v,C,N,j,p)}r=r.sibling}}function xc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,p=h.flags;switch(h.tag){case 22:xc(l,h),p&2048&&yp(h.alternate,h);break;case 24:xc(l,h),p&2048&&_p(h.alternate,h);break;default:xc(l,h)}r=r.sibling}}var Sc=8192;function su(i){if(i.subtreeFlags&Sc)for(i=i.child;i!==null;)rE(i),i=i.sibling}function rE(i){switch(i.tag){case 26:su(i),i.flags&Sc&&i.memoizedState!==null&&hR(Os,i.memoizedState,i.memoizedProps);break;case 5:su(i);break;case 3:case 4:var r=Os;Os=Vf(i.stateNode.containerInfo),su(i),Os=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Sc,Sc=16777216,su(i),Sc=r):su(i));break;default:su(i)}}function aE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ac(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];An=h,lE(h,i)}aE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oE(i),i=i.sibling}function oE(i){switch(i.tag){case 0:case 11:case 15:Ac(i),i.flags&2048&&za(9,i,i.return);break;case 3:Ac(i);break;case 12:Ac(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sf(i)):Ac(i);break;default:Ac(i)}}function Sf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];An=h,lE(h,i)}aE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:za(8,r,r.return),Sf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Sf(r));break;default:Sf(r)}i=i.sibling}}function lE(i,r){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:za(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,An=h;else t:for(l=i;An!==null;){h=An;var p=h.sibling,v=h.return;if(J0(h),h===l){An=null;break t}if(p!==null){p.return=v,An=p;break t}An=v}}}var C2={getCacheForType:function(i){var r=Bn(dn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},R2=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ce=null,ie=null,fe=0,ve=0,Fi=null,ja=!1,ru=!1,vp=!1,$r=0,Ge=0,Fa=0,tl=0,Ep=0,cs=0,au=0,Cc=null,bi=null,bp=!1,Tp=0,Af=1/0,Cf=null,Ha=null,Pn=0,qa=null,ou=null,lu=0,wp=0,xp=null,uE=null,Rc=0,Sp=null;function Hi(){if((_e&2)!==0&&fe!==0)return fe&-fe;if(ot.T!==null){var i=$l;return i!==0?i:Mp()}return bs()}function cE(){cs===0&&(cs=(fe&536870912)===0||Zt?Co():536870912);var i=us.current;return i!==null&&(i.flags|=32),cs}function qi(i,r,l){(i===Ce&&(ve===2||ve===9)||i.cancelPendingCommit!==null)&&(uu(i,0),Ga(i,fe,cs,!1)),Me(i,l),((_e&2)===0||i!==Ce)&&(i===Ce&&((_e&2)===0&&(tl|=l),Ge===4&&Ga(i,fe,cs,!1)),ar(i))}function hE(i,r,l){if((_e&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||fi(i,r),p=h?P2(i,r):Rp(i,r,!0),v=h;do{if(p===0){ru&&!h&&Ga(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!I2(l)){p=Rp(i,r,!1),v=!1;continue}if(p===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var N=i;p=Cc;var j=N.current.memoizedState.isDehydrated;if(j&&(uu(N,C).flags|=256),C=Rp(N,C,!1),C!==2){if(vp&&!j){N.errorRecoveryDisabledLanes|=v,tl|=v,p=4;break t}v=bi,bi=p,v!==null&&(bi===null?bi=v:bi.push.apply(bi,v))}p=C}if(v=!1,p!==2)continue}}if(p===1){uu(i,0),Ga(i,r,0,!0);break}t:{switch(h=i,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ga(h,r,cs,!ja);break t;case 2:bi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Tp+300-gn(),10<p)){if(Ga(h,r,cs,!ja),hi(h,0,!0)!==0)break t;h.timeoutHandle=BE(fE.bind(null,h,l,bi,Cf,bp,r,cs,tl,au,ja,v,2,-0,0),p);break t}fE(h,l,bi,Cf,bp,r,cs,tl,au,ja,v,0,-0,0)}}break}while(!0);ar(i)}function fE(i,r,l,h,p,v,C,N,j,it,ft,yt,st,at){if(i.timeoutHandle=-1,yt=r.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(Oc={stylesheets:null,count:0,unsuspend:cR},rE(r),yt=fR(),yt!==null)){i.cancelPendingCommit=yt(vE.bind(null,i,r,v,l,h,p,C,N,j,ft,1,st,at)),Ga(i,v,C,!it);return}vE(i,r,v,l,h,p,C,N,j)}function I2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!ii(v(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ga(i,r,l,h){r&=~Ep,r&=~tl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var p=r;0<p;){var v=31-In(p),C=1<<v;h[v]=-1,p&=~C}l!==0&&qs(i,l,r)}function Rf(){return(_e&6)===0?(Ic(0),!1):!0}function Ap(){if(ie!==null){if(ve===0)var i=ie.return;else i=ie,Ds=ls=null,Hm(i),eu=null,vc=0,i=ie;for(;i!==null;)G0(i.alternate,i),i=i.return;ie=null}}function uu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,K2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ap(),Ce=i,ie=l=os(i.current,null),fe=r,ve=0,Fi=null,ja=!1,ru=fi(i,r),vp=!1,au=cs=Ep=tl=Fa=Ge=0,bi=Cc=null,bp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var p=31-In(h),v=1<<p;r|=i[p],h&=~v}return $r=r,Fo(),l}function dE(i,r){Jt=null,ot.H=pf,r===cc||r===rf?(r=Nv(),ve=3):r===Cv?(r=Nv(),ve=4):ve=r===P0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fi=r,ie===null&&(Ge=1,Ef(i,ri(r,i.current)))}function mE(){var i=ot.H;return ot.H=pf,i===null?pf:i}function pE(){var i=ot.A;return ot.A=C2,i}function Cp(){Ge=4,ja||(fe&4194048)!==fe&&us.current!==null||(ru=!0),(Fa&134217727)===0&&(tl&134217727)===0||Ce===null||Ga(Ce,fe,cs,!1)}function Rp(i,r,l){var h=_e;_e|=2;var p=mE(),v=pE();(Ce!==i||fe!==r)&&(Cf=null,uu(i,r)),r=!1;var C=Ge;t:do try{if(ve!==0&&ie!==null){var N=ie,j=Fi;switch(ve){case 8:Ap(),C=6;break t;case 3:case 2:case 9:case 6:us.current===null&&(r=!0);var it=ve;if(ve=0,Fi=null,cu(i,N,j,it),l&&ru){C=0;break t}break;default:it=ve,ve=0,Fi=null,cu(i,N,j,it)}}N2(),C=Ge;break}catch(ft){dE(i,ft)}while(!0);return r&&i.shellSuspendCounter++,Ds=ls=null,_e=h,ot.H=p,ot.A=v,ie===null&&(Ce=null,fe=0,Fo()),C}function N2(){for(;ie!==null;)gE(ie)}function P2(i,r){var l=_e;_e|=2;var h=mE(),p=pE();Ce!==i||fe!==r?(Cf=null,Af=gn()+500,uu(i,r)):ru=fi(i,r);t:do try{if(ve!==0&&ie!==null){r=ie;var v=Fi;e:switch(ve){case 1:ve=0,Fi=null,cu(i,r,v,1);break;case 2:case 9:if(Rv(v)){ve=0,Fi=null,yE(r);break}r=function(){ve!==2&&ve!==9||Ce!==i||(ve=7),ar(i)},v.then(r,r);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:Rv(v)?(ve=0,Fi=null,yE(r)):(ve=0,Fi=null,cu(i,r,v,7));break;case 5:var C=null;switch(ie.tag){case 26:C=ie.memoizedState;case 5:case 27:var N=ie;if(!C||QE(C)){ve=0,Fi=null;var j=N.sibling;if(j!==null)ie=j;else{var it=N.return;it!==null?(ie=it,If(it)):ie=null}break e}}ve=0,Fi=null,cu(i,r,v,5);break;case 6:ve=0,Fi=null,cu(i,r,v,6);break;case 8:Ap(),Ge=6;break t;default:throw Error(s(462))}}M2();break}catch(ft){dE(i,ft)}while(!0);return Ds=ls=null,ot.H=h,ot.A=p,_e=l,ie!==null?0:(Ce=null,fe=0,Fo(),Ge)}function M2(){for(;ie!==null&&!Rl();)gE(ie)}function gE(i){var r=H0(i.alternate,i,$r);i.memoizedProps=i.pendingProps,r===null?If(i):ie=r}function yE(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=V0(l,r,r.pendingProps,r.type,void 0,fe);break;case 11:r=V0(l,r,r.pendingProps,r.type.render,r.ref,fe);break;case 5:Hm(r);default:G0(l,r),r=ie=ac(r,$r),r=H0(l,r,$r)}i.memoizedProps=i.pendingProps,r===null?If(i):ie=r}function cu(i,r,l,h){Ds=ls=null,Hm(r),eu=null,vc=0;var p=r.return;try{if(b2(i,p,r,l,fe)){Ge=1,Ef(i,ri(l,i.current)),ie=null;return}}catch(v){if(p!==null)throw ie=p,v;Ge=1,Ef(i,ri(l,i.current)),ie=null;return}r.flags&32768?(Zt||h===1?i=!0:ru||(fe&536870912)!==0?i=!1:(ja=i=!0,(h===2||h===9||h===3||h===6)&&(h=us.current,h!==null&&h.tag===13&&(h.flags|=16384))),_E(r,i)):If(r)}function If(i){var r=i;do{if((r.flags&32768)!==0){_E(r,ja);return}i=r.return;var l=w2(r.alternate,r,$r);if(l!==null){ie=l;return}if(r=r.sibling,r!==null){ie=r;return}ie=r=i}while(r!==null);Ge===0&&(Ge=5)}function _E(i,r){do{var l=x2(i.alternate,i);if(l!==null){l.flags&=32767,ie=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ie=i;return}ie=i=l}while(i!==null);Ge=6,ie=null}function vE(i,r,l,h,p,v,C,N,j){i.cancelPendingCommit=null;do Nf();while(Pn!==0);if((_e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Ui,Ml(i,l,v,C,N,j),i===Ce&&(ie=Ce=null,fe=0),ou=r,qa=i,lu=l,wp=v,xp=p,uE=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,k2(Ai,function(){return xE(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=ot.T,ot.T=null,p=Et.p,Et.p=2,C=_e,_e|=4;try{S2(i,r,l)}finally{_e=C,Et.p=p,ot.T=h}}Pn=1,EE(),bE(),TE()}}function EE(){if(Pn===1){Pn=0;var i=qa,r=ou,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ot.T,ot.T=null;var h=Et.p;Et.p=2;var p=_e;_e|=4;try{nE(r,i);var v=Bp,C=Uo(i.containerInfo),N=v.focusedElem,j=v.selectionRange;if(C!==N&&N&&N.ownerDocument&&jl(N.ownerDocument.documentElement,N)){if(j!==null&&Bo(N)){var it=j.start,ft=j.end;if(ft===void 0&&(ft=it),"selectionStart"in N)N.selectionStart=it,N.selectionEnd=Math.min(ft,N.value.length);else{var yt=N.ownerDocument||document,st=yt&&yt.defaultView||window;if(st.getSelection){var at=st.getSelection(),qt=N.textContent.length,zt=Math.min(j.start,qt),we=j.end===void 0?zt:Math.min(j.end,qt);!at.extend&&zt>we&&(C=we,we=zt,zt=C);var W=sc(N,zt),G=sc(N,we);if(W&&G&&(at.rangeCount!==1||at.anchorNode!==W.node||at.anchorOffset!==W.offset||at.focusNode!==G.node||at.focusOffset!==G.offset)){var nt=yt.createRange();nt.setStart(W.node,W.offset),at.removeAllRanges(),zt>we?(at.addRange(nt),at.extend(G.node,G.offset)):(nt.setEnd(G.node,G.offset),at.addRange(nt))}}}}for(yt=[],at=N;at=at.parentNode;)at.nodeType===1&&yt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<yt.length;N++){var mt=yt[N];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Ff=!!Up,Bp=Up=null}finally{_e=p,Et.p=h,ot.T=l}}i.current=r,Pn=2}}function bE(){if(Pn===2){Pn=0;var i=qa,r=ou,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ot.T,ot.T=null;var h=Et.p;Et.p=2;var p=_e;_e|=4;try{Q0(i,r.alternate,r)}finally{_e=p,Et.p=h,ot.T=l}}Pn=3}}function TE(){if(Pn===4||Pn===3){Pn=0,la();var i=qa,r=ou,l=lu,h=uE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pn=5:(Pn=0,ou=qa=null,wE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ha=null),Io(l),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Yi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=ot.T,p=Et.p,Et.p=2,ot.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var N=h[C];v(N.value,{componentStack:N.stack})}}finally{ot.T=r,Et.p=p}}(lu&3)!==0&&Nf(),ar(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===Sp?Rc++:(Rc=0,Sp=i):Rc=0,Ic(0)}}function wE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,lc(r)))}function Nf(i){return EE(),bE(),TE(),xE()}function xE(){if(Pn!==5)return!1;var i=qa,r=wp;wp=0;var l=Io(lu),h=ot.T,p=Et.p;try{Et.p=32>l?32:l,ot.T=null,l=xp,xp=null;var v=qa,C=lu;if(Pn=0,ou=qa=null,lu=0,(_e&6)!==0)throw Error(s(331));var N=_e;if(_e|=4,oE(v.current),sE(v,v.current,C,l),_e=N,Ic(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Yi,v)}catch{}return!0}finally{Et.p=p,ot.T=h,wE(i,r)}}function SE(i,r,l){r=ri(l,r),r=ip(i.stateNode,r,2),i=La(i,r,2),i!==null&&(Me(i,2),ar(i))}function Se(i,r,l){if(i.tag===3)SE(i,i,l);else for(;r!==null;){if(r.tag===3){SE(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ha===null||!Ha.has(h))){i=ri(l,i),l=I0(2),h=La(r,l,2),h!==null&&(N0(l,h,r,i),Me(h,2),ar(h));break}}r=r.return}}function Ip(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new R2;var p=new Set;h.set(r,p)}else p=h.get(r),p===void 0&&(p=new Set,h.set(r,p));p.has(l)||(vp=!0,p.add(l),i=D2.bind(null,i,r,l),r.then(i,i))}function D2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ce===i&&(fe&l)===l&&(Ge===4||Ge===3&&(fe&62914560)===fe&&300>gn()-Tp?(_e&2)===0&&uu(i,0):Ep|=l,au===fe&&(au=0)),ar(i)}function AE(i,r){r===0&&(r=Es()),i=Ra(i,r),i!==null&&(Me(i,r),ar(i))}function L2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),AE(i,l)}function O2(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),AE(i,l)}function k2(i,r){return vs(i,r)}var Pf=null,hu=null,Np=!1,Mf=!1,Pp=!1,el=0;function ar(i){i!==hu&&i.next===null&&(hu===null?Pf=hu=i:hu=hu.next=i),Mf=!0,Np||(Np=!0,z2())}function Ic(i,r){if(!Pp&&Mf){Pp=!0;do for(var l=!1,h=Pf;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var v=0;else{var C=h.suspendedLanes,N=h.pingedLanes;v=(1<<31-In(42|i)+1)-1,v&=p&~(C&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,NE(h,v))}else v=fe,v=hi(h,h===Ce?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||fi(h,v)||(l=!0,NE(h,v));h=h.next}while(l);Pp=!1}}function V2(){CE()}function CE(){Mf=Np=!1;var i=0;el!==0&&(Z2()&&(i=el),el=0);for(var r=gn(),l=null,h=Pf;h!==null;){var p=h.next,v=RE(h,r);v===0?(h.next=null,l===null?Pf=p:l.next=p,p===null&&(hu=l)):(l=h,(i!==0||(v&3)!==0)&&(Mf=!0)),h=p}Ic(i)}function RE(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-In(v),N=1<<C,j=p[C];j===-1?((N&l)===0||(N&h)!==0)&&(p[C]=ca(N,r)):j<=r&&(i.expiredLanes|=N),v&=~N}if(r=Ce,l=fe,l=hi(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(ve===2||ve===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&oa(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&oa(h),Io(l)){case 2:case 8:l=Ye;break;case 32:l=Ai;break;case 268435456:l=ua;break;default:l=Ai}return h=IE.bind(null,i),l=vs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&oa(h),i.callbackPriority=2,i.callbackNode=null,2}function IE(i,r){if(Pn!==0&&Pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Nf()&&i.callbackNode!==l)return null;var h=fe;return h=hi(i,i===Ce?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(hE(i,h,r),RE(i,gn()),i.callbackNode!=null&&i.callbackNode===l?IE.bind(null,i):null)}function NE(i,r){if(Nf())return null;hE(i,r,!0)}function z2(){Y2(function(){(_e&6)!==0?vs(Ke,V2):CE()})}function Mp(){return el===0&&(el=Co()),el}function PE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qn(""+i)}function ME(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function U2(i,r,l,h,p){if(r==="submit"&&l&&l.stateNode===p){var v=PE((p[cn]||null).action),C=h.submitter;C&&(r=(r=C[cn]||null)?PE(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var N=new Xs("action","action",null,h,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(el!==0){var j=C?ME(p,C):new FormData(p);Qm(l,{pending:!0,data:j,method:p.method,action:v},null,j)}}else typeof v=="function"&&(N.preventDefault(),j=C?ME(p,C):new FormData(p),Qm(l,{pending:!0,data:j,method:p.method,action:v},v,j))},currentTarget:p}]})}}for(var Dp=0;Dp<zr.length;Dp++){var Lp=zr[Dp],B2=Lp.toLowerCase(),j2=Lp[0].toUpperCase()+Lp.slice(1);zi(B2,"on"+j2)}zi($h,"onAnimationEnd"),zi(Vi,"onAnimationIteration"),zi(jo,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(Cm,"onTransitionRun"),zi(Gl,"onTransitionStart"),zi(Rm,"onTransitionCancel"),zi(rc,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function DE(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var v=void 0;if(r)for(var C=h.length-1;0<=C;C--){var N=h[C],j=N.instance,it=N.currentTarget;if(N=N.listener,j!==v&&p.isPropagationStopped())break t;v=N,p.currentTarget=it;try{v(p)}catch(ft){vf(ft)}p.currentTarget=null,v=j}else for(C=0;C<h.length;C++){if(N=h[C],j=N.instance,it=N.currentTarget,N=N.listener,j!==v&&p.isPropagationStopped())break t;v=N,p.currentTarget=it;try{v(p)}catch(ft){vf(ft)}p.currentTarget=null,v=j}}}}function se(i,r){var l=r[yn];l===void 0&&(l=r[yn]=new Set);var h=i+"__bubble";l.has(h)||(LE(r,i,2,!1),l.add(h))}function Op(i,r,l){var h=0;r&&(h|=4),LE(l,i,h,r)}var Df="_reactListening"+Math.random().toString(36).slice(2);function kp(i){if(!i[Df]){i[Df]=!0,Ll.forEach(function(l){l!=="selectionchange"&&(F2.has(l)||Op(l,!1,i),Op(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Df]||(r[Df]=!0,Op("selectionchange",!1,r))}}function LE(i,r,l,h){switch(sb(r)){case 2:var p=pR;break;case 8:p=gR;break;default:p=Wp}l=p.bind(null,r,l,i),p=void 0,!Ni||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function Vp(i,r,l,h,p){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var N=h.stateNode.containerInfo;if(N===p)break;if(C===4)for(C=h.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;N!==null;){if(C=mi(N),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){h=v=C;continue t}N=N.parentNode}}h=h.return}En(function(){var it=v,ft=Ys(l),yt=[];t:{var st=Wh.get(i);if(st!==void 0){var at=Xs,qt=i;switch(i){case"keypress":if(Ne(l)===0)break t;case"keydown":case"keyup":at=_a;break;case"focusin":qt="focus",at=ma;break;case"focusout":qt="blur",at=ma;break;case"beforeblur":case"afterblur":at=ma;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Qs;break;case $h:case Vi:case jo:at=Do;break;case rc:at=w;break;case"scroll":case"scrollend":at=Dr;break;case"wheel":at=P;break;case"copy":case"cut":case"paste":at=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=va;break;case"toggle":case"beforetoggle":at=rt}var zt=(r&4)!==0,we=!zt&&(i==="scroll"||i==="scrollend"),W=zt?st!==null?st+"Capture":null:st;zt=[];for(var G=it,nt;G!==null;){var mt=G;if(nt=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||nt===null||W===null||(mt=ce(G,W),mt!=null&&zt.push(Pc(G,mt,nt))),we)break;G=G.return}0<zt.length&&(st=new at(st,qt,null,l,ft),yt.push({event:st,listeners:zt}))}}if((r&7)===0){t:{if(st=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",st&&l!==Mr&&(qt=l.relatedTarget||l.fromElement)&&(mi(qt)||qt[Ts]))break t;if((at||st)&&(st=ft.window===ft?ft:(st=ft.ownerDocument)?st.defaultView||st.parentWindow:window,at?(qt=l.relatedTarget||l.toElement,at=it,qt=qt?mi(qt):null,qt!==null&&(we=u(qt),zt=qt.tag,qt!==we||zt!==5&&zt!==27&&zt!==6)&&(qt=null)):(at=null,qt=it),at!==qt)){if(zt=Pi,mt="onMouseLeave",W="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(zt=va,mt="onPointerLeave",W="onPointerEnter",G="pointer"),we=at==null?st:Yn(at),nt=qt==null?st:Yn(qt),st=new zt(mt,G+"leave",at,l,ft),st.target=we,st.relatedTarget=nt,mt=null,mi(ft)===it&&(zt=new zt(W,G+"enter",qt,l,ft),zt.target=nt,zt.relatedTarget=we,mt=zt),we=mt,at&&qt)e:{for(zt=at,W=qt,G=0,nt=zt;nt;nt=fu(nt))G++;for(nt=0,mt=W;mt;mt=fu(mt))nt++;for(;0<G-nt;)zt=fu(zt),G--;for(;0<nt-G;)W=fu(W),nt--;for(;G--;){if(zt===W||W!==null&&zt===W.alternate)break e;zt=fu(zt),W=fu(W)}zt=null}else zt=null;at!==null&&OE(yt,st,at,zt,!1),qt!==null&&we!==null&&OE(yt,we,qt,zt,!0)}}t:{if(st=it?Yn(it):window,at=st.nodeName&&st.nodeName.toLowerCase(),at==="select"||at==="input"&&st.type==="file")var Dt=Ta;else if(kr(st))if(ec)Dt=Am;else{Dt=Sm;var ee=ic}else at=st.nodeName,!at||at.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?it&&Ks(it.elementType)&&(Dt=Ta):Dt=Ms;if(Dt&&(Dt=Dt(i,it))){Gh(yt,Dt,l,ft);break t}ee&&ee(i,st,it),i==="focusout"&&it&&st.type==="number"&&it.memoizedProps.value!=null&&Zs(st,"number",st.value)}switch(ee=it?Yn(it):window,i){case"focusin":(kr(ee)||ee.contentEditable==="true")&&(ki=ee,Sa=it,Vr=null);break;case"focusout":Vr=Sa=ki=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Kh(yt,l,ft);break;case"selectionchange":if(Fl)break;case"keydown":case"keyup":Kh(yt,l,ft)}var Ot;if(Bt)t:{switch(i){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Li?ei(i,l)&&(jt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(De&&l.locale!=="ko"&&(Li||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Li&&(Ot=Ws()):(zn=ft,he="value"in zn?zn.value:zn.textContent,Li=!0)),ee=Lf(it,jt),0<ee.length&&(jt=new Un(jt,i,null,l,ft),yt.push({event:jt,listeners:ee}),Ot?jt.data=Ot:(Ot=Di(l),Ot!==null&&(jt.data=Ot)))),(Ot=me?Ea(i,l):xm(i,l))&&(jt=Lf(it,"onBeforeInput"),0<jt.length&&(ee=new Un("onBeforeInput","beforeinput",null,l,ft),yt.push({event:ee,listeners:jt}),ee.data=Ot)),U2(yt,i,it,l,ft)}DE(yt,r)})}function Pc(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Lf(i,r){for(var l=r+"Capture",h=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=ce(i,l),p!=null&&h.unshift(Pc(i,p,v)),p=ce(i,r),p!=null&&h.push(Pc(i,p,v))),i.tag===3)return h;i=i.return}return[]}function fu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function OE(i,r,l,h,p){for(var v=r._reactName,C=[];l!==null&&l!==h;){var N=l,j=N.alternate,it=N.stateNode;if(N=N.tag,j!==null&&j===h)break;N!==5&&N!==26&&N!==27||it===null||(j=it,p?(it=ce(l,v),it!=null&&C.unshift(Pc(l,it,j))):p||(it=ce(l,v),it!=null&&C.push(Pc(l,it,j)))),l=l.return}C.length!==0&&i.push({event:r,listeners:C})}var H2=/\r\n?/g,q2=/\u0000|\uFFFD/g;function kE(i){return(typeof i=="string"?i:""+i).replace(H2,`
`).replace(q2,"")}function VE(i,r){return r=kE(r),kE(i)===r}function Of(){}function Te(i,r,l,h,p,v){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||vn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&vn(i,""+h);break;case"className":Rr(i,"class",h);break;case"tabIndex":Rr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(i,l,h);break;case"style":Cs(i,h,v);break;case"data":if(r!=="object"){Rr(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Qn(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&Te(i,r,"name",p.name,p,null),Te(i,r,"formEncType",p.formEncType,p,null),Te(i,r,"formMethod",p.formMethod,p,null),Te(i,r,"formTarget",p.formTarget,p,null)):(Te(i,r,"encType",p.encType,p,null),Te(i,r,"method",p.method,p,null),Te(i,r,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Qn(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Of);break;case"onScroll":h!=null&&se("scroll",i);break;case"onScrollEnd":h!=null&&se("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Qn(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":se("beforetoggle",i),se("toggle",i),Cr(i,"popover",h);break;case"xlinkActuate":pi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Cr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fa.get(l)||l,Cr(i,l,h))}}function zp(i,r,l,h,p,v){switch(l){case"style":Cs(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?vn(i,h):(typeof h=="number"||typeof h=="bigint")&&vn(i,""+h);break;case"onScroll":h!=null&&se("scroll",i);break;case"onScrollEnd":h!=null&&se("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),v=i[cn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,p),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Cr(i,l,h)}}}function Mn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",i),se("load",i);var h=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Te(i,r,v,C,l,null)}}p&&Te(i,r,"srcSet",l.srcSet,l,null),h&&Te(i,r,"src",l.src,l,null);return;case"input":se("invalid",i);var N=v=C=p=null,j=null,it=null;for(h in l)if(l.hasOwnProperty(h)){var ft=l[h];if(ft!=null)switch(h){case"name":p=ft;break;case"type":C=ft;break;case"checked":j=ft;break;case"defaultChecked":it=ft;break;case"value":v=ft;break;case"defaultValue":N=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(s(137,r));break;default:Te(i,r,h,ft,l,null)}}Po(i,v,N,j,it,C,p,!1),es(i);return;case"select":se("invalid",i),h=C=v=null;for(p in l)if(l.hasOwnProperty(p)&&(N=l[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":C=N;break;case"multiple":h=N;default:Te(i,r,p,N,l,null)}r=v,l=C,i.multiple=!!h,r!=null?Vn(i,!!h,r,!1):l!=null&&Vn(i,!!h,l,!0);return;case"textarea":se("invalid",i),v=p=h=null;for(C in l)if(l.hasOwnProperty(C)&&(N=l[C],N!=null))switch(C){case"value":h=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Te(i,r,C,N,l,null)}ns(i,h,p,v),es(i);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(h=l[j],h!=null))switch(j){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Te(i,r,j,h,l,null)}return;case"dialog":se("beforetoggle",i),se("toggle",i),se("cancel",i),se("close",i);break;case"iframe":case"object":se("load",i);break;case"video":case"audio":for(h=0;h<Nc.length;h++)se(Nc[h],i);break;case"image":se("error",i),se("load",i);break;case"details":se("toggle",i);break;case"embed":case"source":case"link":se("error",i),se("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in l)if(l.hasOwnProperty(it)&&(h=l[it],h!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Te(i,r,it,h,l,null)}return;default:if(Ks(r)){for(ft in l)l.hasOwnProperty(ft)&&(h=l[ft],h!==void 0&&zp(i,r,ft,h,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(h=l[N],h!=null&&Te(i,r,N,h,l,null))}function G2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,C=null,N=null,j=null,it=null,ft=null;for(at in l){var yt=l[at];if(l.hasOwnProperty(at)&&yt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":j=yt;default:h.hasOwnProperty(at)||Te(i,r,at,null,h,yt)}}for(var st in h){var at=h[st];if(yt=l[st],h.hasOwnProperty(st)&&(at!=null||yt!=null))switch(st){case"type":v=at;break;case"name":p=at;break;case"checked":it=at;break;case"defaultChecked":ft=at;break;case"value":C=at;break;case"defaultValue":N=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,r));break;default:at!==yt&&Te(i,r,st,at,h,yt)}}_n(i,C,N,j,it,ft,v,p);return;case"select":at=C=N=st=null;for(v in l)if(j=l[v],l.hasOwnProperty(v)&&j!=null)switch(v){case"value":break;case"multiple":at=j;default:h.hasOwnProperty(v)||Te(i,r,v,null,h,j)}for(p in h)if(v=h[p],j=l[p],h.hasOwnProperty(p)&&(v!=null||j!=null))switch(p){case"value":st=v;break;case"defaultValue":N=v;break;case"multiple":C=v;default:v!==j&&Te(i,r,p,v,h,j)}r=N,l=C,h=at,st!=null?Vn(i,!!l,st,!1):!!h!=!!l&&(r!=null?Vn(i,!!l,r,!0):Vn(i,!!l,l?[]:"",!1));return;case"textarea":at=st=null;for(N in l)if(p=l[N],l.hasOwnProperty(N)&&p!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Te(i,r,N,null,h,p)}for(C in h)if(p=h[C],v=l[C],h.hasOwnProperty(C)&&(p!=null||v!=null))switch(C){case"value":st=p;break;case"defaultValue":at=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Te(i,r,C,p,h,v)}Ie(i,st,at);return;case"option":for(var qt in l)if(st=l[qt],l.hasOwnProperty(qt)&&st!=null&&!h.hasOwnProperty(qt))switch(qt){case"selected":i.selected=!1;break;default:Te(i,r,qt,null,h,st)}for(j in h)if(st=h[j],at=l[j],h.hasOwnProperty(j)&&st!==at&&(st!=null||at!=null))switch(j){case"selected":i.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Te(i,r,j,st,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)st=l[zt],l.hasOwnProperty(zt)&&st!=null&&!h.hasOwnProperty(zt)&&Te(i,r,zt,null,h,st);for(it in h)if(st=h[it],at=l[it],h.hasOwnProperty(it)&&st!==at&&(st!=null||at!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:Te(i,r,it,st,h,at)}return;default:if(Ks(r)){for(var we in l)st=l[we],l.hasOwnProperty(we)&&st!==void 0&&!h.hasOwnProperty(we)&&zp(i,r,we,void 0,h,st);for(ft in h)st=h[ft],at=l[ft],!h.hasOwnProperty(ft)||st===at||st===void 0&&at===void 0||zp(i,r,ft,st,h,at);return}}for(var W in l)st=l[W],l.hasOwnProperty(W)&&st!=null&&!h.hasOwnProperty(W)&&Te(i,r,W,null,h,st);for(yt in h)st=h[yt],at=l[yt],!h.hasOwnProperty(yt)||st===at||st==null&&at==null||Te(i,r,yt,st,h,at)}var Up=null,Bp=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function zE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function jp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fp=null;function Z2(){var i=window.event;return i&&i.type==="popstate"?i===Fp?!1:(Fp=i,!0):(Fp=null,!1)}var BE=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(i){return jE.resolve(null).then(i).catch($2)}:BE;function $2(i){setTimeout(function(){throw i})}function Za(i){return i==="head"}function FE(i,r){var l=r,h=0,p=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&Mc(C.documentElement),l&2&&Mc(C.body),l&4)for(l=C.head,Mc(l),C=l.firstChild;C;){var N=C.nextSibling,j=C.nodeName;C[ws]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=N}}if(p===0){i.removeChild(v),Bc(r);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:h=l.charCodeAt(0)-48;else h=0;l=v}while(l);Bc(r)}function Hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hp(l),xr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function W2(i,r,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ws])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=ks(i.nextSibling),i===null)break}return null}function X2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ks(i.nextSibling),i===null))return null;return i}function qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Q2(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ks(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Gp=null;function HE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function qE(i,r,l){switch(r=kf(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Mc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);xr(i)}var hs=new Map,GE=new Set;function Vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wr=Et.d;Et.d={f:J2,r:tR,D:eR,C:nR,L:iR,m:sR,X:aR,S:rR,M:oR};function J2(){var i=Wr.f(),r=Rf();return i||r}function tR(i){var r=Ri(i);r!==null&&r.tag===5&&r.type==="form"?h0(r):Wr.r(i)}var du=typeof document>"u"?null:document;function ZE(i,r,l){var h=du;if(h&&typeof r=="string"&&r){var p=Ue(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),GE.has(p)||(GE.add(p),i={rel:i,crossOrigin:l,href:r},h.querySelector(p)===null&&(r=h.createElement("link"),Mn(r,"link",i),ze(r),h.head.appendChild(r)))}}function eR(i){Wr.D(i),ZE("dns-prefetch",i,null)}function nR(i,r){Wr.C(i,r),ZE("preconnect",i,r)}function iR(i,r,l){Wr.L(i,r,l);var h=du;if(h&&i&&r){var p='link[rel="preload"][as="'+Ue(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ue(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ue(l.imageSizes)+'"]')):p+='[href="'+Ue(i)+'"]';var v=p;switch(r){case"style":v=mu(i);break;case"script":v=pu(i)}hs.has(v)||(i=T({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),hs.set(v,i),h.querySelector(p)!==null||r==="style"&&h.querySelector(Dc(v))||r==="script"&&h.querySelector(Lc(v))||(r=h.createElement("link"),Mn(r,"link",i),ze(r),h.head.appendChild(r)))}}function sR(i,r){Wr.m(i,r);var l=du;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ue(h)+'"][href="'+Ue(i)+'"]',v=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=pu(i)}if(!hs.has(v)&&(i=T({rel:"modulepreload",href:i},r),hs.set(v,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lc(v)))return}h=l.createElement("link"),Mn(h,"link",i),ze(h),l.head.appendChild(h)}}}function rR(i,r,l){Wr.S(i,r,l);var h=du;if(h&&i){var p=xs(h).hoistableStyles,v=mu(i);r=r||"default";var C=p.get(v);if(!C){var N={loading:0,preload:null};if(C=h.querySelector(Dc(v)))N.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},l),(l=hs.get(v))&&Zp(i,l);var j=C=h.createElement("link");ze(j),Mn(j,"link",i),j._p=new Promise(function(it,ft){j.onload=it,j.onerror=ft}),j.addEventListener("load",function(){N.loading|=1}),j.addEventListener("error",function(){N.loading|=2}),N.loading|=4,zf(C,r,h)}C={type:"stylesheet",instance:C,count:1,state:N},p.set(v,C)}}}function aR(i,r){Wr.X(i,r);var l=du;if(l&&i){var h=xs(l).hoistableScripts,p=pu(i),v=h.get(p);v||(v=l.querySelector(Lc(p)),v||(i=T({src:i,async:!0},r),(r=hs.get(p))&&Kp(i,r),v=l.createElement("script"),ze(v),Mn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(p,v))}}function oR(i,r){Wr.M(i,r);var l=du;if(l&&i){var h=xs(l).hoistableScripts,p=pu(i),v=h.get(p);v||(v=l.querySelector(Lc(p)),v||(i=T({src:i,async:!0,type:"module"},r),(r=hs.get(p))&&Kp(i,r),v=l.createElement("script"),ze(v),Mn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(p,v))}}function KE(i,r,l,h){var p=(p=wt.current)?Vf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=mu(l.href),l=xs(p).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=mu(l.href);var v=xs(p).hoistableStyles,C=v.get(i);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=p.querySelector(Dc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),hs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hs.set(i,l),v||lR(p,i,l,C.state))),r&&h===null)throw Error(s(528,""));return C}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=pu(l),l=xs(p).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function mu(i){return'href="'+Ue(i)+'"'}function Dc(i){return'link[rel="stylesheet"]['+i+"]"}function YE(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function lR(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Mn(r,"link",l),ze(r),i.head.appendChild(r))}function pu(i){return'[src="'+Ue(i)+'"]'}function Lc(i){return"script[async]"+i}function $E(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Ue(l.href)+'"]');if(h)return r.instance=h,ze(h),h;var p=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ze(h),Mn(h,"style",p),zf(h,l.precedence,i),r.instance=h;case"stylesheet":p=mu(l.href);var v=i.querySelector(Dc(p));if(v)return r.state.loading|=4,r.instance=v,ze(v),v;h=YE(l),(p=hs.get(p))&&Zp(h,p),v=(i.ownerDocument||i).createElement("link"),ze(v);var C=v;return C._p=new Promise(function(N,j){C.onload=N,C.onerror=j}),Mn(v,"link",h),r.state.loading|=4,zf(v,l.precedence,i),r.instance=v;case"script":return v=pu(l.src),(p=i.querySelector(Lc(v)))?(r.instance=p,ze(p),p):(h=l,(p=hs.get(v))&&(h=T({},l),Kp(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),ze(p),Mn(p,"link",h),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,zf(h,l.precedence,i));return r.instance}function zf(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,v=p,C=0;C<h.length;C++){var N=h[C];if(N.dataset.precedence===r)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Uf=null;function WE(i,r,l){if(Uf===null){var h=new Map,p=Uf=new Map;p.set(l,h)}else p=Uf,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var v=l[p];if(!(v[ws]||v[Ve]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var N=h.get(C);N?N.push(v):h.set(C,[v])}}return h}function XE(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function uR(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function QE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Oc=null;function cR(){}function hR(i,r,l){if(Oc===null)throw Error(s(475));var h=Oc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=mu(l.href),v=i.querySelector(Dc(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Bf.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=v,ze(v);return}v=i.ownerDocument||i,l=YE(l),(p=hs.get(p))&&Zp(l,p),v=v.createElement("link"),ze(v);var C=v;C._p=new Promise(function(N,j){C.onload=N,C.onerror=j}),Mn(v,"link",l),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=Bf.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function fR(){if(Oc===null)throw Error(s(475));var i=Oc;return i.stylesheets&&i.count===0&&Yp(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Bf(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jf=null;function Yp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jf=new Map,r.forEach(dR,i),jf=null,Bf.call(i))}function dR(i,r){if(!(r.state.loading&4)){var l=jf.get(i);if(l)var h=l.get(null);else{l=new Map,jf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var C=p[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}p=r.instance,C=p.getAttribute("data-precedence"),v=l.get(C)||h,v===h&&l.set(null,p),l.set(C,p),this.count++,h=Bf.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var kc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function mR(i,r,l,h,p,v,C,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function JE(i,r,l,h,p,v,C,N,j,it,ft,yt){return i=new mR(i,r,l,C,N,j,it,yt),r=1,v===!0&&(r|=24),v=oi(3,null,null,r),i.current=v,v.stateNode=i,r=Im(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:r},Dm(v),i}function tb(i){return i?(i=jr,i):jr}function eb(i,r,l,h,p,v){p=tb(p),h.context===null?h.context=p:h.pendingContext=p,h=Da(r),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=La(i,h,r),l!==null&&(qi(l,i,r),fc(l,i,r))}function nb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function $p(i,r){nb(i,r),(i=i.alternate)&&nb(i,r)}function ib(i){if(i.tag===13){var r=Ra(i,67108864);r!==null&&qi(r,i,67108864),$p(i,67108864)}}var Ff=!0;function pR(i,r,l,h){var p=ot.T;ot.T=null;var v=Et.p;try{Et.p=2,Wp(i,r,l,h)}finally{Et.p=v,ot.T=p}}function gR(i,r,l,h){var p=ot.T;ot.T=null;var v=Et.p;try{Et.p=8,Wp(i,r,l,h)}finally{Et.p=v,ot.T=p}}function Wp(i,r,l,h){if(Ff){var p=Xp(h);if(p===null)Vp(i,r,h,Hf,l),rb(i,h);else if(_R(p,i,r,l,h))h.stopPropagation();else if(rb(i,h),r&4&&-1<yR.indexOf(i)){for(;p!==null;){var v=Ri(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ci(v.pendingLanes);if(C!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var j=1<<31-In(C);N.entanglements[1]|=j,C&=~j}ar(v),(_e&6)===0&&(Af=gn()+500,Ic(0))}}break;case 13:N=Ra(v,2),N!==null&&qi(N,v,2),Rf(),$p(v,2)}if(v=Xp(h),v===null&&Vp(i,r,h,Hf,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else Vp(i,r,h,null,l)}}function Xp(i){return i=Ys(i),Qp(i)}var Hf=null;function Qp(i){if(Hf=null,i=mi(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hf=i,null}function sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Ke:return 2;case Ye:return 8;case Ai:case Il:return 32;case ua:return 268435456;default:return 32}default:return 32}}var Jp=!1,Ka=null,Ya=null,$a=null,Vc=new Map,zc=new Map,Wa=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(i,r){switch(i){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(r.pointerId)}}function Uc(i,r,l,h,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},r!==null&&(r=Ri(r),r!==null&&ib(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function _R(i,r,l,h,p){switch(r){case"focusin":return Ka=Uc(Ka,i,r,l,h,p),!0;case"dragenter":return Ya=Uc(Ya,i,r,l,h,p),!0;case"mouseover":return $a=Uc($a,i,r,l,h,p),!0;case"pointerover":var v=p.pointerId;return Vc.set(v,Uc(Vc.get(v)||null,i,r,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,zc.set(v,Uc(zc.get(v)||null,i,r,l,h,p)),!0}return!1}function ab(i){var r=mi(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,No(i.priority,function(){if(l.tag===13){var h=Hi();h=Ro(h);var p=Ra(l,h);p!==null&&qi(p,l,h),$p(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Xp(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Mr=h,l.target.dispatchEvent(h),Mr=null}else return r=Ri(l),r!==null&&ib(r),i.blockedOn=l,!1;r.shift()}return!0}function ob(i,r,l){qf(i)&&l.delete(r)}function vR(){Jp=!1,Ka!==null&&qf(Ka)&&(Ka=null),Ya!==null&&qf(Ya)&&(Ya=null),$a!==null&&qf($a)&&($a=null),Vc.forEach(ob),zc.forEach(ob)}function Gf(i,r){i.blockedOn===r&&(i.blockedOn=null,Jp||(Jp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vR)))}var Zf=null;function lb(i){Zf!==i&&(Zf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zf===i&&(Zf=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],p=i[r+2];if(typeof h!="function"){if(Qp(h||l)===null)continue;break}var v=Ri(l);v!==null&&(i.splice(r,3),r-=3,Qm(v,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Bc(i){function r(j){return Gf(j,i)}Ka!==null&&Gf(Ka,i),Ya!==null&&Gf(Ya,i),$a!==null&&Gf($a,i),Vc.forEach(r),zc.forEach(r);for(var l=0;l<Wa.length;l++){var h=Wa[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Wa.length&&(l=Wa[0],l.blockedOn===null);)ab(l),l.blockedOn===null&&Wa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],v=l[h+1],C=p[cn]||null;if(typeof v=="function")C||lb(l);else if(C){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,C=v[cn]||null)N=C.formAction;else if(Qp(p)!==null)continue}else N=C.action;typeof N=="function"?l[h+1]=N:(l.splice(h,3),h-=3),lb(l)}}}function tg(i){this._internalRoot=i}Kf.prototype.render=tg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=Hi();eb(l,h,i,r,null,null)},Kf.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;eb(i.current,2,null,i,null,null),Rf(),r[Ts]=null}};function Kf(i){this._internalRoot=i}Kf.prototype.unstable_scheduleHydration=function(i){if(i){var r=bs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<Wa.length&&r!==0&&r<Wa[l].priority;l++);Wa.splice(l,0,i),l===0&&ab(i)}};var ub=t.version;if(ub!=="19.1.1")throw Error(s(527,ub,"19.1.1"));Et.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?E(i):null,i=i===null?null:i.stateNode,i};var ER={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Yi=Yf.inject(ER),un=Yf}catch{}}return jc.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",p=S0,v=A0,C=C0,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks)),r=JE(i,1,!1,null,null,l,h,p,v,C,N,null),i[Ts]=r.current,kp(i),new tg(r)},jc.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,p="",v=S0,C=A0,N=C0,j=null,it=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(it=l.formState)),r=JE(i,1,!0,r,l??null,h,p,v,C,N,j,it),r.context=tb(null),l=r.current,h=Hi(),h=Ro(h),p=Da(h),p.callback=null,La(l,p,h),l=h,r.current.lanes=l,Me(r,l),ar(r),i[Ts]=r.current,kp(i),new Kf(r)},jc.version="19.1.1",jc}var yb;function CR(){if(yb)return ng.exports;yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ng.exports=AR(),ng.exports}var RR=CR();const IR=()=>{};var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},NR=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],f=n[e++],g=n[e++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=n[e++],f=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},x1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,g=f?n[o+1]:0,y=o+2<n.length,E=y?n[o+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let R=(g&15)<<2|E>>6,V=E&63;y||(V=64,f||(R=64)),s.push(e[T],e[S],e[R],e[V])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(w1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):NR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],g=o<n.length?e[n.charAt(o)]:0;++o;const E=o<n.length?e[n.charAt(o)]:64;++o;const S=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||g==null||E==null||S==null)throw new PR;const R=u<<2|g>>4;if(s.push(R),E!==64){const V=g<<4&240|E>>2;if(s.push(V),S!==64){const K=E<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(n){const t=w1(n);return x1.encodeByteArray(t,!0)},Ed=function(n){return MR(n).replace(/\./g,"")},S1=function(n){try{return x1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof _b>"u")return;const n=_b.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&S1(n[1]);return t&&JSON.parse(t)},Kd=()=>{try{return IR()||LR()||OR()||kR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},A1=n=>Kd()?.emulatorHosts?.[n],VR=n=>{const t=A1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},C1=()=>Kd()?.config,R1=n=>Kd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ed(JSON.stringify(e)),Ed(JSON.stringify(f)),""].join(".")}const Qc={};function BR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Qc))Qc[t]?n.emulator.push(t):n.prod.push(t);return n}function jR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let vb=!1;function N1(n,t){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||Qc[n]===t||Qc[n]||vb)return;Qc[n]=t;function e(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=BR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function E(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{vb=!0,f()},R}function T(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=jR(s),V=e("text"),K=document.getElementById(V)||document.createElement("span"),$=e("learnmore"),X=document.getElementById($)||document.createElement("a"),ct=e("preprendIcon"),Q=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const Y=R.element;g(Y),T(X,$);const ht=E();y(Q,ct),Y.append(Q,K,X,ht),document.body.appendChild(Y)}u?(K.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function HR(){const n=Kd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function KR(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M1(){try{return typeof indexedDB=="object"}catch{return!1}}function D1(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}function YR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class Fs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=$R,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?WR(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Fs(o,g,s)}}function WR(n,t){return n.replace(XR,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const XR=/\{\$([^}]+)}/g;function QR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ho(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=n[o],f=t[o];if(Eb(u)&&Eb(f)){if(!ho(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function Eb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function qc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Gc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function JR(n,t){const e=new tI(n,t);return e.subscribe.bind(e)}class tI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");eI(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=ag),o.error===void 0&&(o.error=ag),o.complete===void 0&&(o.complete=ag);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,iI=2,sI=14400*1e3,rI=.5;function bb(n,t=nI,e=iI){const s=t*Math.pow(e,n),o=Math.round(rI*s*(Math.random()-.5)*2);return Math.min(sI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class Us{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new zR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lI(t))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=il){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=il){return this.instances.has(t)}getOptions(t=il){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oI(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=il){return this.component?this.component.multipleInstances?t:il:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oI(n){return n===il?void 0:n}function lI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new aI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ae||(ae={}));const cI={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},hI=ae.INFO,fI={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},dI=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=fI[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yd{constructor(t){this.name=t,this._logLevel=hI,this._logHandler=dI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const mI=(n,t)=>t.some(e=>n instanceof e);let Tb,wb;function pI(){return Tb||(Tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gI(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L1=new WeakMap,Vg=new WeakMap,O1=new WeakMap,og=new WeakMap,ky=new WeakMap;function yI(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{e(ao(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&L1.set(e,n)}).catch(()=>{}),ky.set(t,n),t}function _I(n){if(Vg.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Vg.set(n,t)}let zg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Vg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||O1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ao(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function vI(n){zg=n(zg)}function EI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(lg(this),t,...e);return O1.set(s,t.sort?t.sort():[t]),ao(s)}:gI().includes(n)?function(...t){return n.apply(lg(this),t),ao(L1.get(this))}:function(...t){return ao(n.apply(lg(this),t))}}function bI(n){return typeof n=="function"?EI(n):(n instanceof IDBTransaction&&_I(n),mI(n,pI())?new Proxy(n,zg):n)}function ao(n){if(n instanceof IDBRequest)return yI(n);if(og.has(n))return og.get(n);const t=bI(n);return t!==n&&(og.set(n,t),ky.set(t,n)),t}const lg=n=>ky.get(n);function k1(n,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),g=ao(f);return s&&f.addEventListener("upgradeneeded",y=>{s(ao(f.result),y.oldVersion,y.newVersion,ao(f.transaction),y)}),e&&f.addEventListener("blocked",y=>e(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const TI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],ug=new Map;function xb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ug.get(t))return ug.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=wI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TI.includes(e)))return;const u=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[e](...g),o&&y.done]))[0]};return ug.set(t,u),u}vI(n=>({...n,get:(t,e,s)=>xb(t,e)||n.get(t,e,s),has:(t,e)=>!!xb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function SI(n){return n.getComponent()?.type==="VERSION"}const Ug="@firebase/app",Sb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Yd("@firebase/app"),AI="@firebase/app-compat",CI="@firebase/analytics-compat",RI="@firebase/analytics",II="@firebase/app-check-compat",NI="@firebase/app-check",PI="@firebase/auth",MI="@firebase/auth-compat",DI="@firebase/database",LI="@firebase/data-connect",OI="@firebase/database-compat",kI="@firebase/functions",VI="@firebase/functions-compat",zI="@firebase/installations",UI="@firebase/installations-compat",BI="@firebase/messaging",jI="@firebase/messaging-compat",FI="@firebase/performance",HI="@firebase/performance-compat",qI="@firebase/remote-config",GI="@firebase/remote-config-compat",ZI="@firebase/storage",KI="@firebase/storage-compat",YI="@firebase/firestore",$I="@firebase/ai",WI="@firebase/firestore-compat",XI="firebase",QI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="[DEFAULT]",JI={[Ug]:"fire-core",[AI]:"fire-core-compat",[RI]:"fire-analytics",[CI]:"fire-analytics-compat",[NI]:"fire-app-check",[II]:"fire-app-check-compat",[PI]:"fire-auth",[MI]:"fire-auth-compat",[DI]:"fire-rtdb",[LI]:"fire-data-connect",[OI]:"fire-rtdb-compat",[kI]:"fire-fn",[VI]:"fire-fn-compat",[zI]:"fire-iid",[UI]:"fire-iid-compat",[BI]:"fire-fcm",[jI]:"fire-fcm-compat",[FI]:"fire-perf",[HI]:"fire-perf-compat",[qI]:"fire-rc",[GI]:"fire-rc-compat",[ZI]:"fire-gcs",[KI]:"fire-gcs-compat",[YI]:"fire-fst",[WI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[XI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,tN=new Map,jg=new Map;function Ab(n,t){try{n.container.addComponent(t)}catch(e){ea.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _r(n){const t=n.name;if(jg.has(t))return ea.debug(`There were multiple attempts to register component ${t}.`),!1;jg.set(t,n);for(const e of bd.values())Ab(e,n);for(const e of tN.values())Ab(e,n);return!0}function wl(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ms(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Tl("app","Firebase",eN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=QI;function V1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Bg,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw oo.create("bad-app-name",{appName:String(o)});if(e||(e=C1()),!e)throw oo.create("no-options");const u=bd.get(o);if(u){if(ho(e,u.options)&&ho(s,u.config))return u;throw oo.create("duplicate-app",{appName:o})}const f=new uI(o);for(const y of jg.values())f.addComponent(y);const g=new nN(e,s,f);return bd.set(o,g),g}function Vy(n=Bg){const t=bd.get(n);if(!t&&n===Bg&&C1())return V1();if(!t)throw oo.create("no-app",{appName:n});return t}function gs(n,t,e){let s=JI[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ea.warn(f.join(" "));return}_r(new Us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",sN=1,hh="firebase-heartbeat-store";let cg=null;function z1(){return cg||(cg=k1(iN,sN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(hh)}catch(e){console.warn(e)}}}}).catch(n=>{throw oo.create("idb-open",{originalErrorMessage:n.message})})),cg}async function rN(n){try{const e=(await z1()).transaction(hh),s=await e.objectStore(hh).get(U1(n));return await e.done,s}catch(t){if(t instanceof Fs)ea.warn(t.message);else{const e=oo.create("idb-get",{originalErrorMessage:t?.message});ea.warn(e.message)}}}async function Cb(n,t){try{const s=(await z1()).transaction(hh,"readwrite");await s.objectStore(hh).put(t,U1(n)),await s.done}catch(e){if(e instanceof Fs)ea.warn(e.message);else{const s=oo.create("idb-set",{originalErrorMessage:e?.message});ea.warn(s.message)}}}function U1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,oN=30;class lN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cN(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>oN){const o=hN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ea.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rb(),{heartbeatsToSend:e,unsentEntries:s}=uN(this._heartbeatsCache.heartbeats),o=Ed(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ea.warn(t),""}}}function Rb(){return new Date().toISOString().substring(0,10)}function uN(n,t=aN){const e=[];let s=n.slice();for(const o of n){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ib(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Ib(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class cN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M1()?D1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await rN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ib(n){return Ed(JSON.stringify({version:2,heartbeats:n})).length}function hN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n){_r(new Us("platform-logger",t=>new xI(t),"PRIVATE")),_r(new Us("heartbeat",t=>new lN(t),"PRIVATE")),gs(Ug,Sb,n),gs(Ug,Sb,"esm2020"),gs("fire-js","")}fN("");var dN="firebase",mN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(dN,mN,"app");const B1="@firebase/installations",zy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1e4,F1=`w:${zy}`,H1="FIS_v2",pN="https://firebaseinstallations.googleapis.com/v1",gN=3600*1e3,yN="installations",_N="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ml=new Tl(yN,_N,vN);function q1(n){return n instanceof Fs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1({projectId:n}){return`${pN}/projects/${n}/installations`}function Z1(n){return{token:n.token,requestStatus:2,expiresIn:bN(n.expiresIn),creationTime:Date.now()}}async function K1(n,t){const s=(await t.json()).error;return ml.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Y1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function EN(n,{refreshToken:t}){const e=Y1(n);return e.append("Authorization",TN(t)),e}async function $1(n){const t=await n();return t.status>=500&&t.status<600?n():t}function bN(n){return Number(n.replace("s","000"))}function TN(n){return`${H1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const s=G1(n),o=Y1(n),u=t.getImmediate({optional:!0});if(u){const E=await u.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={fid:e,authVersion:H1,appId:n.appId,sdkVersion:F1},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await $1(()=>fetch(s,g));if(y.ok){const E=await y.json();return{fid:E.fid||e,registrationStatus:2,refreshToken:E.refreshToken,authToken:Z1(E.authToken)}}else throw await K1("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^[cdef][\w-]{21}$/,Fg="";function AN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=CN(n);return SN.test(e)?e:Fg}catch{return Fg}}function CN(n){return xN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map;function Q1(n,t){const e=$d(n);J1(e,t),RN(e,t)}function J1(n,t){const e=X1.get(n);if(e)for(const s of e)s(t)}function RN(n,t){const e=IN();e&&e.postMessage({key:n,fid:t}),NN()}let rl=null;function IN(){return!rl&&"BroadcastChannel"in self&&(rl=new BroadcastChannel("[Firebase] FID Change"),rl.onmessage=n=>{J1(n.data.key,n.data.fid)}),rl}function NN(){X1.size===0&&rl&&(rl.close(),rl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-installations-database",MN=1,pl="firebase-installations-store";let hg=null;function Uy(){return hg||(hg=k1(PN,MN,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(pl)}}})),hg}async function Td(n,t){const e=$d(n),o=(await Uy()).transaction(pl,"readwrite"),u=o.objectStore(pl),f=await u.get(e);return await u.put(t,e),await o.done,(!f||f.fid!==t.fid)&&Q1(n,t.fid),t}async function tx(n){const t=$d(n),s=(await Uy()).transaction(pl,"readwrite");await s.objectStore(pl).delete(t),await s.done}async function Wd(n,t){const e=$d(n),o=(await Uy()).transaction(pl,"readwrite"),u=o.objectStore(pl),f=await u.get(e),g=t(f);return g===void 0?await u.delete(e):await u.put(g,e),await o.done,g&&(!f||f.fid!==g.fid)&&Q1(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(n){let t;const e=await Wd(n.appConfig,s=>{const o=DN(s),u=LN(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Fg?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function DN(n){const t=n||{fid:AN(),registrationStatus:0};return ex(t)}function LN(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ml.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=ON(n,e);return{installationEntry:e,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:kN(n)}:{installationEntry:t}}async function ON(n,t){try{const e=await wN(n,t);return Td(n.appConfig,e)}catch(e){throw q1(e)&&e.customData.serverCode===409?await tx(n.appConfig):await Td(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function kN(n){let t=await Nb(n.appConfig);for(;t.registrationStatus===1;)await W1(100),t=await Nb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:s}=await By(n);return s||e}return t}function Nb(n){return Wd(n,t=>{if(!t)throw ml.create("installation-not-found");return ex(t)})}function ex(n){return VN(n)?{fid:n.fid,registrationStatus:0}:n}function VN(n){return n.registrationStatus===1&&n.registrationTime+j1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN({appConfig:n,heartbeatServiceProvider:t},e){const s=UN(n,e),o=EN(n,e),u=t.getImmediate({optional:!0});if(u){const E=await u.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={installation:{sdkVersion:F1,appId:n.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await $1(()=>fetch(s,g));if(y.ok){const E=await y.json();return Z1(E)}else throw await K1("Generate Auth Token",y)}function UN(n,{fid:t}){return`${G1(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(n,t=!1){let e;const s=await Wd(n.appConfig,u=>{if(!nx(u))throw ml.create("not-registered");const f=u.authToken;if(!t&&FN(f))return u;if(f.requestStatus===1)return e=BN(n,t),u;{if(!navigator.onLine)throw ml.create("app-offline");const g=qN(u);return e=jN(n,g),g}});return e?await e:s.authToken}async function BN(n,t){let e=await Pb(n.appConfig);for(;e.authToken.requestStatus===1;)await W1(100),e=await Pb(n.appConfig);const s=e.authToken;return s.requestStatus===0?jy(n,t):s}function Pb(n){return Wd(n,t=>{if(!nx(t))throw ml.create("not-registered");const e=t.authToken;return GN(e)?{...t,authToken:{requestStatus:0}}:t})}async function jN(n,t){try{const e=await zN(n,t),s={...t,authToken:e};return await Td(n.appConfig,s),e}catch(e){if(q1(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await tx(n.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Td(n.appConfig,s)}throw e}}function nx(n){return n!==void 0&&n.registrationStatus===2}function FN(n){return n.requestStatus===2&&!HN(n)}function HN(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+gN}function qN(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function GN(n){return n.requestStatus===1&&n.requestTime+j1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n){const t=n,{installationEntry:e,registrationPromise:s}=await By(t);return s?s.catch(console.error):jy(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,t=!1){const e=n;return await YN(e),(await jy(e,t)).token}async function YN(n){const{registrationPromise:t}=await By(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n){if(!n||!n.options)throw fg("App Configuration");if(!n.name)throw fg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw fg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function fg(n){return ml.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="installations",WN="installations-internal",XN=n=>{const t=n.getProvider("app").getImmediate(),e=$N(t),s=wl(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},QN=n=>{const t=n.getProvider("app").getImmediate(),e=wl(t,ix).getImmediate();return{getId:()=>ZN(e),getToken:o=>KN(e,o)}};function JN(){_r(new Us(ix,XN,"PUBLIC")),_r(new Us(WN,QN,"PRIVATE"))}JN();gs(B1,zy);gs(B1,zy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="analytics",tP="firebase_id",eP="origin",nP=60*1e3,iP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Yd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zi=new Tl("analytics","Analytics",sP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){if(!n.startsWith(Fy)){const t=Zi.create("invalid-gtag-resource",{gtagURL:n});return Si.warn(t.message),""}return n}function sx(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function aP(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function oP(n,t){const e=aP("firebase-js-sdk-policy",{createScriptURL:rP}),s=document.createElement("script"),o=`${Fy}?l=${n}&id=${t}`;s.src=e?e?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function lP(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function uP(n,t,e,s,o,u){const f=s[o];try{if(f)await t[f];else{const y=(await sx(e)).find(E=>E.measurementId===o);y&&await t[y.appId]}}catch(g){Si.error(g)}n("config",o,u)}async function cP(n,t,e,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await sx(e);for(const y of f){const E=g.find(S=>S.measurementId===y),T=E&&t[E.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",s,o||{})}catch(u){Si.error(u)}}function hP(n,t,e,s){async function o(u,...f){try{if(u==="event"){const[g,y]=f;await cP(n,t,e,g,y)}else if(u==="config"){const[g,y]=f;await uP(n,t,e,s,g,y)}else if(u==="consent"){const[g,y]=f;n("consent",g,y)}else if(u==="get"){const[g,y,E]=f;n("get",g,y,E)}else if(u==="set"){const[g]=f;n("set",g)}else n(u,...f)}catch(g){Si.error(g)}}return o}function fP(n,t,e,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=hP(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function dP(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Fy)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=30,pP=1e3;class gP{constructor(t={},e=pP){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const rx=new gP;function yP(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function _P(n){const{appId:t,apiKey:e}=n,s={method:"GET",headers:yP(e)},o=iP.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const g=await u.json();g.error?.message&&(f=g.error.message)}catch{}throw Zi.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function vP(n,t=rx,e){const{appId:s,apiKey:o,measurementId:u}=n.options;if(!s)throw Zi.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Zi.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new TP;return setTimeout(async()=>{g.abort()},nP),ax({appId:s,apiKey:o,measurementId:u},f,g,t)}async function ax(n,{throttleEndTimeMillis:t,backoffCount:e},s,o=rx){const{appId:u,measurementId:f}=n;try{await EP(s,t)}catch(g){if(f)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw g}try{const g=await _P(n);return o.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!bP(y)){if(o.deleteThrottleMetadata(u),f)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:f};throw g}const E=Number(y?.customData?.httpStatus)===503?bb(e,o.intervalMillis,mP):bb(e,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:e+1};return o.setThrottleMetadata(u,T),Si.debug(`Calling attemptFetch again in ${E} millis`),ax(n,T,s,o)}}function EP(n,t){return new Promise((e,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),s(Zi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bP(n){if(!(n instanceof Fs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class TP{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function wP(n,t,e,s,o){if(o&&o.global){n("event",e,s);return}else{const u=await t,f={...s,send_to:u};n("event",e,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(){if(M1())try{await D1()}catch(n){return Si.warn(Zi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Si.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SP(n,t,e,s,o,u,f){const g=vP(n);g.then(R=>{e[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Si.error(R)),t.push(g);const y=xP().then(R=>{if(R)return s.getId()}),[E,T]=await Promise.all([g,y]);dP(u)||oP(u,E.measurementId),o("js",new Date);const S=f?.config??{};return S[eP]="firebase",S.update=!0,T!=null&&(S[tP]=T),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t){this.app=t}_delete(){return delete Jc[this.app.options.appId],Promise.resolve()}}let Jc={},Mb=[];const Db={};let dg="dataLayer",CP="gtag",Lb,ox,Ob=!1;function RP(){const n=[];if(P1()&&n.push("This is a browser extension environment."),YR()||n.push("Cookies are not available."),n.length>0){const t=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),e=Zi.create("invalid-analytics-context",{errorInfo:t});Si.warn(e.message)}}function IP(n,t,e){RP();const s=n.options.appId;if(!s)throw Zi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zi.create("no-api-key");if(Jc[s]!=null)throw Zi.create("already-exists",{id:s});if(!Ob){lP(dg);const{wrappedGtag:u,gtagCore:f}=fP(Jc,Mb,Db,dg,CP);ox=u,Lb=f,Ob=!0}return Jc[s]=SP(n,Mb,Db,t,Lb,dg,e),new AP(n)}function NP(n=Vy()){n=tn(n);const t=wl(n,wd);return t.isInitialized()?t.getImmediate():PP(n)}function PP(n,t={}){const e=wl(n,wd);if(e.isInitialized()){const o=e.getImmediate();if(ho(t,e.getOptions()))return o;throw Zi.create("already-initialized")}return e.initialize({options:t})}function MP(n,t,e,s){n=tn(n),wP(ox,Jc[n.app.options.appId],t,e,s).catch(o=>Si.error(o))}const kb="@firebase/analytics",Vb="0.10.18";function DP(){_r(new Us(wd,(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return IP(s,o,e)},"PUBLIC")),_r(new Us("analytics-internal",n,"PRIVATE")),gs(kb,Vb),gs(kb,Vb,"esm2020");function n(t){try{const e=t.getProvider(wd).getImmediate();return{logEvent:(s,o,u)=>MP(e,s,o,u)}}catch(e){throw Zi.create("interop-component-reg-failed",{reason:e})}}}DP();function lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LP=lx,ux=new Tl("auth","Firebase",lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Yd("@firebase/auth");function OP(n,...t){xd.logLevel<=ae.WARN&&xd.warn(`Auth (${Hu}): ${n}`,...t)}function ad(n,...t){xd.logLevel<=ae.ERROR&&xd.error(`Auth (${Hu}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,...t){throw Hy(n,...t)}function lr(n,...t){return Hy(n,...t)}function cx(n,t,e){const s={...LP(),[t]:e};return new Tl("auth","Firebase",s).create(t,{appName:n.name})}function Jr(n){return cx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return ux.create(n,...t)}function Ft(n,t,...e){if(!n)throw Hy(t,...e)}function Xr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ad(t),new Error(t)}function na(n,t){n||Xr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){return typeof self<"u"&&self.location?.href||""}function kP(){return zb()==="http:"||zb()==="https:"}function zb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||P1()||"connection"in navigator)?navigator.onLine:!0}function zP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,e){this.shortDelay=t,this.longDelay=e,na(e>t,"Short delay should be less than long delay!"),this.isMobile=FR()||GR()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,t){na(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jP=new Nh(3e4,6e4);function bo(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function To(n,t,e,s,o={}){return fx(n,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const g=Ih({key:n.config.apiKey,...f}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const E={method:t,headers:y,...u};return qR()||(E.referrerPolicy="no-referrer"),n.emulatorConfig&&Fu(n.emulatorConfig.host)&&(E.credentials="include"),hx.fetch()(await dx(n,n.config.apiHost,e,g),E)})}async function fx(n,t,e){n._canInitEmulator=!1;const s={...UP,...t};try{const o=new HP(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $f(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[y,E]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(n,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw $f(n,"email-already-in-use",f);if(y==="USER_DISABLED")throw $f(n,"user-disabled",f);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw cx(n,T,E);Bs(n,T)}}catch(o){if(o instanceof Fs)throw o;Bs(n,"network-request-failed",{message:String(o)})}}async function Ph(n,t,e,s,o={}){const u=await To(n,t,e,s,o);return"mfaPendingCredential"in u&&Bs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function dx(n,t,e,s){const o=`${t}${e}?${s}`,u=n,f=u.config.emulator?qy(n.config,o):`${n.config.apiScheme}://${o}`;return BP.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function FP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),jP.get())})}}function $f(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=lr(n,t,s);return o.customData._tokenResponse=e,o}function Ub(n){return n!==void 0&&n.enterprise!==void 0}class qP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return FP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GP(n,t){return To(n,"GET","/v2/recaptchaConfig",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,t){return To(n,"POST","/v1/accounts:delete",t)}async function Sd(n,t){return To(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KP(n,t=!1){const e=tn(n),s=await e.getIdToken(t),o=Gy(s);Ft(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:th(mg(o.auth_time)),issuedAtTime:th(mg(o.iat)),expirationTime:th(mg(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mg(n){return Number(n)*1e3}function Gy(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const o=S1(e);return o?JSON.parse(o):(ad("Failed to decode base64 JWT payload"),null)}catch(o){return ad("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bb(n){const t=Gy(n);return Ft(t,"internal-error"),Ft(typeof t.exp<"u","internal-error"),Ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Fs&&YP(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function YP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(n){const t=n.auth,e=await n.getIdToken(),s=await fh(n,Sd(t,{idToken:e}));Ft(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?mx(o.providerUserInfo):[],f=XP(n.providerData,u),g=n.isAnonymous,y=!(n.email&&o.passwordHash)&&!f?.length,E=g?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new qg(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(n,T)}async function WP(n){const t=tn(n);await Ad(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XP(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function mx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,t){const e=await fx(n,{},async()=>{const s=Ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await dx(n,o,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return n.emulatorConfig&&Fu(n.emulatorConfig.host)&&(y.credentials="include"),hx.fetch()(f,y)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function JP(n,t){return To(n,"POST","/v2/accounts:revokeToken",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ft(t.idToken,"internal-error"),Ft(typeof t.idToken<"u","internal-error"),Ft(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ft(t.length!==0,"internal-error");const e=Bb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await QP(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,f=new Au;return s&&(Ft(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Ft(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ft(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Au,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,t){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class zs{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $P(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await fh(this,this.stsTokenManager.getToken(this.auth,t));return Ft(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return KP(this,t)}reload(){return WP(this)}_assign(t){this!==t&&(Ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new zs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ms(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await fh(this,ZP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,g=e.tenantId??void 0,y=e._redirectEventId??void 0,E=e.createdAt??void 0,T=e.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:V,providerData:K,stsTokenManager:$}=e;Ft(S&&$,t,"internal-error");const X=Au.fromJSON(this.name,$);Ft(typeof S=="string",t,"internal-error"),Qa(s,t.name),Qa(o,t.name),Ft(typeof R=="boolean",t,"internal-error"),Ft(typeof V=="boolean",t,"internal-error"),Qa(u,t.name),Qa(f,t.name),Qa(g,t.name),Qa(y,t.name),Qa(E,t.name),Qa(T,t.name);const ct=new zs({uid:S,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:X,createdAt:E,lastLoginAt:T});return K&&Array.isArray(K)&&(ct.providerData=K.map(Q=>({...Q}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,e,s=!1){const o=new Au;o.updateFromServerResponse(e);const u=new zs({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ad(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Ft(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mx(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new Au;g.updateFromIdToken(s);const y=new zs({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;function Qr(n){na(n instanceof Function,"Expected a class definition");let t=jb.get(n);return t?(na(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,jb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}px.type="NONE";const Fb=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n,t,e){return`firebase:${n}:${t}:${e}`}class Cu{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=od(this.userKey,o.apiKey,u),this.fullPersistenceKey=od("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Sd(this.auth,{idToken:t}).catch(()=>{});return e?zs._fromGetAccountInfoResponse(this.auth,e,t):null}return zs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Cu(Qr(Fb),t,s);const o=(await Promise.all(e.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=o[0]||Qr(Fb);const f=od(s,t.config.apiKey,t.name);let g=null;for(const E of e)try{const T=await E._get(f);if(T){let S;if(typeof T=="string"){const R=await Sd(t,{idToken:T}).catch(()=>{});if(!R)break;S=await zs._fromGetAccountInfoResponse(t,R,T)}else S=zs._fromJSON(t,T);E!==u&&(g=S),u=E;break}}catch{}const y=o.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Cu(u,t,s):(u=y[0],g&&await u._set(f,g.toJSON()),await Promise.all(e.map(async E=>{if(E!==u)try{await E._remove(f)}catch{}})),new Cu(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bx(t))return"Blackberry";if(Tx(t))return"Webos";if(yx(t))return"Safari";if((t.includes("chrome/")||_x(t))&&!t.includes("edge/"))return"Chrome";if(Ex(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function gx(n=Zn()){return/firefox\//i.test(n)}function yx(n=Zn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _x(n=Zn()){return/crios\//i.test(n)}function vx(n=Zn()){return/iemobile/i.test(n)}function Ex(n=Zn()){return/android/i.test(n)}function bx(n=Zn()){return/blackberry/i.test(n)}function Tx(n=Zn()){return/webos/i.test(n)}function Zy(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tM(n=Zn()){return Zy(n)&&!!window.navigator?.standalone}function eM(){return ZR()&&document.documentMode===10}function wx(n=Zn()){return Zy(n)||Ex(n)||Tx(n)||bx(n)||/windows phone/i.test(n)||vx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n,t=[]){let e;switch(n){case"Browser":e=Hb(Zn());break;case"Worker":e=`${Hb(Zn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((f,g)=>{try{const y=t(u);f(y)}catch(y){g(y)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(n,t={}){return To(n,"GET","/v2/passwordPolicy",bo(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=6;class rM{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??sM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qb(this),this.idTokenSubscription=new qb(this),this.beforeStateQueue=new nM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Qr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Sd(this,{idToken:t}),s=await zs._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ms(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===f)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ad(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ms(this.app))return Promise.reject(Jr(this));const e=t?tn(t):null;return e&&Ft(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ms(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ms(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iM(this),e=new rM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tl("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await JP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Qr(t)||this._popupRedirectResolver;Ft(e,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[Qr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const y=t.addObserver(e,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(e);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&OP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xl(n){return tn(n)}class qb{constructor(t){this.auth=t,this.observer=null,this.addObserver=JR(e=>this.observer=e)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oM(n){Xd=n}function Sx(n){return Xd.loadJS(n)}function lM(){return Xd.recaptchaEnterpriseScript}function uM(){return Xd.gapiScript}function cM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hM{constructor(){this.enterprise=new fM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class fM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const dM="recaptcha-enterprise",Ax="NO_RECAPTCHA";class mM{constructor(t){this.type=dM,this.auth=xl(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{GP(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new qP(y);return u.tenantId==null?u._agentRecaptchaConfig=E:u._tenantRecaptchaConfigs[u.tenantId]=E,f(E.siteKey)}}).catch(y=>{g(y)})})}function o(u,f,g){const y=window.grecaptcha;Ub(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(E=>{f(E)}).catch(()=>{f(Ax)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!e&&Ub(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=lM();y.length!==0&&(y+=g),Sx(y).then(()=>{o(g,u,f)}).catch(E=>{f(E)})}}).catch(g=>{f(g)})})}}async function Gb(n,t,e,s=!1,o=!1){const u=new mM(n);let f;if(o)f=Ax;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const g={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:E,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Gg(n,t,e,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gb(n,t,e,e==="getOobCode");return s(n,u)}else return s(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gb(n,t,e,e==="getOobCode");return s(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n,t){const e=wl(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(ho(u,t??{}))return o;Bs(o,"already-initialized")}return e.initialize({options:t})}function gM(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(Qr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function yM(n,t,e){const s=xl(n);Ft(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Cx(t),{host:f,port:g}=_M(t),y=g===null?"":`:${g}`,E={url:`${u}//${f}${y}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ft(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ft(ho(E,s.config.emulator)&&ho(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Fu(f)?(I1(`${u}//${f}${y}`),N1("Auth",!0)):vM()}function Cx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _M(n){const t=Cx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zb(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zb(f)}}}function Zb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function vM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Xr("not implemented")}_getIdTokenResponse(t){return Xr("not implemented")}_linkToIdToken(t,e){return Xr("not implemented")}_getReauthenticationResolver(t){return Xr("not implemented")}}async function EM(n,t){return To(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,t){return Ph(n,"POST","/v1/accounts:signInWithPassword",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,t){return Ph(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,t))}async function wM(n,t){return Ph(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Ky{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new dh(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new dh(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,e,"signInWithPassword",bM);case"emailLink":return TM(t,{email:this._email,oobCode:this._password});default:Bs(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,s,"signUpPassword",EM);case"emailLink":return wM(t,{idToken:e,email:this._email,oobCode:this._password});default:Bs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(n,t){return Ph(n,"POST","/v1/accounts:signInWithIdp",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class gl extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new gl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Bs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const f=new gl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return Ru(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Ru(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ru(t,e)}buildRequest(){const t={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ih(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AM(n){const t=qc(Gc(n)).link,e=t?qc(Gc(t)).deep_link_id:null,s=qc(Gc(n)).deep_link_id;return(s?qc(Gc(s)).link:null)||s||e||t||n}class Yy{constructor(t){const e=qc(Gc(t)),s=e.apiKey??null,o=e.oobCode??null,u=SM(e.mode??null);Ft(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=AM(t);try{return new Yy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(t,e){return dh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=Yy.parseLink(e);return Ft(s,"argument-error"),dh._fromEmailAndCode(t,s.code,s.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Rx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Mh{constructor(){super("facebook.com")}static credential(t){return gl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return to.credential(t.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return gl._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return eo.credentialFromTaggedObject(t)}static credentialFromError(t){return eo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return eo.credential(e,s)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Mh{constructor(){super("github.com")}static credential(t){return gl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return no.credentialFromTaggedObject(t)}static credentialFromError(t){return no.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return no.credential(t.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Mh{constructor(){super("twitter.com")}static credential(t,e){return gl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return io.credentialFromTaggedObject(t)}static credentialFromError(t){return io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return io.credential(e,s)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(n,t){return Ph(n,"POST","/v1/accounts:signUp",bo(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await zs._fromIdTokenResponse(t,s,o),f=Kb(s);return new yl({user:u,providerId:f,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=Kb(s);return new yl({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function Kb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Fs{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Cd(t,e,s,o)}}function Ix(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(n,u,t,s):u})}async function RM(n,t,e=!1){const s=await fh(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return yl._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,t,e=!1){const{auth:s}=n;if(ms(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await fh(n,Ix(s,o,t,n),e);Ft(u.idToken,s,"internal-error");const f=Gy(u.idToken);Ft(f,s,"internal-error");const{sub:g}=f;return Ft(n.uid===g,s,"user-mismatch"),yl._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Bs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(n,t,e=!1){if(ms(n.app))return Promise.reject(Jr(n));const s="signIn",o=await Ix(n,s,t),u=await yl._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(u.user),u}async function NM(n,t){return Nx(xl(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(n){const t=xl(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function PM(n,t,e){if(ms(n.app))return Promise.reject(Jr(n));const s=xl(n),f=await Gg(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CM).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Px(n),y}),g=await yl._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function MM(n,t,e){return ms(n.app)?Promise.reject(Jr(n)):NM(tn(n),qu.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Px(n),s})}function DM(n,t,e,s){return tn(n).onIdTokenChanged(t,e,s)}function LM(n,t,e){return tn(n).beforeAuthStateChanged(t,e)}function OM(n,t,e,s){return tn(n).onAuthStateChanged(t,e,s)}function kM(n){return tn(n).signOut()}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e3,zM=10;class Dx extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!e&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);eM()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zM):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dx.type="LOCAL";const UM=Dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Lx.type="SESSION";const Ox=Lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Qd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!f?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async E=>E(e.origin,u)),y=await BM(g);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,y)=>{const E=$y("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===E)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(R.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:E,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function FM(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function HM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){return navigator?.serviceWorker?.controller||null}function GM(){return kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebaseLocalStorageDb",ZM=1,Id="firebaseLocalStorage",zx="fbase_key";class Dh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jd(n,t){return n.transaction([Id],t?"readwrite":"readonly").objectStore(Id)}function KM(){const n=indexedDB.deleteDatabase(Vx);return new Dh(n).toPromise()}function Zg(){const n=indexedDB.open(Vx,ZM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Id,{keyPath:zx})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Id)?t(s):(s.close(),await KM(),t(await Zg()))})})}async function Yb(n,t,e){const s=Jd(n,!0).put({[zx]:t,value:e});return new Dh(s).toPromise()}async function YM(n,t){const e=Jd(n,!1).get(t),s=await new Dh(e).toPromise();return s===void 0?null:s.value}function $b(n,t){const e=Jd(n,!0).delete(t);return new Dh(e).toPromise()}const $M=800,WM=3;class Ux{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>WM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(GM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zg();return await Yb(t,Rd,"1"),await $b(t,Rd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yb(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>YM(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>$b(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jd(o,!1).getAll();return new Dh(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ux.type="LOCAL";const XM=Ux;new Nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n,t){return t?Qr(t):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends Ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ru(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ru(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ru(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function JM(n){return Nx(n.auth,new Wy(n),n.bypassAuthState)}function tD(n){const{auth:t,user:e}=n;return Ft(e,t,"internal-error"),IM(e,new Wy(n),n.bypassAuthState)}async function eD(n){const{auth:t,user:e}=n;return Ft(e,t,"internal-error"),RM(e,new Wy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return eD;case"reauthViaPopup":case"reauthViaRedirect":return tD;default:Bs(this.auth,"internal-error")}}resolve(t){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Nh(2e3,1e4);class Eu extends Bx{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ft(t,this.auth,"internal-error"),t}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const t=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nD.get())};t()}}Eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="pendingRedirect",ld=new Map;class sD extends Bx{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=ld.get(this.auth._key());if(!t){try{const s=await rD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}ld.set(this.auth._key(),t)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rD(n,t){const e=lD(t),s=oD(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function aD(n,t){ld.set(n._key(),t)}function oD(n){return Qr(n._redirectPersistence)}function lD(n){return od(iD,n.config.apiKey,n.name)}async function uD(n,t,e=!1){if(ms(n.app))return Promise.reject(Jr(n));const s=xl(n),o=QM(s,t),f=await new sD(s,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=600*1e3;class hD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!jx(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(lr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(t))}saveEventToCache(t){this.cachedEventUids.add(Wb(t)),this.lastProcessedEventTime=Date.now()}}function Wb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function jx({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function fD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,t={}){return To(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function gD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await dD(n);for(const e of t)try{if(yD(e))return}catch{}Bs(n,"unauthorized-domain")}function yD(n){const t=Hg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===s}if(!pD.test(e))return!1;if(mD.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Nh(3e4,6e4);function Xb(){const n=ur().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function vD(n){return new Promise((t,e)=>{function s(){Xb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xb(),e(lr(n,"network-request-failed"))},timeout:_D.get()})}if(ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ur().gapi?.load)s();else{const o=cM("iframefcb");return ur()[o]=()=>{gapi.load?s():e(lr(n,"network-request-failed"))},Sx(`${uM()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw ud=null,t})}let ud=null;function ED(n){return ud=ud||vD(n),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Nh(5e3,15e3),TD="__/auth/iframe",wD="emulator/auth/iframe",xD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AD(n){const t=n.config;Ft(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?qy(t,wD):`https://${n.config.authDomain}/${TD}`,s={apiKey:t.apiKey,appName:n.name,v:Hu},o=SD.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Ih(s).slice(1)}`}async function CD(n){const t=await ED(n),e=ur().gapi;return Ft(e,n,"internal-error"),t.open({where:document.body,url:AD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=lr(n,"network-request-failed"),g=ur().setTimeout(()=>{u(f)},bD.get());function y(){ur().clearTimeout(g),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ID=500,ND=600,PD="_blank",MD="http://localhost";class Qb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DD(n,t,e,s=ID,o=ND){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...RD,width:s.toString(),height:o.toString(),top:u,left:f},E=Zn().toLowerCase();e&&(g=_x(E)?PD:e),gx(E)&&(t=t||MD,y.scrollbars="yes");const T=Object.entries(y).reduce((R,[V,K])=>`${R}${V}=${K},`,"");if(tM(E)&&g!=="_self")return LD(t||"",g),new Qb(null);const S=window.open(t||"",g,T);Ft(S,n,"popup-blocked");try{S.focus()}catch{}return new Qb(S)}function LD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="__/auth/handler",kD="emulator/auth/handler",VD=encodeURIComponent("fac");async function Jb(n,t,e,s,o,u){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Hu,eventId:o};if(t instanceof Rx){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",QR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof Mh){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await n._getAppCheckToken(),E=y?`#${VD}=${encodeURIComponent(y)}`:"";return`${zD(n)}?${Ih(g).slice(1)}${E}`}function zD({config:n}){return n.emulator?qy(n,kD):`https://${n.authDomain}/${OD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class UD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ox,this._completeRedirectFn=uD,this._overrideRedirectResult=aD}async _openPopup(t,e,s,o){na(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Jb(t,e,s,Hg(),o);return DD(t,u,$y())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await Jb(t,e,s,Hg(),o);return FM(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(na(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await CD(t),s=new hD(t);return e.register("authEvent",o=>(Ft(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(pg,{type:pg},o=>{const u=o?.[0]?.[pg];u!==void 0&&e(!!u),Bs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=gD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return wx()||yx()||Zy()}}const BD=UD;var tT="@firebase/auth",eT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HD(n){_r(new Us("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ft(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xx(n)},E=new aM(s,o,u,y);return gM(E,e),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),_r(new Us("auth-internal",t=>{const e=xl(t.getProvider("auth").getImmediate());return(s=>new jD(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(tT,eT,FD(n)),gs(tT,eT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=300,GD=R1("authIdTokenMaxAge")||qD;let nT=null;const ZD=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>GD)return;const o=e?.token;nT!==o&&(nT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KD(n=Vy()){const t=wl(n,"auth");if(t.isInitialized())return t.getImmediate();const e=pM(n,{popupRedirectResolver:BD,persistence:[XM,UM,Ox]}),s=R1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZD(u.toString());LM(e,f,()=>f(e.currentUser)),DM(e,g=>f(g))}}const o=A1("auth");return o&&yM(e,`http://${o}`),e}function YD(){return document.getElementsByTagName("head")?.[0]??document}oM({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const u=lr("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",YD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HD("Browser");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lo,Fx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,M){function O(){}O.prototype=M.prototype,z.F=M.prototype,z.prototype=new O,z.prototype.constructor=z,z.D=function(q,F,D){for(var U=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)U[$t-2]=arguments[$t];return M.prototype[F].apply(q,U)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,M,O){O||(O=0);const q=Array(16);if(typeof M=="string")for(var F=0;F<16;++F)q[F]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(F=0;F<16;++F)q[F]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=z.g[0],O=z.g[1],F=z.g[2];let D=z.g[3],U;U=M+(D^O&(F^D))+q[0]+3614090360&4294967295,M=O+(U<<7&4294967295|U>>>25),U=D+(F^M&(O^F))+q[1]+3905402710&4294967295,D=M+(U<<12&4294967295|U>>>20),U=F+(O^D&(M^O))+q[2]+606105819&4294967295,F=D+(U<<17&4294967295|U>>>15),U=O+(M^F&(D^M))+q[3]+3250441966&4294967295,O=F+(U<<22&4294967295|U>>>10),U=M+(D^O&(F^D))+q[4]+4118548399&4294967295,M=O+(U<<7&4294967295|U>>>25),U=D+(F^M&(O^F))+q[5]+1200080426&4294967295,D=M+(U<<12&4294967295|U>>>20),U=F+(O^D&(M^O))+q[6]+2821735955&4294967295,F=D+(U<<17&4294967295|U>>>15),U=O+(M^F&(D^M))+q[7]+4249261313&4294967295,O=F+(U<<22&4294967295|U>>>10),U=M+(D^O&(F^D))+q[8]+1770035416&4294967295,M=O+(U<<7&4294967295|U>>>25),U=D+(F^M&(O^F))+q[9]+2336552879&4294967295,D=M+(U<<12&4294967295|U>>>20),U=F+(O^D&(M^O))+q[10]+4294925233&4294967295,F=D+(U<<17&4294967295|U>>>15),U=O+(M^F&(D^M))+q[11]+2304563134&4294967295,O=F+(U<<22&4294967295|U>>>10),U=M+(D^O&(F^D))+q[12]+1804603682&4294967295,M=O+(U<<7&4294967295|U>>>25),U=D+(F^M&(O^F))+q[13]+4254626195&4294967295,D=M+(U<<12&4294967295|U>>>20),U=F+(O^D&(M^O))+q[14]+2792965006&4294967295,F=D+(U<<17&4294967295|U>>>15),U=O+(M^F&(D^M))+q[15]+1236535329&4294967295,O=F+(U<<22&4294967295|U>>>10),U=M+(F^D&(O^F))+q[1]+4129170786&4294967295,M=O+(U<<5&4294967295|U>>>27),U=D+(O^F&(M^O))+q[6]+3225465664&4294967295,D=M+(U<<9&4294967295|U>>>23),U=F+(M^O&(D^M))+q[11]+643717713&4294967295,F=D+(U<<14&4294967295|U>>>18),U=O+(D^M&(F^D))+q[0]+3921069994&4294967295,O=F+(U<<20&4294967295|U>>>12),U=M+(F^D&(O^F))+q[5]+3593408605&4294967295,M=O+(U<<5&4294967295|U>>>27),U=D+(O^F&(M^O))+q[10]+38016083&4294967295,D=M+(U<<9&4294967295|U>>>23),U=F+(M^O&(D^M))+q[15]+3634488961&4294967295,F=D+(U<<14&4294967295|U>>>18),U=O+(D^M&(F^D))+q[4]+3889429448&4294967295,O=F+(U<<20&4294967295|U>>>12),U=M+(F^D&(O^F))+q[9]+568446438&4294967295,M=O+(U<<5&4294967295|U>>>27),U=D+(O^F&(M^O))+q[14]+3275163606&4294967295,D=M+(U<<9&4294967295|U>>>23),U=F+(M^O&(D^M))+q[3]+4107603335&4294967295,F=D+(U<<14&4294967295|U>>>18),U=O+(D^M&(F^D))+q[8]+1163531501&4294967295,O=F+(U<<20&4294967295|U>>>12),U=M+(F^D&(O^F))+q[13]+2850285829&4294967295,M=O+(U<<5&4294967295|U>>>27),U=D+(O^F&(M^O))+q[2]+4243563512&4294967295,D=M+(U<<9&4294967295|U>>>23),U=F+(M^O&(D^M))+q[7]+1735328473&4294967295,F=D+(U<<14&4294967295|U>>>18),U=O+(D^M&(F^D))+q[12]+2368359562&4294967295,O=F+(U<<20&4294967295|U>>>12),U=M+(O^F^D)+q[5]+4294588738&4294967295,M=O+(U<<4&4294967295|U>>>28),U=D+(M^O^F)+q[8]+2272392833&4294967295,D=M+(U<<11&4294967295|U>>>21),U=F+(D^M^O)+q[11]+1839030562&4294967295,F=D+(U<<16&4294967295|U>>>16),U=O+(F^D^M)+q[14]+4259657740&4294967295,O=F+(U<<23&4294967295|U>>>9),U=M+(O^F^D)+q[1]+2763975236&4294967295,M=O+(U<<4&4294967295|U>>>28),U=D+(M^O^F)+q[4]+1272893353&4294967295,D=M+(U<<11&4294967295|U>>>21),U=F+(D^M^O)+q[7]+4139469664&4294967295,F=D+(U<<16&4294967295|U>>>16),U=O+(F^D^M)+q[10]+3200236656&4294967295,O=F+(U<<23&4294967295|U>>>9),U=M+(O^F^D)+q[13]+681279174&4294967295,M=O+(U<<4&4294967295|U>>>28),U=D+(M^O^F)+q[0]+3936430074&4294967295,D=M+(U<<11&4294967295|U>>>21),U=F+(D^M^O)+q[3]+3572445317&4294967295,F=D+(U<<16&4294967295|U>>>16),U=O+(F^D^M)+q[6]+76029189&4294967295,O=F+(U<<23&4294967295|U>>>9),U=M+(O^F^D)+q[9]+3654602809&4294967295,M=O+(U<<4&4294967295|U>>>28),U=D+(M^O^F)+q[12]+3873151461&4294967295,D=M+(U<<11&4294967295|U>>>21),U=F+(D^M^O)+q[15]+530742520&4294967295,F=D+(U<<16&4294967295|U>>>16),U=O+(F^D^M)+q[2]+3299628645&4294967295,O=F+(U<<23&4294967295|U>>>9),U=M+(F^(O|~D))+q[0]+4096336452&4294967295,M=O+(U<<6&4294967295|U>>>26),U=D+(O^(M|~F))+q[7]+1126891415&4294967295,D=M+(U<<10&4294967295|U>>>22),U=F+(M^(D|~O))+q[14]+2878612391&4294967295,F=D+(U<<15&4294967295|U>>>17),U=O+(D^(F|~M))+q[5]+4237533241&4294967295,O=F+(U<<21&4294967295|U>>>11),U=M+(F^(O|~D))+q[12]+1700485571&4294967295,M=O+(U<<6&4294967295|U>>>26),U=D+(O^(M|~F))+q[3]+2399980690&4294967295,D=M+(U<<10&4294967295|U>>>22),U=F+(M^(D|~O))+q[10]+4293915773&4294967295,F=D+(U<<15&4294967295|U>>>17),U=O+(D^(F|~M))+q[1]+2240044497&4294967295,O=F+(U<<21&4294967295|U>>>11),U=M+(F^(O|~D))+q[8]+1873313359&4294967295,M=O+(U<<6&4294967295|U>>>26),U=D+(O^(M|~F))+q[15]+4264355552&4294967295,D=M+(U<<10&4294967295|U>>>22),U=F+(M^(D|~O))+q[6]+2734768916&4294967295,F=D+(U<<15&4294967295|U>>>17),U=O+(D^(F|~M))+q[13]+1309151649&4294967295,O=F+(U<<21&4294967295|U>>>11),U=M+(F^(O|~D))+q[4]+4149444226&4294967295,M=O+(U<<6&4294967295|U>>>26),U=D+(O^(M|~F))+q[11]+3174756917&4294967295,D=M+(U<<10&4294967295|U>>>22),U=F+(M^(D|~O))+q[2]+718787259&4294967295,F=D+(U<<15&4294967295|U>>>17),U=O+(D^(F|~M))+q[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(F+(U<<21&4294967295|U>>>11))&4294967295,z.g[2]=z.g[2]+F&4294967295,z.g[3]=z.g[3]+D&4294967295}s.prototype.v=function(z,M){M===void 0&&(M=z.length);const O=M-this.blockSize,q=this.C;let F=this.h,D=0;for(;D<M;){if(F==0)for(;D<=O;)o(this,z,D),D+=this.blockSize;if(typeof z=="string"){for(;D<M;)if(q[F++]=z.charCodeAt(D++),F==this.blockSize){o(this,q),F=0;break}}else for(;D<M;)if(q[F++]=z[D++],F==this.blockSize){o(this,q),F=0;break}}this.h=F,this.o+=M},s.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;M=this.o*8;for(var O=z.length-8;O<z.length;++O)z[O]=M&255,M/=256;for(this.v(z),z=Array(16),M=0,O=0;O<4;++O)for(let q=0;q<32;q+=8)z[M++]=this.g[O]>>>q&255;return z};function u(z,M){var O=g;return Object.prototype.hasOwnProperty.call(O,z)?O[z]:O[z]=M(z)}function f(z,M){this.h=M;const O=[];let q=!0;for(let F=z.length-1;F>=0;F--){const D=z[F]|0;q&&D==M||(O[F]=D,q=!1)}this.g=O}var g={};function y(z){return-128<=z&&z<128?u(z,function(M){return new f([M|0],M<0?-1:0)}):new f([z|0],z<0?-1:0)}function E(z){if(isNaN(z)||!isFinite(z))return S;if(z<0)return X(E(-z));const M=[];let O=1;for(let q=0;z>=O;q++)M[q]=z/O|0,O*=4294967296;return new f(M,0)}function T(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return X(T(z.substring(1),M));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=E(Math.pow(M,8));let q=S;for(let D=0;D<z.length;D+=8){var F=Math.min(8,z.length-D);const U=parseInt(z.substring(D,D+F),M);F<8?(F=E(Math.pow(M,F)),q=q.j(F).add(E(U))):(q=q.j(O),q=q.add(E(U)))}return q}var S=y(0),R=y(1),V=y(16777216);n=f.prototype,n.m=function(){if($(this))return-X(this).m();let z=0,M=1;for(let O=0;O<this.g.length;O++){const q=this.i(O);z+=(q>=0?q:4294967296+q)*M,M*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(K(this))return"0";if($(this))return"-"+X(this).toString(z);const M=E(Math.pow(z,6));var O=this;let q="";for(;;){const F=ht(O,M).g;O=ct(O,F.j(M));let D=((O.g.length>0?O.g[0]:O.h)>>>0).toString(z);if(O=F,K(O))return D+q;for(;D.length<6;)D="0"+D;q=D+q}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function K(z){if(z.h!=0)return!1;for(let M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function $(z){return z.h==-1}n.l=function(z){return z=ct(this,z),$(z)?-1:K(z)?0:1};function X(z){const M=z.g.length,O=[];for(let q=0;q<M;q++)O[q]=~z.g[q];return new f(O,~z.h).add(R)}n.abs=function(){return $(this)?X(this):this},n.add=function(z){const M=Math.max(this.g.length,z.g.length),O=[];let q=0;for(let F=0;F<=M;F++){let D=q+(this.i(F)&65535)+(z.i(F)&65535),U=(D>>>16)+(this.i(F)>>>16)+(z.i(F)>>>16);q=U>>>16,D&=65535,U&=65535,O[F]=U<<16|D}return new f(O,O[O.length-1]&-2147483648?-1:0)};function ct(z,M){return z.add(X(M))}n.j=function(z){if(K(this)||K(z))return S;if($(this))return $(z)?X(this).j(X(z)):X(X(this).j(z));if($(z))return X(this.j(X(z)));if(this.l(V)<0&&z.l(V)<0)return E(this.m()*z.m());const M=this.g.length+z.g.length,O=[];for(var q=0;q<2*M;q++)O[q]=0;for(q=0;q<this.g.length;q++)for(let F=0;F<z.g.length;F++){const D=this.i(q)>>>16,U=this.i(q)&65535,$t=z.i(F)>>>16,Qt=z.i(F)&65535;O[2*q+2*F]+=U*Qt,Q(O,2*q+2*F),O[2*q+2*F+1]+=D*Qt,Q(O,2*q+2*F+1),O[2*q+2*F+1]+=U*$t,Q(O,2*q+2*F+1),O[2*q+2*F+2]+=D*$t,Q(O,2*q+2*F+2)}for(z=0;z<M;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=M;z<2*M;z++)O[z]=0;return new f(O,0)};function Q(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function Y(z,M){this.g=z,this.h=M}function ht(z,M){if(K(M))throw Error("division by zero");if(K(z))return new Y(S,S);if($(z))return M=ht(X(z),M),new Y(X(M.g),X(M.h));if($(M))return M=ht(z,X(M)),new Y(X(M.g),M.h);if(z.g.length>30){if($(z)||$(M))throw Error("slowDivide_ only works with positive integers.");for(var O=R,q=M;q.l(z)<=0;)O=lt(O),q=lt(q);var F=bt(O,1),D=bt(q,1);for(q=bt(q,2),O=bt(O,2);!K(q);){var U=D.add(q);U.l(z)<=0&&(F=F.add(O),D=U),q=bt(q,1),O=bt(O,1)}return M=ct(z,F.j(M)),new Y(F,M)}for(F=S;z.l(M)>=0;){for(O=Math.max(1,Math.floor(z.m()/M.m())),q=Math.ceil(Math.log(O)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),D=E(O),U=D.j(M);$(U)||U.l(z)>0;)O-=q,D=E(O),U=D.j(M);K(D)&&(D=R),F=F.add(D),z=ct(z,U)}return new Y(F,z)}n.B=function(z){return ht(this,z).h},n.and=function(z){const M=Math.max(this.g.length,z.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)&z.i(q);return new f(O,this.h&z.h)},n.or=function(z){const M=Math.max(this.g.length,z.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)|z.i(q);return new f(O,this.h|z.h)},n.xor=function(z){const M=Math.max(this.g.length,z.g.length),O=[];for(let q=0;q<M;q++)O[q]=this.i(q)^z.i(q);return new f(O,this.h^z.h)};function lt(z){const M=z.g.length+1,O=[];for(let q=0;q<M;q++)O[q]=z.i(q)<<1|z.i(q-1)>>>31;return new f(O,z.h)}function bt(z,M){const O=M>>5;M%=32;const q=z.g.length-O,F=[];for(let D=0;D<q;D++)F[D]=M>0?z.i(D+O)>>>M|z.i(D+O+1)<<32-M:z.i(D+O);return new f(F,z.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fx=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=T,lo=f}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hx,Zc,qx,cd,Kg,Gx,Zx,Kx;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=e(this);function o(d,w){if(w)t:{var A=s;d=d.split(".");for(var P=0;P<d.length-1;P++){var et=d[P];if(!(et in A))break t;A=A[et]}d=d[d.length-1],P=A[d],w=w(P),w!=P&&w!=null&&t(A,d,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(w){var A=[],P;for(P in w)Object.prototype.hasOwnProperty.call(w,P)&&A.push([P,w[P]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function y(d,w,A){return d.call.apply(d.bind,arguments)}function E(d,w,A){return E=y,E.apply(null,arguments)}function T(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,w){function A(){}A.prototype=w.prototype,d.Z=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(P,et,rt){for(var xt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)xt[Bt-2]=arguments[Bt];return w.prototype[et].apply(P,xt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function V(d){const w=d.length;if(w>0){const A=Array(w);for(let P=0;P<w;P++)A[P]=d[P];return A}return[]}function K(d,w){for(let P=1;P<arguments.length;P++){const et=arguments[P];var A=typeof et;if(A=A!="object"?A:et?Array.isArray(et)?"array":A:"null",A=="array"||A=="object"&&typeof et.length=="number"){A=d.length||0;const rt=et.length||0;d.length=A+rt;for(let xt=0;xt<rt;xt++)d[A+xt]=et[xt]}else d.push(et)}}class ${constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function X(d){f.setTimeout(()=>{throw d},0)}function ct(){var d=z;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Q{constructor(){this.h=this.g=null}add(w,A){const P=Y.get();P.set(w,A),this.h?this.h.next=P:this.g=P,this.h=P}}var Y=new $(()=>new ht,d=>d.reset());class ht{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,bt=!1,z=new Q,M=()=>{const d=Promise.resolve(void 0);lt=()=>{d.then(O)}};function O(){for(var d;d=ct();){try{d.h.call(d.g)}catch(A){X(A)}var w=Y;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}bt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};f.addEventListener("test",A,w),f.removeEventListener("test",A,w)}catch{}return d})();function U(d){return/^[\s\xa0]*$/.test(d)}function $t(d,w){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}S($t,F),$t.prototype.init=function(d,w){const A=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),ot=0;function Et(d,w,A,P,et){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!P,this.ha=et,this.key=++ot,this.da=this.fa=!1}function pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Vt(d,w,A){for(const P in d)w.call(A,d[P],P,d)}function k(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function Z(d){const w={};for(const A in d)w[A]=d[A];return w}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(d,w){let A,P;for(let et=1;et<arguments.length;et++){P=arguments[et];for(A in P)d[A]=P[A];for(let rt=0;rt<H.length;rt++)A=H[rt],Object.prototype.hasOwnProperty.call(P,A)&&(d[A]=P[A])}}function Tt(d){this.src=d,this.g={},this.h=0}Tt.prototype.add=function(d,w,A,P,et){const rt=d.toString();d=this.g[rt],d||(d=this.g[rt]=[],this.h++);const xt=wt(d,w,P,et);return xt>-1?(w=d[xt],A||(w.fa=!1)):(w=new Et(w,this.src,rt,!!P,et),w.fa=A,d.push(w)),w};function St(d,w){const A=w.type;if(A in d.g){var P=d.g[A],et=Array.prototype.indexOf.call(P,w,void 0),rt;(rt=et>=0)&&Array.prototype.splice.call(P,et,1),rt&&(pt(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function wt(d,w,A,P){for(let et=0;et<d.length;++et){const rt=d[et];if(!rt.da&&rt.listener==w&&rt.capture==!!A&&rt.ha==P)return et}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),ne={};function ui(d,w,A,P,et){if(Array.isArray(w)){for(let rt=0;rt<w.length;rt++)ui(d,w[rt],A,P,et);return null}return A=br(A),d&&d[Qt]?d.J(w,A,g(P)?!!P.capture:!1,et):Er(d,w,A,!1,P,et)}function Er(d,w,A,P,et,rt){if(!w)throw Error("Invalid event type");const xt=g(et)?!!et.capture:!!et;let Bt=la(d);if(Bt||(d[xe]=Bt=new Tt(d)),A=Bt.add(w,A,P,xt,rt),A.proxy)return A;if(P=Hs(),A.proxy=P,P.src=d,P.listener=A,d.addEventListener)D||(et=xt),et===void 0&&(et=!1),d.addEventListener(w.toString(),P,et);else if(d.attachEvent)d.attachEvent(oa(w.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Hs(){function d(A){return w.call(d.src,d.listener,A)}const w=Rl;return d}function Ki(d,w,A,P,et){if(Array.isArray(w))for(var rt=0;rt<w.length;rt++)Ki(d,w[rt],A,P,et);else P=g(P)?!!P.capture:!!P,A=br(A),d&&d[Qt]?(d=d.i,rt=String(w).toString(),rt in d.g&&(w=d.g[rt],A=wt(w,A,P,et),A>-1&&(pt(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete d.g[rt],d.h--)))):d&&(d=la(d))&&(w=d.g[w.toString()],d=-1,w&&(d=wt(w,A,P,et)),(A=d>-1?w[d]:null)&&vs(A))}function vs(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Qt])St(w.i,d);else{var A=d.type,P=d.proxy;w.removeEventListener?w.removeEventListener(A,P,d.capture):w.detachEvent?w.detachEvent(oa(A),P):w.addListener&&w.removeListener&&w.removeListener(P),(A=la(w))?(St(A,d),A.h==0&&(A.src=null,w[xe]=null)):pt(d)}}}function oa(d){return d in ne?ne[d]:ne[d]="on"+d}function Rl(d,w){if(d.da)d=!0;else{w=new $t(w,this);const A=d.listener,P=d.ha||d.src;d.fa&&vs(d),d=A.call(P,w)}return d}function la(d){return d=d[xe],d instanceof Tt?d:null}var gn="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(d){return typeof d=="function"?d:(d[gn]||(d[gn]=function(w){return d.handleEvent(w)}),d[gn])}function Ke(){q.call(this),this.i=new Tt(this),this.M=this,this.G=null}S(Ke,q),Ke.prototype[Qt]=!0,Ke.prototype.removeEventListener=function(d,w,A,P){Ki(this,d,w,A,P)};function Ye(d,w){var A,P=d.G;if(P)for(A=[];P;P=P.G)A.push(P);if(d=d.M,P=w.type||w,typeof w=="string")w=new F(w,d);else if(w instanceof F)w.target=w.target||d;else{var et=w;w=new F(P,d),dt(w,et)}et=!0;let rt,xt;if(A)for(xt=A.length-1;xt>=0;xt--)rt=w.g=A[xt],et=Ai(rt,P,!0,w)&&et;if(rt=w.g=d,et=Ai(rt,P,!0,w)&&et,et=Ai(rt,P,!1,w)&&et,A)for(xt=0;xt<A.length;xt++)rt=w.g=A[xt],et=Ai(rt,P,!1,w)&&et}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const A=d.g[w];for(let P=0;P<A.length;P++)pt(A[P]);delete d.g[w],d.h--}}this.G=null},Ke.prototype.J=function(d,w,A,P){return this.i.add(String(d),w,!1,A,P)},Ke.prototype.K=function(d,w,A,P){return this.i.add(String(d),w,!0,A,P)};function Ai(d,w,A,P){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let et=!0;for(let rt=0;rt<w.length;++rt){const xt=w[rt];if(xt&&!xt.da&&xt.capture==A){const Bt=xt.listener,te=xt.ha||xt.src;xt.fa&&St(d.i,xt),et=Bt.call(te,P)!==!1&&et}}return et&&!P.defaultPrevented}function Il(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:f.setTimeout(d,w||0)}function ua(d){d.g=Il(()=>{d.g=null,d.i&&(d.i=!1,ua(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Ju extends q{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(d){q.call(this),this.h=d,this.g={}}S(Tr,q);var Yi=[];function un(d){Vt(d.g,function(w,A){this.g.hasOwnProperty(A)&&vs(w)},d),d.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),un(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=f.JSON.stringify,In=f.JSON.parse,Nl=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ao(){}function Pl(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $i(){F.call(this,"d")}S($i,F);function ci(){F.call(this,"c")}S(ci,F);var hi={},fi=null;function ca(){return fi=fi||new Ke}hi.Ia="serverreachability";function Co(d){F.call(this,hi.Ia,d)}S(Co,F);function Es(d){const w=ca();Ye(w,new Co(w))}hi.STAT_EVENT="statevent";function wr(d,w){F.call(this,hi.STAT_EVENT,d),this.stat=w}S(wr,F);function Me(d){const w=ca();Ye(w,new wr(w,d))}hi.Ja="timingevent";function Ml(d,w){F.call(this,hi.Ja,d),this.size=w}S(Ml,F);function qs(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},w)}function Gs(){this.g=!0}Gs.prototype.ua=function(){this.g=!1};function Ro(d,w,A,P,et,rt){d.info(function(){if(d.g)if(rt){var xt="",Bt=rt.split("&");for(let me=0;me<Bt.length;me++){var te=Bt[me].split("=");if(te.length>1){const De=te[0];te=te[1];const ti=De.split("_");xt=ti.length>=2&&ti[1]=="type"?xt+(De+"="+te+"&"):xt+(De+"=redacted&")}}}else xt=null;else xt=rt;return"XMLHTTP REQ ("+P+") [attempt "+et+"]: "+w+`
`+A+`
`+xt})}function Io(d,w,A,P,et,rt,xt){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+et+"]: "+w+`
`+A+`
`+rt+" "+xt})}function bs(d,w,A,P){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Wi(d,A)+(P?" "+P:"")})}function No(d,w){d.info(function(){return"TIMEOUT: "+w})}Gs.prototype.info=function(){};function Wi(d,w){if(!d.g)return w;if(!w)return null;try{const rt=JSON.parse(w);if(rt){for(d=0;d<rt.length;d++)if(Array.isArray(rt[d])){var A=rt[d];if(!(A.length<2)){var P=A[1];if(Array.isArray(P)&&!(P.length<1)){var et=P[0];if(et!="noop"&&et!="stop"&&et!="close")for(let xt=1;xt<P.length;xt++)P[xt]=""}}}}return Kn(rt)}catch{return w}}var Ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ts;function yn(){}S(yn,Ao),yn.prototype.g=function(){return new XMLHttpRequest},Ts=new yn;function Mt(d){return encodeURIComponent(String(d))}function Dl(d){var w=1;d=d.split(":");const A=[];for(;w>0&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function di(d,w,A,P){this.j=d,this.i=w,this.l=A,this.S=P||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var xr={},mi={};function Ri(d,w,A){d.M=1,d.A=ge(Ee(w)),d.u=A,d.R=!0,Yn(d,null)}function Yn(d,w){d.F=Date.now(),Sr(d),d.B=Ee(d.A);var A=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),fa(A.i,"t",P),d.C=0,A=d.j.L,d.h=new ws,d.g=Or(d.j,A?w:null,!d.u),d.P>0&&(d.O=new Ju(E(d.Y,d,d.g),d.P)),w=d.V,A=d.g,P=d.ba;var et="readystatechange";Array.isArray(et)||(et&&(Yi[0]=et.toString()),et=Yi);for(let rt=0;rt<et.length;rt++){const xt=ui(A,et[rt],P||w.handleEvent,!1,w.h||w);if(!xt)break;w.g[xt.key]=xt}w=d.J?Z(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Es(),Ro(d.i,d.v,d.B,d.l,d.S,d.u)}di.prototype.ba=function(d){d=d.target;const w=this.O;w&&Tn(d)==3?w.j():this.Y(d)},di.prototype.Y=function(d){try{if(d==this.g)t:{const Bt=Tn(this.g),te=this.g.ya(),me=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||Xs(this.g)))){this.K||Bt!=4||te==7||(te==8||me<=0?Es(3):Es(2)),Ii(this);var w=this.g.ca();this.X=w;var A=xs(this);if(this.o=w==200,Io(this.i,this.v,this.B,this.l,this.S,Bt,w),this.o){if(this.U&&!this.L){e:{if(this.g){var P,et=this.g;if((P=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(P)){var rt=P;break e}}rt=null}if(d=rt)bs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ha(this,d);else{this.o=!1,this.m=3,Me(12),$n(this),Ar(this);break t}}if(this.R){d=!0;let De;for(;!this.K&&this.C<A.length;)if(De=Ll(this,A),De==mi){Bt==4&&(this.m=4,Me(14),d=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(De==xr){this.m=4,Me(15),bs(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else bs(this.i,this.l,De,null),ha(this,De);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||A.length!=0||this.h.h||(this.m=1,Me(16),d=!1),this.o=this.o&&d,!d)bs(this.i,this.l,A,"[Invalid Chunked Response]"),$n(this),Ar(this);else if(A.length>0&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.aa&&!xt.P&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Lo(xt),xt.P=!0,Me(11))}}else bs(this.i,this.l,A,null),ha(this,A);Bt==4&&$n(this),this.o&&!this.K&&(Bt==4?Un(this.j,this):(this.o=!1,Sr(this)))}else Is(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),$n(this),Ar(this)}}}catch{}finally{}};function xs(d){if(!ze(d))return d.g.la();const w=Xs(d.g);if(w==="")return"";let A="";const P=w.length,et=Tn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return $n(d),Ar(d),"";d.h.i=new f.TextDecoder}for(let rt=0;rt<P;rt++)d.h.h=!0,A+=d.h.i.decode(w[rt],{stream:!(et&&rt==P-1)});return w.length=0,d.h.g+=A,d.C=0,d.h.g}function ze(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ll(d,w){var A=d.C,P=w.indexOf(`
`,A);return P==-1?mi:(A=Number(w.substring(A,P)),isNaN(A)?xr:(P+=1,P+A>w.length?mi:(w=w.slice(P,P+A),d.C=P+A,w)))}di.prototype.cancel=function(){this.K=!0,$n(this)};function Sr(d){d.T=Date.now()+d.H,Xi(d,d.H)}function Xi(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qs(E(d.aa,d),w)}function Ii(d){d.D&&(f.clearTimeout(d.D),d.D=null)}di.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(No(this.i,this.B),this.M!=2&&(Es(),Me(17)),$n(this),this.m=2,Ar(this)):Xi(this,this.T-d)};function Ar(d){d.j.I==0||d.K||Un(d.j,d)}function $n(d){Ii(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,un(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function ha(d,w){try{var A=d.j;if(A.I!=0&&(A.g==d||Ss(A.h,d))){if(!d.L&&Ss(A.h,d)&&A.I==3){try{var P=A.Ba.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var et=P;if(et[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)ga(A),ss(A);else break t;Do(A),Me(18)}}else A.xa=et[1],0<A.xa-A.K&&et[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=qs(E(A.Va,A),6e3));pi(A.h)<=1&&A.ta&&(A.ta=void 0)}else rs(A,11)}else if((d.L||A.g==d)&&ga(A),!U(w))for(et=A.Ba.g.parse(w),w=0;w<et.length;w++){let me=et[w];const De=me[0];if(!(De<=A.K))if(A.K=De,me=me[1],A.I==2)if(me[0]=="c"){A.M=me[1],A.ba=me[2];const ti=me[3];ti!=null&&(A.ka=ti,A.j.info("VER="+A.ka));const yi=me[4];yi!=null&&(A.za=yi,A.j.info("SVER="+A.za));const ei=me[5];ei!=null&&typeof ei=="number"&&ei>0&&(P=1.5*ei,A.O=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const Di=d.g;if(Di){const Li=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var rt=P.h;rt.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Qi(rt,rt.h),rt.h=null))}if(P.G){const Ea=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(P.wa=Ea,It(P.J,P.G,Ea))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),P=A;var xt=d;if(P.na=Oo(P,P.L?P.ba:null,P.W),xt.L){Ji(P.h,xt);var Bt=xt,te=P.O;te&&(Bt.H=te),Bt.D&&(Ii(Bt),Sr(Bt)),P.g=xt}else Mo(P);A.i.length>0&&Pi(A)}else me[0]!="stop"&&me[0]!="close"||rs(A,7);else A.I==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?rs(A,7):Wt(A):me[0]!="noop"&&A.l&&A.l.qa(me),A.A=0)}}Es(4)}catch{}}var tc=class{constructor(d,w){this.g=d,this.map=w}};function Cr(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pi(d){return d.h?1:d.g?d.g.size:0}function Ss(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Qi(d,w){d.g?d.g.add(w):d.h=w}function Ji(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Cr.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ir(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.G);return w}return V(d.i)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(d,w){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const P=d[A].indexOf("=");let et,rt=null;P>=0?(et=d[A].substring(0,P),rt=d[A].substring(P+1)):et=d[A],w(et,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function ue(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof ue?(this.l=d.l,Wn(this,d.j),this.o=d.o,this.g=d.g,gi(this,d.u),this.h=d.h,es(this,Pr(d.i)),this.m=d.m):d&&(w=String(d).match(ts))?(this.l=!1,Wn(this,w[1]||"",!0),this.o=As(w[2]||""),this.g=As(w[3]||"",!0),gi(this,w[4]),this.h=As(w[5]||"",!0),es(this,w[6]||"",!0),this.m=As(w[7]||"")):(this.l=!1,this.i=new vn(null,this.l))}ue.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(Ue(w,Po,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Ue(w,Po,!0),"@"),d.push(Mt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Ue(A,A.charAt(0)=="/"?Vn:Zs,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Ue(A,ns)),d.join("")},ue.prototype.resolve=function(d){const w=Ee(this);let A=!!d.j;A?Wn(w,d.j):A=!!d.o,A?w.o=d.o:A=!!d.g,A?w.g=d.g:A=d.u!=null;var P=d.h;if(A)gi(w,d.u);else if(A=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var et=w.h.lastIndexOf("/");et!=-1&&(P=w.h.slice(0,et+1)+P)}if(et=P,et==".."||et==".")P="";else if(et.indexOf("./")!=-1||et.indexOf("/.")!=-1){P=et.lastIndexOf("/",0)==0,et=et.split("/");const rt=[];for(let xt=0;xt<et.length;){const Bt=et[xt++];Bt=="."?P&&xt==et.length&&rt.push(""):Bt==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),P&&xt==et.length&&rt.push("")):(rt.push(Bt),P=!0)}P=rt.join("/")}else P=et}return A?w.h=P:A=d.i.toString()!=="",A?es(w,Pr(d.i)):A=!!d.m,A&&(w.m=d.m),w};function Ee(d){return new ue(d)}function Wn(d,w,A){d.j=A?As(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function gi(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function es(d,w,A){w instanceof vn?(d.i=w,Mr(d.i,d.l)):(A||(w=Ue(w,Ie)),d.i=new vn(w,d.l))}function It(d,w,A){d.i.set(w,A)}function ge(d){return It(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function As(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ue(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,_n),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Po=/[#\/\?@]/g,Zs=/[#\?:]/g,Vn=/[#\?]/g,Ie=/[#\?@]/g,ns=/#/g;function vn(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Xn(d){d.g||(d.g=new Map,d.h=0,d.i&&re(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}n=vn.prototype,n.add=function(d,w){Xn(this),this.i=null,d=Qn(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function Nr(d,w){Xn(d),w=Qn(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Cs(d,w){return Xn(d),w=Qn(d,w),d.g.has(w)}n.forEach=function(d,w){Xn(this),this.g.forEach(function(A,P){A.forEach(function(et){d.call(w,et,P,this)},this)},this)};function Ks(d,w){Xn(d);let A=[];if(typeof w=="string")Cs(d,w)&&(A=A.concat(d.g.get(Qn(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)A=A.concat(d[w]);return A}n.set=function(d,w){return Xn(this),this.i=null,d=Qn(this,d),Cs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=Ks(this,d),d.length>0?String(d[0]):w):w};function fa(d,w,A){Nr(d,w),A.length>0&&(d.i=null,d.g.set(Qn(d,w),V(A)),d.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let P=0;P<w.length;P++){var A=w[P];const et=Mt(A);A=Ks(this,A);for(let rt=0;rt<A.length;rt++){let xt=et;A[rt]!==""&&(xt+="="+Mt(A[rt])),d.push(xt)}}return this.i=d.join("&")};function Pr(d){const w=new vn;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function Qn(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Mr(d,w){w&&!d.j&&(Xn(d),d.i=null,d.g.forEach(function(A,P){const et=P.toLowerCase();P!=et&&(Nr(this,P),fa(this,et,A))},d)),d.j=w}function Ys(d,w){const A=new Gs;if(f.Image){const P=new Image;P.onload=T(hn,A,"TestLoadImage: loaded",!0,w,P),P.onerror=T(hn,A,"TestLoadImage: error",!1,w,P),P.onabort=T(hn,A,"TestLoadImage: abort",!1,w,P),P.ontimeout=T(hn,A,"TestLoadImage: timeout",!1,w,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else w(!1)}function Rs(d,w){const A=new Gs,P=new AbortController,et=setTimeout(()=>{P.abort(),hn(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:P.signal}).then(rt=>{clearTimeout(et),rt.ok?hn(A,"TestPingServer: ok",!0,w):hn(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(et),hn(A,"TestPingServer: error",!1,w)})}function hn(d,w,A,P,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),P(A)}catch{}}function Ol(){this.g=new Nl}function Ut(d){this.i=d.Sb||null,this.h=d.ab||!1}S(Ut,Ao),Ut.prototype.g=function(){return new En(this.i,this.h)};function En(d,w){Ke.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(En,Ke),n=En.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Ni(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||f).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ce(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ce(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?bn(this):Ni(this),this.readyState==3&&ce(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,bn(this))},n.Na=function(d){this.g&&(this.response=d,bn(this))},n.ga=function(){this.g&&bn(this)};function bn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ni(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function Ni(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function is(d){let w="";return Vt(d,function(A,P){w+=P,w+=":",w+=A,w+=`\r
`}),w}function zn(d,w,A){t:{for(P in A){var P=!1;break t}P=!0}P||(A=is(A),typeof d=="string"?A!=null&&Mt(A):It(d,w,A))}function he(d){Ke.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(he,Ke);var $s=/^https?$/i,Ws=["POST","PUT"];n=he.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ts.g(),this.g.onreadystatechange=R(E(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(rt){Ne(this,rt);return}if(d=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var et in P)A.set(et,P[et]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const rt of P.keys())A.set(rt,P.get(rt));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(rt=>rt.toLowerCase()=="content-type"),et=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Ws,w,void 0)>=0)||P||et||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,xt]of A)this.g.setRequestHeader(rt,xt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(rt){Ne(this,rt)}};function Ne(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Jn(d),qe(d)}function Jn(d){d.A||(d.A=!0,Ye(d,"complete"),Ye(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ye(this,"complete"),Ye(this,"abort"),qe(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),he.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},n.Xa=function(){da(this)};function da(d){if(d.h&&typeof u<"u"){if(d.v&&Tn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ye(d,"readystatechange"),Tn(d)==4){d.h=!1;try{const rt=d.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var P;if(P=rt===0){let xt=String(d.D).match(ts)[1]||null;!xt&&f.self&&f.self.location&&(xt=f.self.location.protocol.slice(0,-1)),P=!$s.test(xt?xt.toLowerCase():"")}A=P}if(A)Ye(d,"complete"),Ye(d,"success");else{d.o=6;try{var et=Tn(d)>2?d.g.statusText:""}catch{et=""}d.l=et+" ["+d.ca()+"]",Jn(d)}}finally{qe(d)}}}}function qe(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,w||Ye(d,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tn(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),In(w)}};function Xs(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(d){const w={};d=(d.g&&Tn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(U(d[P]))continue;var A=Dl(d[P]);const et=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const rt=w[et]||[];w[et]=rt,rt.push(A)}k(w,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function Lr(d){this.za=0,this.i=[],this.j=new Gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dr("baseRetryDelayMs",5e3,d),this.Za=Dr("retryDelaySeedMs",1e4,d),this.Ta=Dr("forwardChannelMaxRetries",2,d),this.va=Dr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Cr(d&&d.concurrentRequestLimit),this.Ba=new Ol,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Lr.prototype,n.ka=8,n.I=1,n.connect=function(d,w,A,P){Me(0),this.W=d,this.H=w||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.J=Oo(this,null,this.W),Pi(this)};function Wt(d){if(fn(d),d.I==3){var w=d.V++,A=Ee(d.J);if(It(A,"SID",d.M),It(A,"RID",w),It(A,"TYPE","terminate"),Ns(d,A),w=new di(d,d.j,w),w.M=2,w.A=ge(Ee(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&f.Image&&(new Image().src=w.A,A=!0),A||(w.g=Or(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Sr(w)}Mi(d)}function ss(d){d.g&&(Lo(d),d.g.cancel(),d.g=null)}function fn(d){ss(d),d.v&&(f.clearTimeout(d.v),d.v=null),ga(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Pi(d){if(!Rr(d.h)&&!d.m){d.m=!0;var w=d.Ea;lt||M(),bt||(lt(),bt=!0),z.add(w,d),d.D=0}}function kl(d,w){return pi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qs(E(d.Ea,d,w),zl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const et=new di(this,this.j,d);let rt=this.o;if(this.U&&(rt?(rt=Z(rt),dt(rt,this.U)):rt=this.U),this.u!==null||this.R||(et.J=rt,rt=null),this.S)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(w+=P,w>4096){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=ma(this,et,w),A=Ee(this.J),It(A,"RID",d),It(A,"CVER",22),this.G&&It(A,"X-HTTP-Session-Id",this.G),Ns(this,A),rt&&(this.R?w="headers="+Mt(is(rt))+"&"+w:this.u&&zn(A,this.u,rt)),Qi(this.h,et),this.Ra&&It(A,"TYPE","init"),this.S?(It(A,"$req",w),It(A,"SID","null"),et.U=!0,Ri(et,A,null)):Ri(et,A,w),this.I=2}}else this.I==3&&(d?Vl(this,d):this.i.length==0||Rr(this.h)||Vl(this))};function Vl(d,w){var A;w?A=w.l:A=d.V++;const P=Ee(d.J);It(P,"SID",d.M),It(P,"RID",A),It(P,"AID",d.K),Ns(d,P),d.u&&d.o&&zn(P,d.u,d.o),A=new di(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),w&&(d.i=w.G.concat(d.i)),w=ma(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Qi(d.h,A),Ri(A,P,w)}function Ns(d,w){d.H&&Vt(d.H,function(A,P){It(w,P,A)}),d.l&&Vt({},function(A,P){It(w,P,A)})}function ma(d,w,A){A=Math.min(d.i.length,A);const P=d.l?E(d.l.Ka,d.l,d):null;t:{var et=d.i;let Bt=-1;for(;;){const te=["count="+A];Bt==-1?A>0?(Bt=et[0].g,te.push("ofs="+Bt)):Bt=0:te.push("ofs="+Bt);let me=!0;for(let De=0;De<A;De++){var rt=et[De].g;const ti=et[De].map;if(rt-=Bt,rt<0)Bt=Math.max(0,et[De].g-100),me=!1;else try{rt="req"+rt+"_"||"";try{var xt=ti instanceof Map?ti:Object.entries(ti);for(const[yi,ei]of xt){let Di=ei;g(ei)&&(Di=Kn(ei)),te.push(rt+yi+"="+encodeURIComponent(Di))}}catch(yi){throw te.push(rt+"type="+encodeURIComponent("_badmap")),yi}}catch{P&&P(ti)}}if(me){xt=te.join("&");break t}}xt=void 0}return d=d.i.splice(0,A),w.G=d,xt}function Mo(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;lt||M(),bt||(lt(),bt=!0),z.add(w,d),d.A=0}}function Do(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qs(E(d.Da,d),zl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,pa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qs(E(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),ss(this),pa(this))};function Lo(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function pa(d){d.g=new di(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Ee(d.na);It(w,"RID","rpc"),It(w,"SID",d.M),It(w,"AID",d.K),It(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&It(w,"TO",d.ia),It(w,"TYPE","xmlhttp"),Ns(d,w),d.u&&d.o&&zn(w,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=ge(Ee(w)),A.u=null,A.R=!0,Yn(A,d)}n.Va=function(){this.C!=null&&(this.C=null,ss(this),Do(this),Me(19))};function ga(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Un(d,w){var A=null;if(d.g==w){ga(d),Lo(d),d.g=null;var P=2}else if(Ss(d.h,w))A=w.G,Ji(d.h,w),P=1;else return;if(d.I!=0){if(w.o)if(P==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var et=d.D;P=ca(),Ye(P,new Ml(P,A)),Pi(d)}else Mo(d);else if(et=w.m,et==3||et==0&&w.X>0||!(P==1&&kl(d,w)||P==2&&Do(d)))switch(A&&A.length>0&&(w=d.h,w.i=w.i.concat(A)),et){case 1:rs(d,5);break;case 4:rs(d,10);break;case 3:rs(d,6);break;default:rs(d,2)}}}function zl(d,w){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*w}function rs(d,w){if(d.j.info("Error code "+w),w==2){var A=E(d.bb,d),P=d.Ua;const et=!P;P=new ue(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wn(P,"https"),ge(P),et?Ys(P.toString(),A):Rs(P.toString(),A)}else Me(2);d.I=0,d.l&&d.l.pa(w),Mi(d),fn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Mi(d){if(d.I=0,d.ja=[],d.l){const w=Ir(d.h);(w.length!=0||d.i.length!=0)&&(K(d.ja,w),K(d.ja,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.oa()}}function Oo(d,w,A){var P=A instanceof ue?Ee(A):new ue(A);if(P.g!="")w&&(P.g=w+"."+P.g),gi(P,P.u);else{var et=f.location;P=et.protocol,w=w?w+"."+et.hostname:et.hostname,et=+et.port;const rt=new ue(null);P&&Wn(rt,P),w&&(rt.g=w),et&&gi(rt,et),A&&(rt.h=A),P=rt}return A=d.G,w=d.wa,A&&w&&It(P,A,w),It(P,"VER",d.ka),Ns(d,P),P}function Or(d,w,A){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new he(new Ut({ab:A})):new he(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}n=ya.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _a(){}_a.prototype.g=function(d,w){return new wn(d,w)};function wn(d,w){Ke.call(this),this.g=new Lr(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!U(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Qs(this)}S(wn,Ke),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Wt(this.g)},wn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Kn(d),d=A);w.i.push(new tc(w.Ya++,d)),w.I==3&&Pi(w)},wn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,wn.Z.N.call(this)};function va(d){$i.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const A in w){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}S(va,$i);function Ul(){ci.call(this),this.status=1}S(Ul,ci);function Qs(d){this.g=d}S(Qs,ya),Qs.prototype.ra=function(){Ye(this.g,"a")},Qs.prototype.qa=function(d){Ye(this.g,new va(d))},Qs.prototype.pa=function(d){Ye(this.g,new Ul)},Qs.prototype.oa=function(){Ye(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Kx=function(){return new _a},Zx=function(){return ca()},Gx=hi,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,cd=Ve,cn.COMPLETE="complete",qx=cn,Pl.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Zc=Pl,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,Hx=he}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",rT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new Yd("@firebase/firestore");function gu(){return _l.logLevel}function Nt(n,...t){if(_l.logLevel<=ae.DEBUG){const e=t.map(Xy);_l.debug(`Firestore (${Gu}): ${n}`,...e)}}function ia(n,...t){if(_l.logLevel<=ae.ERROR){const e=t.map(Xy);_l.error(`Firestore (${Gu}): ${n}`,...e)}}function Mu(n,...t){if(_l.logLevel<=ae.WARN){const e=t.map(Xy);_l.warn(`Firestore (${Gu}): ${n}`,...e)}}function Xy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Yx(n,s,e)}function Yx(n,t,e){let s=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ia(s),new Error(s)}function ye(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||Yx(t,o,s)}function Yt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Fs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Hn.UNAUTHENTICATED)))}shutdown(){}}class WD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class XD{constructor(t){this.t=t,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ye(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,e(y)):Promise.resolve();let u=new cl;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cl,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cl)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ye(typeof s.accessToken=="string",31837,{l:s}),new $x(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new Hn(t)}}class QD{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JD{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new QD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tL{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ms(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ye(this.o===void 0,3512);const s=u=>{u.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Nt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ye(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new aT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eL(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function oe(n,t){return n<t?-1:n>t?1:0}function Yg(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),u=t.charAt(s);if(o!==u)return gg(o)===gg(u)?oe(o,u):gg(o)?1:-1}return oe(n.length,t.length)}const nL=55296,iL=57343;function gg(n){const t=n.charCodeAt(0);return t>=nL&&t<=iL}function Du(n,t,e){return n.length===t.length&&n.every(((s,o)=>e(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__name__";class or{constructor(t,e,s){e===void 0?e=0:e>t.length&&Ht(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Ht(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return or.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof or?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=or.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return oe(t.length,e.length)}static compareSegments(t,e){const s=or.isNumericId(t),o=or.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?or.extractNumericId(t).compare(or.extractNumericId(e)):Yg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lo.fromString(t.substring(4,t.length-2))}}class Re extends or{construct(t,e,s){return new Re(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((o=>o.length>0)))}return new Re(e)}static emptyPath(){return new Re([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends or{construct(t,e,s){return new On(t,e,s)}static isValidIdentifier(t){return sL.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oT}static keyField(){return new On([oT])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new Rt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Rt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new Rt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new On(e)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(Re.fromString(t))}static fromName(t){return new kt(Re.fromString(t).popFirst(5))}static empty(){return new kt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new Re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n,t,e){if(!e)throw new Rt(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function rL(n,t,e,s){if(t===!0&&s===!0)throw new Rt(gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function lT(n){if(!kt.isDocumentKey(n))throw new Rt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uT(n){if(kt.isDocumentKey(n))throw new Rt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ht(12329,{type:typeof n})}function cr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Rt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tm(n);throw new Rt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n,t){const e={typeString:n};return t&&(e.value=t),e}function Lh(n,t){if(!Xx(n))throw new Rt(gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const f=n[s];if(o&&typeof f!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new Rt(gt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=-62135596800,hT=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*hT);return new Pe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<cT)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(t){return this.seconds===t.seconds?oe(this.nanoseconds,t.nanoseconds):oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lh(t,Pe._jsonSchema))return new Pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:on("string",Pe._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new Pe(0,0))}static max(){return new Kt(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=-1;function aL(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Kt.fromTimestamp(s===1e9?new Pe(e+1,0):new Pe(e,s));return new fo(o,kt.empty(),t)}function oL(n){return new fo(n.readTime,n.key,mh)}class fo{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new fo(Kt.min(),kt.empty(),mh)}static max(){return new fo(Kt.max(),kt.empty(),mh)}}function lL(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=kt.comparator(n.documentKey,t.documentKey),e!==0?e:oe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==uL)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new _t(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof _t?e:_t.resolve(e)}catch(e){return _t.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):_t.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):_t.reject(e)}static resolve(t){return new _t(((e,s)=>{e(t)}))}static reject(t){return new _t(((e,s)=>{s(t)}))}static waitFor(t){return new _t(((e,s)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&e()}),(y=>s(y)))})),f=!0,u===o&&e()}))}static or(t){let e=_t.resolve(!1);for(const s of t)e=e.next((o=>o?_t.resolve(o):s()));return e}static forEach(t,e){const s=[];return t.forEach(((o,u)=>{s.push(e.call(this,o,u))})),this.waitFor(s)}static mapArray(t,e){return new _t(((s,o)=>{const u=t.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const E=y;e(t[E]).next((T=>{f[E]=T,++g,g===u&&s(f)}),(T=>o(T)))}}))}static doWhile(t,e){return new _t(((s,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):s()};u()}))}}function hL(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ku(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-1;function nm(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function fL(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="";function dL(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fT(t)),t=mL(n.get(e),t);return fT(t)}function mL(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Qx:e+="";break;default:e+=u}}return e}function fT(n){return n+Qx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Jx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,e){this.comparator=t,this.root=e||Ln.EMPTY}insert(t,e){return new He(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xf(this.root,t,this.comparator,!0)}}class Xf{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ln{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ln.RED,this.left=o??Ln.EMPTY,this.right=u??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ln(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ht(27949);return t+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(t){return new mT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof pn)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new pn(this.comparator);return e.data=t,e}}class mT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.fields=t,t.sort(On.comparator)}static empty(){return new Gi([])}unionWith(t){let e=new pn(On.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Gi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Du(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tS("Invalid base64 string: "+u):u}})(t);return new kn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new kn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const pL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(n){if(ye(!!n,39018),typeof n=="string"){let t=0;const e=pL.exec(n);if(ye(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Qe(n.seconds),nanos:Qe(n.nanos)}}function Qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function po(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="server_timestamp",nS="__type__",iS="__previous_value__",sS="__local_write_time__";function t_(n){return(n?.mapValue?.fields||{})[nS]?.stringValue===eS}function im(n){const t=n.mapValue.fields[iS];return t_(t)?im(t):t}function ph(n){const t=mo(n.mapValue.fields[sS].timestampValue);return new Pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,e,s,o,u,f,g,y,E,T){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=E,this.isUsingEmulator=T}}const Pd="(default)";class gh{constructor(t,e){this.projectId=t,this.database=e||Pd}static empty(){return new gh("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(t){return t instanceof gh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__type__",yL="__max__",Qf={mapValue:{}},aS="__vector__",Md="value";function go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:vL(n)?9007199254740991:_L(n)?10:11:Ht(28295,{value:n})}function vr(n,t){if(n===t)return!0;const e=go(n);if(e!==go(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ph(n).isEqual(ph(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=mo(o.timestampValue),g=mo(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return po(o.bytesValue).isEqual(po(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Qe(o.geoPointValue.latitude)===Qe(u.geoPointValue.latitude)&&Qe(o.geoPointValue.longitude)===Qe(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Qe(o.integerValue)===Qe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Qe(o.doubleValue),g=Qe(u.doubleValue);return f===g?Nd(f)===Nd(g):isNaN(f)&&isNaN(g)}return!1})(n,t);case 9:return Du(n.arrayValue.values||[],t.arrayValue.values||[],vr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(dT(f)!==dT(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!vr(f[y],g[y])))return!1;return!0})(n,t);default:return Ht(52216,{left:n})}}function yh(n,t){return(n.values||[]).find((e=>vr(e,t)))!==void 0}function Lu(n,t){if(n===t)return 0;const e=go(n),s=go(t);if(e!==s)return oe(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=Qe(u.integerValue||u.doubleValue),y=Qe(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(n,t);case 3:return pT(n.timestampValue,t.timestampValue);case 4:return pT(ph(n),ph(t));case 5:return Yg(n.stringValue,t.stringValue);case 6:return(function(u,f){const g=po(u),y=po(f);return g.compareTo(y)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let E=0;E<g.length&&E<y.length;E++){const T=oe(g[E],y[E]);if(T!==0)return T}return oe(g.length,y.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=oe(Qe(u.latitude),Qe(f.latitude));return g!==0?g:oe(Qe(u.longitude),Qe(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return gT(n.arrayValue,t.arrayValue);case 10:return(function(u,f){const g=u.fields||{},y=f.fields||{},E=g[Md]?.arrayValue,T=y[Md]?.arrayValue,S=oe(E?.values?.length||0,T?.values?.length||0);return S!==0?S:gT(E,T)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Qf.mapValue&&f===Qf.mapValue)return 0;if(u===Qf.mapValue)return 1;if(f===Qf.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),E=f.fields||{},T=Object.keys(E);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const R=Yg(y[S],T[S]);if(R!==0)return R;const V=Lu(g[y[S]],E[T[S]]);if(V!==0)return V}return oe(y.length,T.length)})(n.mapValue,t.mapValue);default:throw Ht(23264,{he:e})}}function pT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return oe(n,t);const e=mo(n),s=mo(t),o=oe(e.seconds,s.seconds);return o!==0?o:oe(e.nanos,s.nanos)}function gT(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Lu(e[o],s[o]);if(u)return u}return oe(e.length,s.length)}function Ou(n){return $g(n)}function $g(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=mo(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return po(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return kt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=$g(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${$g(e.fields[f])}`;return o+"}"})(n.mapValue):Ht(61005,{value:n})}function hd(n){switch(go(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=im(n);return t?16+hd(t):16;case 5:return 2*n.stringValue.length;case 6:return po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+hd(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return wo(s.fields,((u,f)=>{o+=u.length+hd(f)})),o})(n.mapValue);default:throw Ht(13486,{value:n})}}function yT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Wg(n){return!!n&&"integerValue"in n}function e_(n){return!!n&&"arrayValue"in n}function _T(n){return!!n&&"nullValue"in n}function vT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fd(n){return!!n&&"mapValue"in n}function _L(n){return(n?.mapValue?.fields||{})[rS]?.stringValue===aS}function eh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return wo(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=eh(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=eh(n.arrayValue.values[e]);return t}return{...n}}function vL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!fd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eh(e)}setAll(t){let e=On.emptyPath(),s={},o=[];t.forEach(((f,g)=>{if(!e.isImmediateParentOf(g)){const y=this.getFieldsMap(e);this.applyChanges(y,s,o),s={},o=[],e=g.popLast()}f?s[g.lastSegment()]=eh(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());fd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];fd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){wo(e,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new wi(eh(this.value))}}function oS(n){const t=[];return wo(n.fields,((e,s)=>{const o=new On([e]);if(fd(s)){const u=oS(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,e,s,o,u,f,g){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new qn(t,0,Kt.min(),Kt.min(),Kt.min(),wi.empty(),0)}static newFoundDocument(t,e,s,o){return new qn(t,1,e,Kt.min(),s,o,0)}static newNoDocument(t,e){return new qn(t,2,e,Kt.min(),Kt.min(),wi.empty(),0)}static newUnknownDocument(t,e){return new qn(t,3,e,Kt.min(),Kt.min(),wi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e){this.position=t,this.inclusive=e}}function ET(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?s=kt.comparator(kt.fromName(f.referenceValue),e.key):s=Lu(f,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!vr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e="asc"){this.field=t,this.dir=e}}function EL(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class an extends lS{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new TL(t,e,s):e==="array-contains"?new SL(t,s):e==="in"?new AL(t,s):e==="not-in"?new CL(t,s):e==="array-contains-any"?new RL(t,s):new an(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new wL(t,s):new xL(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Lu(e,this.value)):e!==null&&go(this.value)===go(e)&&this.matchesComparison(Lu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends lS{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new js(t,e)}matches(t){return uS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uS(n){return n.op==="and"}function cS(n){return bL(n)&&uS(n)}function bL(n){for(const t of n.filters)if(t instanceof js)return!1;return!0}function Xg(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Ou(n.value);if(cS(n))return n.filters.map((t=>Xg(t))).join(",");{const t=n.filters.map((e=>Xg(e))).join(",");return`${n.op}(${t})`}}function hS(n,t){return n instanceof an?(function(s,o){return o instanceof an&&s.op===o.op&&s.field.isEqual(o.field)&&vr(s.value,o.value)})(n,t):n instanceof js?(function(s,o){return o instanceof js&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&hS(f,o.filters[g])),!0):!1})(n,t):void Ht(19439)}function fS(n){return n instanceof an?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ou(e.value)}`})(n):n instanceof js?(function(e){return e.op.toString()+" {"+e.getFilters().map(fS).join(" ,")+"}"})(n):"Filter"}class TL extends an{constructor(t,e,s){super(t,e,s),this.key=kt.fromName(s.referenceValue)}matches(t){const e=kt.comparator(t.key,this.key);return this.matchesComparison(e)}}class wL extends an{constructor(t,e){super(t,"in",e),this.keys=dS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class xL extends an{constructor(t,e){super(t,"not-in",e),this.keys=dS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function dS(n,t){return(t.arrayValue?.values||[]).map((e=>kt.fromName(e.referenceValue)))}class SL extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return e_(e)&&yh(e.arrayValue,this.value)}}class AL extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yh(this.value.arrayValue,e)}}class CL extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!yh(this.value.arrayValue,e)}}class RL extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!e_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>yh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,e=null,s=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function TT(n,t=null,e=[],s=[],o=null,u=null,f=null){return new IL(n,t,e,s,o,u,f)}function n_(n){const t=Yt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Xg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Ou(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Ou(s))).join(",")),t.Te=e}return t.Te}function i_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!EL(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!hS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!bT(n.startAt,t.startAt)&&bT(n.endAt,t.endAt)}function Qg(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,e=null,s=[],o=[],u=null,f="F",g=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NL(n,t,e,s,o,u,f,g){return new Yu(n,t,e,s,o,u,f,g)}function s_(n){return new Yu(n)}function wT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mS(n){return n.collectionGroup!==null}function nh(n){const t=Yt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new pn(On.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((E=>{E.isInequality()&&(g=g.add(E.field))}))})),g})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new _h(u,s))})),e.has(On.keyField().canonicalString())||t.Ie.push(new _h(On.keyField(),s))}return t.Ie}function hr(n){const t=Yt(n);return t.Ee||(t.Ee=PL(t,nh(n))),t.Ee}function PL(n,t){if(n.limitType==="F")return TT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)}));const e=n.endAt?new Dd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Dd(n.startAt.position,n.startAt.inclusive):null;return TT(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Jg(n,t){const e=n.filters.concat([t]);return new Yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ty(n,t,e){return new Yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sm(n,t){return i_(hr(n),hr(t))&&n.limitType===t.limitType}function pS(n){return`${n_(hr(n))}|lt:${n.limitType}`}function yu(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((o=>fS(o))).join(", ")}]`),nm(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((o=>Ou(o))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((o=>Ou(o))).join(",")),`Target(${s})`})(hr(n))}; limitType=${n.limitType})`}function rm(n,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):kt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,t)&&(function(s,o){for(const u of nh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(s,o){return!(s.startAt&&!(function(f,g,y){const E=ET(f,g,y);return f.inclusive?E<=0:E<0})(s.startAt,nh(s),o)||s.endAt&&!(function(f,g,y){const E=ET(f,g,y);return f.inclusive?E>=0:E>0})(s.endAt,nh(s),o))})(n,t)}function ML(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gS(n){return(t,e)=>{let s=!1;for(const o of nh(n)){const u=DL(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DL(n,t,e){const s=n.field.isKeyField()?kt.comparator(t.key,e.key):(function(u,f,g){const y=f.data.field(u),E=g.data.field(u);return y!==null&&E!==null?Lu(y,E):Ht(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ht(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wo(this.inner,((e,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new He(kt.comparator);function sa(){return LL}const yS=new He(kt.comparator);function Kc(...n){let t=yS;for(const e of n)t=t.insert(e.key,e);return t}function _S(n){let t=yS;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function al(){return ih()}function vS(){return ih()}function ih(){return new Sl((n=>n.toString()),((n,t)=>n.isEqual(t)))}const OL=new He(kt.comparator),kL=new pn(kt.comparator);function le(...n){let t=kL;for(const e of n)t=t.add(e);return t}const VL=new pn(oe);function zL(){return VL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(t)?"-0":t}}function ES(n){return{integerValue:""+n}}function UL(n,t){return fL(t)?ES(t):r_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this._=void 0}}function BL(n,t,e){return n instanceof vh?(function(o,u){const f={fields:{[nS]:{stringValue:eS},[sS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&t_(u)&&(u=im(u)),u&&(f.fields[iS]=u),{mapValue:f}})(e,t):n instanceof Eh?TS(n,t):n instanceof bh?wS(n,t):(function(o,u){const f=bS(o,u),g=xT(f)+xT(o.Ae);return Wg(f)&&Wg(o.Ae)?ES(g):r_(o.serializer,g)})(n,t)}function jL(n,t,e){return n instanceof Eh?TS(n,t):n instanceof bh?wS(n,t):e}function bS(n,t){return n instanceof Ld?(function(s){return Wg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class vh extends am{}class Eh extends am{constructor(t){super(),this.elements=t}}function TS(n,t){const e=xS(t);for(const s of n.elements)e.some((o=>vr(o,s)))||e.push(s);return{arrayValue:{values:e}}}class bh extends am{constructor(t){super(),this.elements=t}}function wS(n,t){let e=xS(t);for(const s of n.elements)e=e.filter((o=>!vr(o,s)));return{arrayValue:{values:e}}}class Ld extends am{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function xT(n){return Qe(n.integerValue||n.doubleValue)}function xS(n){return e_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,e){this.field=t,this.transform=e}}function HL(n,t){return n.field.isEqual(t.field)&&(function(s,o){return s instanceof Eh&&o instanceof Eh||s instanceof bh&&o instanceof bh?Du(s.elements,o.elements,vr):s instanceof Ld&&o instanceof Ld?vr(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(n.transform,t.transform)}class qL{constructor(t,e){this.version=t,this.transformResults=e}}class ys{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class om{}function SS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new a_(n.key,ys.none()):new Oh(n.key,n.data,ys.none());{const e=n.data,s=wi.empty();let o=new pn(On.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new xo(n.key,s,new Gi(o.toArray()),ys.none())}}function GL(n,t,e){n instanceof Oh?(function(o,u,f){const g=o.value.clone(),y=AT(o.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,e):n instanceof xo?(function(o,u,f){if(!dd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=AT(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(AS(o)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(n,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function sh(n,t,e,s){return n instanceof Oh?(function(u,f,g,y){if(!dd(u.precondition,f))return g;const E=u.value.clone(),T=CT(u.fieldTransforms,y,f);return E.setAll(T),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null})(n,t,e,s):n instanceof xo?(function(u,f,g,y){if(!dd(u.precondition,f))return g;const E=CT(u.fieldTransforms,y,f),T=f.data;return T.setAll(AS(u)),T.setAll(E),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(n,t,e,s):(function(u,f,g){return dd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,t,e)}function ZL(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),u=bS(s.transform,o||null);u!=null&&(e===null&&(e=wi.empty()),e.set(s.field,u))}return e||null}function ST(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Du(s,o,((u,f)=>HL(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Oh extends om{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xo extends om{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function AT(n,t,e){const s=new Map;ye(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],f=u.transform,g=t.data.field(u.field);s.set(u.field,jL(f,g,e[o]))}return s}function CT(n,t,e){const s=new Map;for(const o of n){const u=o.transform,f=e.data.field(o.field);s.set(o.field,BL(u,f,t))}return s}class a_ extends om{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KL extends om{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&GL(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=sh(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=sh(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=vS();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=e.has(o.key)?null:g;const y=SS(f,g);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Kt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),le())}isEqual(t){return this.batchId===t.batchId&&Du(this.mutations,t.mutations,((e,s)=>ST(e,s)))&&Du(this.baseMutations,t.baseMutations,((e,s)=>ST(e,s)))}}class o_{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){ye(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return OL})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new o_(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,de;function XL(n){switch(n){case gt.OK:return Ht(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Ht(15467,{code:n})}}function CS(n){if(n===void 0)return ia("GRPC error has no .code"),gt.UNKNOWN;switch(n){case sn.OK:return gt.OK;case sn.CANCELLED:return gt.CANCELLED;case sn.UNKNOWN:return gt.UNKNOWN;case sn.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case sn.INTERNAL:return gt.INTERNAL;case sn.UNAVAILABLE:return gt.UNAVAILABLE;case sn.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case sn.NOT_FOUND:return gt.NOT_FOUND;case sn.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case sn.ABORTED:return gt.ABORTED;case sn.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case sn.DATA_LOSS:return gt.DATA_LOSS;default:return Ht(39323,{code:n})}}(de=sn||(sn={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new lo([4294967295,4294967295],0);function RT(n){const t=QL().encode(n),e=new Fx;return e.update(t),new Uint8Array(e.digest())}function IT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new lo([e,s],0),new lo([o,u],0)]}class l_{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Yc(`Invalid padding: ${e}`);if(s<0)throw new Yc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=lo.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(lo.fromNumber(s)));return o.compare(JL)===1&&(o=new lo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=RT(t),[s,o]=IT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new l_(u,o,e);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const e=RT(t),[s,o]=IT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,kh.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new lm(Kt.min(),o,new He(oe),sa(),le())}}class kh{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new kh(s,e,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class RS{constructor(t,e){this.targetId=t,this.Ce=e}}class IS{constructor(t,e,s=kn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class NT{constructor(){this.ve=0,this.Fe=PT(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=le(),e=le(),s=le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Ht(38017,{changeType:u})}})),new kh(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=PT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tO{constructor(t){this.Ge=t,this.ze=new Map,this.je=sa(),this.Je=Jf(),this.He=Jf(),this.Ye=new He(oe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Ht(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Qg(u))if(s===0){const f=new kt(u.path);this.et(e,f,qn.newNoDocument(f,Kt.min()))}else ye(s===1,20013,{expectedCount:s});else{const f=this._t(e);if(f!==s){const g=this.ut(t),y=g?this.ct(g,t,f):1;if(y!==0){this.it(e);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,E)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let f,g;try{f=po(s).toUint8Array()}catch(y){if(y instanceof tS)return Mu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new l_(f,o,u)}catch(y){return Mu(y instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Qg(g.target)){const y=new kt(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,qn.newNoDocument(y,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let s=le();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const E=this.ot(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new lm(t,e,this.Ye,this.je,s);return this.je=sa(),this.Je=Jf(),this.He=Jf(),this.Ye=new He(oe),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new NT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new pn(oe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new pn(oe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Nt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new NT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Jf(){return new He(kt.comparator)}function PT(){return new He(kt.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class sO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ey(n,t){return n.useProto3Json||nm(t)?t:{value:t}}function Od(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function rO(n,t){return Od(n,t.toTimestamp())}function fr(n){return ye(!!n,49232),Kt.fromTimestamp((function(e){const s=mo(e);return new Pe(s.seconds,s.nanos)})(n))}function u_(n,t){return ny(n,t).canonicalString()}function ny(n,t){const e=(function(o){return new Re(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function PS(n){const t=Re.fromString(n);return ye(kS(t),10190,{key:t.toString()}),t}function iy(n,t){return u_(n.databaseId,t.path)}function yg(n,t){const e=PS(t);if(e.get(1)!==n.databaseId.projectId)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Rt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new kt(DS(e))}function MS(n,t){return u_(n.databaseId,t)}function aO(n){const t=PS(n);return t.length===4?Re.emptyPath():DS(t)}function sy(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DS(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function MT(n,t,e){return{name:iy(n,t),fields:e.value.mapValue.fields}}function oO(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Ht(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(E,T){return E.useProto3Json?(ye(T===void 0||typeof T=="string",58123),kn.fromBase64String(T||"")):(ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),kn.fromUint8Array(T||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(E){const T=E.code===void 0?gt.UNKNOWN:CS(E.code);return new Rt(T,E.message||"")})(f);e=new IS(s,o,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=yg(n,s.document.name),u=fr(s.document.updateTime),f=s.document.createTime?fr(s.document.createTime):Kt.min(),g=new wi({mapValue:{fields:s.document.fields}}),y=qn.newFoundDocument(o,u,f,g),E=s.targetIds||[],T=s.removedTargetIds||[];e=new md(E,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=yg(n,s.document),u=s.readTime?fr(s.readTime):Kt.min(),f=qn.newNoDocument(o,u),g=s.removedTargetIds||[];e=new md([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=yg(n,s.document),u=s.removedTargetIds||[];e=new md([],u,o,null)}else{if(!("filter"in t))return Ht(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new WL(o,u),g=s.targetId;e=new RS(g,f)}}return e}function lO(n,t){let e;if(t instanceof Oh)e={update:MT(n,t.key,t.value)};else if(t instanceof a_)e={delete:iy(n,t.key)};else if(t instanceof xo)e={update:MT(n,t.key,t.data),updateMask:yO(t.fieldMask)};else{if(!(t instanceof KL))return Ht(16599,{Vt:t.type});e={verify:iy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ld)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ht(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:rO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ht(27497)})(n,t.precondition)),e}function uO(n,t){return n&&n.length>0?(ye(t!==void 0,14353),n.map((e=>(function(o,u){let f=o.updateTime?fr(o.updateTime):fr(u);return f.isEqual(Kt.min())&&(f=fr(u)),new qL(f,o.transformResults||[])})(e,t)))):[]}function cO(n,t){return{documents:[MS(n,t.path)]}}function hO(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=MS(n,o);const u=(function(E){if(E.length!==0)return OS(js.create(E,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(E){if(E.length!==0)return E.map((T=>(function(R){return{field:_u(R.field),direction:mO(R.dir)}})(T)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const g=ey(n,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:e,parent:o}}function fO(n){let t=aO(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){ye(s===1,65062);const T=e.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];e.where&&(u=(function(S){const R=LS(S);return R instanceof js&&cS(R)?R.getFilters():[R]})(e.where));let f=[];e.orderBy&&(f=(function(S){return S.map((R=>(function(K){return new _h(vu(K.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(e.orderBy));let g=null;e.limit&&(g=(function(S){let R;return R=typeof S=="object"?S.value:S,nm(R)?null:R})(e.limit));let y=null;e.startAt&&(y=(function(S){const R=!!S.before,V=S.values||[];return new Dd(V,R)})(e.startAt));let E=null;return e.endAt&&(E=(function(S){const R=!S.before,V=S.values||[];return new Dd(V,R)})(e.endAt)),NL(t,o,f,u,g,"F",y,E)}function dO(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function LS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=vu(e.unaryFilter.field);return an.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vu(e.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vu(e.unaryFilter.field);return an.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vu(e.unaryFilter.field);return an.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}})(n):n.fieldFilter!==void 0?(function(e){return an.create(vu(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return js.create(e.compositeFilter.filters.map((s=>LS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}})(e.compositeFilter.op))})(n):Ht(30097,{filter:n})}function mO(n){return eO[n]}function pO(n){return nO[n]}function gO(n){return iO[n]}function _u(n){return{fieldPath:n.canonicalString()}}function vu(n){return On.fromServerFormat(n.fieldPath)}function OS(n){return n instanceof an?(function(e){if(e.op==="=="){if(vT(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NAN"}};if(_T(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(vT(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NAN"}};if(_T(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(e.field),op:pO(e.op),value:e.value}}})(n):n instanceof js?(function(e){const s=e.getFilters().map((o=>OS(o)));return s.length===1?s[0]:{compositeFilter:{op:gO(e.op),filters:s}}})(n):Ht(54877,{filter:n})}function yO(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,e,s,o,u=Kt.min(),f=Kt.min(),g=kn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new so(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.yt=t}}function vO(n){const t=fO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ty(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.Cn=new bO}addToCollectionParentIndex(t,e){return this.Cn.add(e),_t.resolve()}getCollectionParents(t,e){return _t.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return _t.resolve()}deleteFieldIndex(t,e){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,e){return _t.resolve()}getDocumentsMatchingTarget(t,e){return _t.resolve(null)}getIndexType(t,e){return _t.resolve(0)}getFieldIndexes(t,e){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,e){return _t.resolve(fo.min())}getMinOffsetFromCollectionGroup(t,e){return _t.resolve(fo.min())}updateCollectionGroup(t,e,s){return _t.resolve()}updateIndexEntries(t,e){return _t.resolve()}}class bO{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new pn(Re.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new pn(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class Ti{static withCacheSize(t){return new Ti(t,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(VS,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ku(0)}static cr(){return new ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="LruGarbageCollector",TO=1048576;function OT([n,t],[e,s]){const o=oe(n,e);return o===0?oe(t,s):o}class wO{constructor(t){this.Ir=t,this.buffer=new pn(OT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();OT(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Nt(LT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ku(e)?Nt(LT,"Ignoring IndexedDB error during garbage collection: ",e):await Zu(e)}await this.Vr(3e5)}))}}class SO{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return _t.resolve(em.ce);const s=new wO(e);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(DT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,f,g,y,E;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,e)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(E=Date.now(),gu()<=ae.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(E-y)+`ms
Total Duration: ${E-T}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function AO(n,t){return new SO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.changes=new Sl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,qn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?_t.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(s!==null&&sh(s.mutation,o,Gi.empty(),Pe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,le()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=le()){const o=al();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,s).next((u=>{let f=Kc();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const s=al();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,le())))}populateOverlays(t,e,s){const o=[];return s.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{e.set(f,g)}))}))}computeViews(t,e,s,o){let u=sa();const f=ih(),g=(function(){return ih()})();return e.forEach(((y,E)=>{const T=s.get(E.key);o.has(E.key)&&(T===void 0||T.mutation instanceof xo)?u=u.insert(E.key,E):T!==void 0?(f.set(E.key,T.mutation.getFieldMask()),sh(T.mutation,E,T.mutation.getFieldMask(),Pe.now())):f.set(E.key,Gi.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((E,T)=>f.set(E,T))),e.forEach(((E,T)=>g.set(E,new RO(T,f.get(E)??null)))),g)))}recalculateAndSaveOverlays(t,e){const s=ih();let o=new He(((f,g)=>f-g)),u=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const g of f)g.keys().forEach((y=>{const E=e.get(y);if(E===null)return;let T=s.get(y)||Gi.empty();T=g.applyToLocalView(E,T),s.set(y,T);const S=(o.get(g.batchId)||le()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),E=y.key,T=y.value,S=vS();T.forEach((R=>{if(!u.has(R)){const V=SS(e.get(R),s.get(R));V!==null&&S.set(R,V),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,E,S))}return _t.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,o){return(function(f){return kt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):mS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):_t.resolve(al());let g=mh,y=u;return f.next((E=>_t.forEach(E,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?_t.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{y=y.insert(T,R)}))))).next((()=>this.populateOverlays(t,E,u))).next((()=>this.computeViews(t,y,E,le()))).next((T=>({batchId:g,changes:_S(T)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new kt(e)).next((s=>{let o=Kc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let f=Kc();return this.indexManager.getCollectionParents(t,u).next((g=>_t.forEach(g,(y=>{const E=(function(S,R){return new Yu(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(e,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,E,s,o).next((T=>{T.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o)))).next((f=>{u.forEach(((y,E)=>{const T=E.getKey();f.get(T)===null&&(f=f.insert(T,qn.newInvalidDocument(T)))}));let g=Kc();return f.forEach(((y,E)=>{const T=u.get(y);T!==void 0&&sh(T.mutation,E,Gi.empty(),Pe.now()),rm(e,E)&&(g=g.insert(y,E))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return _t.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:fr(o.createTime)}})(e)),_t.resolve()}getNamedQuery(t,e){return _t.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:vO(o.bundledQuery),readTime:fr(o.readTime)}})(e)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.overlays=new He(kt.comparator),this.qr=new Map}getOverlay(t,e){return _t.resolve(this.overlays.get(e))}getOverlays(t,e){const s=al();return _t.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((o,u)=>{this.St(t,e,u)})),_t.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),_t.resolve()}getOverlaysForCollection(t,e,s){const o=al(),u=e.length+1,f=new kt(e.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,E=y.getKey();if(!e.isPrefixOf(E.path))break;E.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return _t.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new He(((E,T)=>E-T));const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===e&&E.largestBatchId>s){let T=u.get(E.largestBatchId);T===null&&(T=al(),u=u.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const g=al(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((E,T)=>g.set(E,T))),!(g.size()>=o)););return _t.resolve(g)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $L(e,s));let u=this.qr.get(e);u===void 0&&(u=le(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Qr=new pn(Rn.$r),this.Ur=new pn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new Rn(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new Rn(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new kt(new Re([])),s=new Rn(e,t),o=new Rn(e,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new kt(new Re([])),s=new Rn(e,t),o=new Rn(e,t+1);let u=le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new Rn(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Rn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return kt.comparator(t.key,e.key)||oe(t.Yr,e.Yr)}static Kr(t,e){return oe(t.Yr,e.Yr)||kt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new pn(Rn.$r)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YL(u,e,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Rn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return _t.resolve(f)}lookupMutationBatch(t,e){return _t.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return _t.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?Jy:this.tr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Rn(e,0),o=new Rn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),_t.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new pn(oe);return e.forEach((o=>{const u=new Rn(o,0),f=new Rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),_t.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;kt.isDocumentKey(u)||(u=u.child(""));const f=new Rn(new kt(u),0);let g=new pn(oe);return this.Zr.forEachWhile((y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===o&&(g=g.add(y.Yr)),!0)}),f),_t.resolve(this.ti(g))}ti(t){const e=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){ye(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return _t.forEach(e.mutations,(o=>{const u=new Rn(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new Rn(e,0),o=this.Zr.firstAfterOrEqual(s);return _t.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.ri=t,this.docs=(function(){return new He(kt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return _t.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(e))}getEntries(t,e){let s=sa();return e.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():qn.newInvalidDocument(o))})),_t.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=sa();const f=e.path,g=new kt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:E,value:{document:T}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||lL(oL(T),s)<=0||(o.has(T.key)||rm(e,T))&&(u=u.insert(T.key,T.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Ht(9500)}ii(t,e){return _t.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new OO(this)}getSize(t){return _t.resolve(this.size)}}class OO extends CO{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),_t.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.persistence=t,this.si=new Sl((e=>n_(e)),i_),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new c_,this.targetCount=0,this.ai=ku.ur()}forEachTarget(t,e){return this.si.forEach(((s,o)=>e(o))),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),_t.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ku(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,_t.resolve()}updateTargetData(t,e){return this.Pr(e),_t.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=e&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),_t.waitFor(u).next((()=>o))}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return _t.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),_t.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),_t.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),_t.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return _t.resolve(s)}containsKey(t,e){return _t.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,e){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new MO,this.referenceDelegate=t(this),this.Pi=new kO(this),this.indexManager=new EO,this.remoteDocumentCache=(function(o){return new LO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _O(e),this.Ii=new NO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new PO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new DO(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){Nt("MemoryPersistence","Starting transaction:",t);const o=new VO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return _t.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class VO extends cL{constructor(t){super(),this.currentSequenceNumber=t}}class h_{constructor(t){this.persistence=t,this.Ri=new c_,this.Vi=null}static mi(t){return new h_(t)}get fi(){if(this.Vi)return this.Vi;throw Ht(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),_t.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),_t.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),_t.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.fi,(s=>{const o=kt.fromPath(s);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return _t.or([()=>_t.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class kd{constructor(t,e){this.persistence=t,this.pi=new Sl((s=>dL(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AO(this,e)}static mi(t,e){return new kd(t,e)}Ei(){}di(t){return _t.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((o=>s+o))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return _t.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?_t.resolve():e(o)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((g=>{g||(s++,u.removeEntry(f,Kt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),_t.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),_t.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),_t.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hd(t.data.value)),e}br(t,e,s){return _t.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return _t.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=le(),o=le();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new f_(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KR()?8:hL(Zn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zO;return this.Ss(t,e,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,e,f,g.size)}))})).next((()=>u.result))}bs(t,e,s,o){return s.documentReadCount<this.fs?(gu()<=ae.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",yu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_t.resolve()):(gu()<=ae.DEBUG&&Nt("QueryEngine","Query:",yu(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(gu()<=ae.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",yu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hr(e))):_t.resolve())}ys(t,e){if(wT(e))return _t.resolve(null);let s=hr(e);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=ty(e,null,"F"),s=hr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=le(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const E=this.Ds(e,g);return this.Cs(e,E,f,y.readTime)?this.ys(t,ty(e,null,"F")):this.vs(t,E,e,y)}))))})))))}ws(t,e,s,o){return wT(e)||o.isEqual(Kt.min())?_t.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,s,o)?_t.resolve(null):(gu()<=ae.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yu(e)),this.vs(t,f,e,aL(o,mh)).next((g=>g)))}))}Ds(t,e){let s=new pn(gS(t));return e.forEach(((o,u)=>{rm(t,u)&&(s=s.add(u))})),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return gu()<=ae.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",yu(e)),this.ps.getDocumentsMatchingQuery(t,e,fo.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LocalStore",BO=3e8;class jO{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new He(oe),this.xs=new Sl((u=>n_(u)),i_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function FO(n,t,e,s){return new jO(n,t,e,s)}async function US(n,t){const e=Yt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let y=le();for(const E of o){f.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of u){g.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return e.localDocuments.getDocuments(s,y).next((E=>({Ls:E,removedBatchIds:f,addedBatchIds:g})))}))}))}function HO(n,t){const e=Yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,E,T){const S=E.batch,R=S.keys();let V=_t.resolve();return R.forEach((K=>{V=V.next((()=>T.getEntry(y,K))).next(($=>{const X=E.docVersions.get(K);ye(X!==null,48541),$.version.compareTo(X)<0&&(S.applyToRemoteDocument($,E),$.isValidDocument()&&($.setReadTime(E.commitVersion),T.addEntry($)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(e,s,t,u).next((()=>u.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=le();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(y=y.add(g.batch.mutations[E].key));return y})(t)))).next((()=>e.localDocuments.getDocuments(s,o)))}))}function BS(n){const t=Yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function qO(n,t){const e=Yt(n),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const g=[];t.targetChanges.forEach(((T,S)=>{const R=o.get(S);if(!R)return;g.push(e.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>e.Pi.addMatchingKeys(u,T.addedDocuments,S))));let V=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?V=V.withResumeToken(kn.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(S,V),(function($,X,ct){return $.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=BO?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(R,V,T)&&g.push(e.Pi.updateTargetData(u,V))}));let y=sa(),E=le();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(GO(u,f,t.documentUpdates).next((T=>{y=T.ks,E=T.qs}))),!s.isEqual(Kt.min())){const T=e.Pi.getLastRemoteSnapshotVersion(u).next((S=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return _t.waitFor(g).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,y,E))).next((()=>y))})).then((u=>(e.Ms=o,u)))}function GO(n,t,e){let s=le(),o=le();return e.forEach((u=>s=s.add(u))),t.getEntries(n,s).next((u=>{let f=sa();return e.forEach(((g,y)=>{const E=u.get(g);y.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Kt.min())?(t.removeEntry(g,y.readTime),f=f.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(y),f=f.insert(g,y)):Nt(d_,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function ZO(n,t){const e=Yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Jy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function KO(n,t){const e=Yt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return e.Pi.getTargetData(s,t).next((u=>u?(o=u,_t.resolve(o)):e.Pi.allocateTargetId(s).next((f=>(o=new so(t,f,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function ry(n,t,e){const s=Yt(n),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ku(f))throw f;Nt(d_,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function kT(n,t,e){const s=Yt(n);let o=Kt.min(),u=le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,E,T){const S=Yt(y),R=S.xs.get(T);return R!==void 0?_t.resolve(S.Ms.get(R)):S.Pi.getTargetData(E,T)})(s,f,hr(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,e?o:Kt.min(),e?u:le()))).next((g=>(YO(s,ML(t),g),{documents:g,Qs:u})))))}function YO(n,t,e){let s=n.Os.get(t)||Kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Os.set(t,s)}class VT{constructor(){this.activeTargetIds=zL()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $O{constructor(){this.Mo=new VT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new VT,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="ConnectivityMonitor";class UT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Nt(zT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Nt(zT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function ay(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="RestConnection",XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Pd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const f=ay(),g=this.zo(t,e.toUriEncodedString());Nt(_g,`Sending RPC '${t}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:E}=new URL(g),T=Fu(E);return this.Jo(t,g,y,s,T).then((S=>(Nt(_g,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Mu(_g,`RPC '${t}' ${f} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,e,s,o,u,f){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const s=XO[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class tk extends QO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const f=ay();return new Promise(((g,y)=>{const E=new Hx;E.setWithCredentials(!0),E.listenOnce(qx.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case cd.NO_ERROR:const S=E.getResponseJson();Nt(Fn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),g(S);break;case cd.TIMEOUT:Nt(Fn,`RPC '${t}' ${f} timed out`),y(new Rt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const R=E.getStatus();if(Nt(Fn,`RPC '${t}' ${f} failed with status:`,R,"response text:",E.getResponseText()),R>0){let V=E.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const $=(function(ct){const Q=ct.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(Q)>=0?Q:gt.UNKNOWN})(K.status);y(new Rt($,K.message))}else y(new Rt(gt.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new Rt(gt.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{l_:t,streamId:f,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{Nt(Fn,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);Nt(Fn,`RPC '${t}' ${f} sending request:`,o),E.send(e,"POST",T,s,15)}))}T_(t,e,s){const o=ay(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Kx(),g=Zx(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,e,s),y.encodeInitMessageHeaders=!0;const T=u.join("");Nt(Fn,`Creating RPC '${t}' stream ${o}: ${T}`,y);const S=f.createWebChannel(T,y);this.I_(S);let R=!1,V=!1;const K=new JO({Yo:X=>{V?Nt(Fn,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(R||(Nt(Fn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),Nt(Fn,`RPC '${t}' stream ${o} sending:`,X),S.send(X))},Zo:()=>S.close()}),$=(X,ct,Q)=>{X.listen(ct,(Y=>{try{Q(Y)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return $(S,Zc.EventType.OPEN,(()=>{V||(Nt(Fn,`RPC '${t}' stream ${o} transport opened.`),K.o_())})),$(S,Zc.EventType.CLOSE,(()=>{V||(V=!0,Nt(Fn,`RPC '${t}' stream ${o} transport closed`),K.a_(),this.E_(S))})),$(S,Zc.EventType.ERROR,(X=>{V||(V=!0,Mu(Fn,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),K.a_(new Rt(gt.UNAVAILABLE,"The operation could not be completed")))})),$(S,Zc.EventType.MESSAGE,(X=>{if(!V){const ct=X.data[0];ye(!!ct,16349);const Q=ct,Y=Q?.error||Q[0]?.error;if(Y){Nt(Fn,`RPC '${t}' stream ${o} received error:`,Y);const ht=Y.status;let lt=(function(M){const O=sn[M];if(O!==void 0)return CS(O)})(ht),bt=Y.message;lt===void 0&&(lt=gt.INTERNAL,bt="Unknown error status: "+ht+" with message "+Y.message),V=!0,K.a_(new Rt(lt,bt)),S.close()}else Nt(Fn,`RPC '${t}' stream ${o} received:`,ct),K.u_(ct)}})),$(g,Gx.STAT_EVENT,(X=>{X.stat===Kg.PROXY?Nt(Fn,`RPC '${t}' stream ${o} detected buffering proxy`):X.stat===Kg.NOPROXY&&Nt(Fn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n){return new sO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&Nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="PersistentStream";class FS{constructor(t,e,s,o,u,f,g,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===gt.RESOURCE_EXHAUSTED?(ia(e.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===e&&this.G_(s,o)}),(s=>{t((()=>{const o=new Rt(gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Nt(BT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Nt(BT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ek extends FS{constructor(t,e,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=oO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Kt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Kt.min():f.readTime?fr(f.readTime):Kt.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=sy(this.serializer),e.addTarget=(function(u,f){let g;const y=f.target;if(g=Qg(y)?{documents:cO(u,y)}:{query:hO(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=NS(u,f.resumeToken);const E=ey(u,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(Kt.min())>0){g.readTime=Od(u,f.snapshotVersion.toTimestamp());const E=ey(u,f.expectedCount);E!==null&&(g.expectedCount=E)}return g})(this.serializer,t);const s=dO(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=sy(this.serializer),e.removeTarget=t,this.q_(e)}}class nk extends FS{constructor(t,e,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=uO(t.writeResults,t.commitTime),s=fr(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=sy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>lO(this.serializer,s)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{}class sk extends ik{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,ny(e,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Rt(gt.UNKNOWN,u.toString())}))}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,ny(e,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(gt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(e),this.aa=!1):Nt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class ak{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Al(this)&&(Nt(vl,"Restarting streams for network reachability change."),await(async function(y){const E=Yt(y);E.Ea.add(4),await Vh(E),E.Ra.set("Unknown"),E.Ea.delete(4),await cm(E)})(this))}))})),this.Ra=new rk(s,o)}}async function cm(n){if(Al(n))for(const t of n.da)await t(!0)}async function Vh(n){for(const t of n.da)await t(!1)}function HS(n,t){const e=Yt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),y_(e)?g_(e):$u(e).O_()&&p_(e,t))}function m_(n,t){const e=Yt(n),s=$u(e);e.Ia.delete(t),s.O_()&&qS(e,t),e.Ia.size===0&&(s.O_()?s.L_():Al(e)&&e.Ra.set("Unknown"))}function p_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$u(n).Y_(t)}function qS(n,t){n.Va.Ue(t),$u(n).Z_(t)}function g_(n){n.Va=new tO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),$u(n).start(),n.Ra.ua()}function y_(n){return Al(n)&&!$u(n).x_()&&n.Ia.size>0}function Al(n){return Yt(n).Ea.size===0}function GS(n){n.Va=void 0}async function ok(n){n.Ra.set("Online")}async function lk(n){n.Ia.forEach(((t,e)=>{p_(n,t)}))}async function uk(n,t){GS(n),y_(n)?(n.Ra.ha(t),g_(n)):n.Ra.set("Unknown")}async function ck(n,t,e){if(n.Ra.set("Online"),t instanceof IS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(n,t)}catch(s){Nt(vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Vd(n,s)}else if(t instanceof md?n.Va.Ze(t):t instanceof RS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Kt.min()))try{const s=await BS(n.localStore);e.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(E);T&&u.Ia.set(E,T.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,E)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(kn.EMPTY_BYTE_STRING,T.snapshotVersion)),qS(u,y);const S=new so(T.target,y,E,T.sequenceNumber);p_(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(n,e)}catch(s){Nt(vl,"Failed to raise snapshot:",s),await Vd(n,s)}}async function Vd(n,t,e){if(!Ku(t))throw t;n.Ea.add(1),await Vh(n),n.Ra.set("Offline"),e||(e=()=>BS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Nt(vl,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await cm(n)}))}function ZS(n,t){return t().catch((e=>Vd(n,e,t)))}async function hm(n){const t=Yt(n),e=yo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jy;for(;hk(t);)try{const o=await ZO(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,fk(t,o)}catch(o){await Vd(t,o)}KS(t)&&YS(t)}function hk(n){return Al(n)&&n.Ta.length<10}function fk(n,t){n.Ta.push(t);const e=yo(n);e.O_()&&e.X_&&e.ea(t.mutations)}function KS(n){return Al(n)&&!yo(n).x_()&&n.Ta.length>0}function YS(n){yo(n).start()}async function dk(n){yo(n).ra()}async function mk(n){const t=yo(n);for(const e of n.Ta)t.ea(e.mutations)}async function pk(n,t,e){const s=n.Ta.shift(),o=o_.from(s,t,e);await ZS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await hm(n)}async function gk(n,t){t&&yo(n).X_&&await(async function(s,o){if((function(f){return XL(f)&&f!==gt.ABORTED})(o.code)){const u=s.Ta.shift();yo(s).B_(),await ZS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hm(s)}})(n,t),KS(n)&&YS(n)}async function jT(n,t){const e=Yt(n);e.asyncQueue.verifyOperationInProgress(),Nt(vl,"RemoteStore received new credentials");const s=Al(e);e.Ea.add(3),await Vh(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await cm(e)}async function yk(n,t){const e=Yt(n);t?(e.Ea.delete(2),await cm(e)):t||(e.Ea.add(2),await Vh(e),e.Ra.set("Unknown"))}function $u(n){return n.ma||(n.ma=(function(e,s,o){const u=Yt(e);return u.sa(),new ek(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:ok.bind(null,n),t_:lk.bind(null,n),r_:uk.bind(null,n),H_:ck.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),y_(n)?g_(n):n.Ra.set("Unknown")):(await n.ma.stop(),GS(n))}))),n.ma}function yo(n){return n.fa||(n.fa=(function(e,s,o){const u=Yt(e);return u.sa(),new nk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:dk.bind(null,n),r_:gk.bind(null,n),ta:mk.bind(null,n),na:pk.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await hm(n)):(await n.fa.stop(),n.Ta.length>0&&(Nt(vl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new cl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const f=Date.now()+s,g=new __(t,e,f,o,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,t){if(ia("AsyncQueue",`${t}: ${n}`),Ku(n))return new Rt(gt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(t){return new Iu(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||kt.comparator(e.key,s.key):(e,s)=>kt.comparator(e.key,s.key),this.keyedMap=Kc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Iu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Iu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ga=new He(kt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ht(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Vu{constructor(t,e,s,o,u,f,g,y,E){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(t,e,s,o,u){const f=[];return e.forEach((g=>{f.push({type:0,doc:g})})),new Vu(t,e,Iu.emptySet(e),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class vk{constructor(){this.queries=HT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=Yt(e),u=o.queries;o.queries=HT(),u.forEach(((f,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new Rt(gt.ABORTED,"Firestore shutting down"))}}function HT(){return new Sl((n=>pS(n)),sm)}async function Ek(n,t){const e=Yt(n);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new _k,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const g=v_(f,`Initialization of query '${yu(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&E_(e)}async function bk(n,t){const e=Yt(n),s=t.query;let o=3;const u=e.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Tk(n,t){const e=Yt(n);let s=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&E_(e)}function wk(n,t,e){const s=Yt(n),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function E_(n){n.Ca.forEach((t=>{t.next()}))}var oy,qT;(qT=oy||(oy={})).Ma="default",qT.Cache="cache";class xk{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Vu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.key=t}}class WS{constructor(t){this.key=t}}class Sk{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=gS(t),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new FT,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const R=o.get(T),V=rm(this.query,S)?S:null,K=!!R&&this.mutatedKeys.has(R.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let X=!1;R&&V?R.data.isEqual(V.data)?K!==$&&(s.track({type:3,doc:V}),X=!0):this.su(R,V)||(s.track({type:2,doc:V}),X=!0,(y&&this.eu(V,y)>0||E&&this.eu(V,E)<0)&&(g=!0)):!R&&V?(s.track({type:0,doc:V}),X=!0):R&&!V&&(s.track({type:1,doc:R}),X=!0,(y||E)&&(g=!0)),X&&(V?(f=f.add(V),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(V,K){const $=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Rt:X})}};return $(V)-$(K)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const g=e&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,E=y!==this.Za;return this.Za=y,f.length!==0||E?{snapshot:new Vu(this.query,t.tu,u,f,t.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new WS(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new $S(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=le();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b_="SyncEngine";class Ak{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class Ck{constructor(t){this.key=t,this.hu=!1}}class Rk{constructor(t,e,s,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Sl((g=>pS(g)),sm),this.Iu=new Map,this.Eu=new Set,this.du=new He(kt.comparator),this.Au=new Map,this.Ru=new c_,this.Vu={},this.mu=new Map,this.fu=ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ik(n,t,e=!0){const s=nA(n);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await XS(s,t,e,!0),o}async function Nk(n,t){const e=nA(n);await XS(e,t,!0,!1)}async function XS(n,t,e,s){const o=await KO(n.localStore,hr(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,e);let g;return s&&(g=await Pk(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&e&&HS(n.remoteStore,o),g}async function Pk(n,t,e,s,o){n.pu=(S,R,V)=>(async function($,X,ct,Q){let Y=X.view.ru(ct);Y.Cs&&(Y=await kT($.localStore,X.query,!1).then((({documents:z})=>X.view.ru(z,Y))));const ht=Q&&Q.targetChanges.get(X.targetId),lt=Q&&Q.targetMismatches.get(X.targetId)!=null,bt=X.view.applyChanges(Y,$.isPrimaryClient,ht,lt);return ZT($,X.targetId,bt.au),bt.snapshot})(n,S,R,V);const u=await kT(n.localStore,t,!0),f=new Sk(t,u.Qs),g=f.ru(u.documents),y=kh.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),E=f.applyChanges(g,n.isPrimaryClient,y);ZT(n,e,E.au);const T=new Ak(t,e,f);return n.Tu.set(t,T),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),E.snapshot}async function Mk(n,t,e){const s=Yt(n),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!sm(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ry(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),e&&m_(s.remoteStore,o.targetId),ly(s,o.targetId)})).catch(Zu)):(ly(s,o.targetId),await ry(s.localStore,o.targetId,!0))}async function Dk(n,t){const e=Yt(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),m_(e.remoteStore,s.targetId))}async function Lk(n,t,e){const s=jk(n);try{const o=await(function(f,g){const y=Yt(f),E=Pe.now(),T=g.reduce(((V,K)=>V.add(K.key)),le());let S,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=sa(),$=le();return y.Ns.getEntries(V,T).next((X=>{K=X,K.forEach(((ct,Q)=>{Q.isValidDocument()||($=$.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,K))).next((X=>{S=X;const ct=[];for(const Q of g){const Y=ZL(Q,S.get(Q.key).overlayedDocument);Y!=null&&ct.push(new xo(Q.key,Y,oS(Y.value.mapValue),ys.exists(!0)))}return y.mutationQueue.addMutationBatch(V,E,ct,g)})).next((X=>{R=X;const ct=X.applyToLocalDocumentSet(S,$);return y.documentOverlayCache.saveOverlays(V,X.batchId,ct)}))})).then((()=>({batchId:R.batchId,changes:_S(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let E=f.Vu[f.currentUser.toKey()];E||(E=new He(oe)),E=E.insert(g,y),f.Vu[f.currentUser.toKey()]=E})(s,o.batchId,e),await zh(s,o.changes),await hm(s.remoteStore)}catch(o){const u=v_(o,"Failed to persist write");e.reject(u)}}async function QS(n,t){const e=Yt(n);try{const s=await qO(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ye(f.hu,14607):o.removedDocuments.size>0&&(ye(f.hu,42227),f.hu=!1))})),await zh(e,s,t)}catch(s){await Zu(s)}}function GT(n,t,e){const s=Yt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=Yt(f);y.onlineState=g;let E=!1;y.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(g)&&(E=!0)})),E&&E_(y)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ok(n,t,e){const s=Yt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new He(kt.comparator);f=f.insert(u,qn.newNoDocument(u,Kt.min()));const g=le().add(u),y=new lm(Kt.min(),new Map,new He(oe),f,g);await QS(s,y),s.du=s.du.remove(u),s.Au.delete(t),T_(s)}else await ry(s.localStore,t,!1).then((()=>ly(s,t,e))).catch(Zu)}async function kk(n,t){const e=Yt(n),s=t.batch.batchId;try{const o=await HO(e.localStore,t);tA(e,s,null),JS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await zh(e,o)}catch(o){await Zu(o)}}async function Vk(n,t,e){const s=Yt(n);try{const o=await(function(f,g){const y=Yt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let T;return y.mutationQueue.lookupMutationBatch(E,g).next((S=>(ye(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(E,S)))).next((()=>y.mutationQueue.performConsistencyCheck(E))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(E,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,T))).next((()=>y.localDocuments.getDocuments(E,T)))}))})(s.localStore,t);tA(s,t,e),JS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await zh(s,o)}catch(o){await Zu(o)}}function JS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function tA(n,t,e){const s=Yt(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ly(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((s=>{n.Ru.containsKey(s)||eA(n,s)}))}function eA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(m_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),T_(n))}function ZT(n,t,e){for(const s of e)s instanceof $S?(n.Ru.addReference(s.key,t),zk(n,s)):s instanceof WS?(Nt(b_,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||eA(n,s.key)):Ht(19791,{wu:s})}function zk(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(Nt(b_,"New document in limbo: "+e),n.Eu.add(s),T_(n))}function T_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new kt(Re.fromString(t)),s=n.fu.next();n.Au.set(s,new Ck(e)),n.du=n.du.insert(e,s),HS(n.remoteStore,new so(hr(s_(e.path)),s,"TargetPurposeLimboResolution",em.ce))}}async function zh(n,t,e){const s=Yt(n),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{f.push(s.pu(y,t,e).then((E=>{if((E||e)&&s.isPrimaryClient){const T=E?!E.fromCache:e?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(E){o.push(E);const T=f_.As(y.targetId,E);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,E){const T=Yt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>_t.forEach(E,(R=>_t.forEach(R.Es,(V=>T.persistence.referenceDelegate.addReference(S,R.targetId,V))).next((()=>_t.forEach(R.ds,(V=>T.persistence.referenceDelegate.removeReference(S,R.targetId,V)))))))))}catch(S){if(!Ku(S))throw S;Nt(d_,"Failed to update sequence numbers: "+S)}for(const S of E){const R=S.targetId;if(!S.fromCache){const V=T.Ms.get(R),K=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(R,$)}}})(s.localStore,u))}async function Uk(n,t){const e=Yt(n);if(!e.currentUser.isEqual(t)){Nt(b_,"User change. New user:",t.toKey());const s=await US(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new Rt(gt.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zh(e,s.Ls)}}function Bk(n,t){const e=Yt(n),s=e.Au.get(t);if(s&&s.hu)return le().add(s.key);{let o=le();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const g=e.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function nA(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ok.bind(null,t),t.Pu.H_=Tk.bind(null,t.eventManager),t.Pu.yu=wk.bind(null,t.eventManager),t}function jk(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vk.bind(null,t),t}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=um(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return FO(this.persistence,new UO,t.initialUser,this.serializer)}Cu(t){return new zS(h_.mi,this.serializer)}Du(t){return new $O}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class Fk extends zd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ye(this.persistence.referenceDelegate instanceof kd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xO(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new zS((s=>kd.mi(s,e)),this.serializer)}}class uy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uk.bind(null,this.syncEngine),await yk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vk})()}createDatastore(t){const e=um(t.databaseInfo.databaseId),s=(function(u){return new tk(u)})(t.databaseInfo);return(function(u,f,g,y){return new sk(u,f,g,y)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,o,u,f,g){return new ak(s,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(e=>GT(this.syncEngine,e,0)),(function(){return UT.v()?new UT:new WO})())}createSyncEngine(t,e){return(function(o,u,f,g,y,E,T){const S=new Rk(o,u,f,g,y,E);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Yt(e);Nt(vl,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ia("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class qk{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=Qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Nt(_o,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Nt(_o,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=v_(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Eg(n,t){n.asyncQueue.verifyOperationInProgress(),Nt(_o,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await US(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function KT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Gk(n);Nt(_o,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>jT(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>jT(t.remoteStore,o))),n._onlineComponents=t}async function Gk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt(_o,"Using user provided OfflineComponentProvider");try{await Eg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===gt.FAILED_PRECONDITION||o.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Mu("Error using user provided cache. Falling back to memory cache: "+e),await Eg(n,new zd)}}else Nt(_o,"Using default OfflineComponentProvider"),await Eg(n,new Fk(void 0));return n._offlineComponents}async function iA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt(_o,"Using user provided OnlineComponentProvider"),await KT(n,n._uninitializedComponentsProvider._online)):(Nt(_o,"Using default OnlineComponentProvider"),await KT(n,new uy))),n._onlineComponents}function Zk(n){return iA(n).then((t=>t.syncEngine))}async function YT(n){const t=await iA(n),e=t.eventManager;return e.onListen=Ik.bind(null,t.syncEngine),e.onUnlisten=Mk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Nk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Dk.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firestore.googleapis.com",WT=!0;class XT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=WT}else this.host=t.host,this.ssl=t.ssl??WT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TO)throw new Rt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fm{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $D;switch(s.type){case"firstParty":return new JD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=$T.get(e);s&&(Nt("ComponentProvider","Removing Datastore"),$T.delete(e),s.terminate())})(this),Promise.resolve()}}function Kk(n,t,e,s={}){n=cr(n,fm);const o=Fu(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},g=`${t}:${e}`;o&&(I1(`https://${g}`),N1("Firestore",!0)),u.host!==rA&&u.host!==g&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:s};if(!ho(y,f)&&(n._setSettings(y),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Hn.MOCK_USER;else{E=UR(s.mockUserToken,n._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Rt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Hn(S)}n._authCredentials=new WD(new $x(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cl(this.firestore,t,this._query)}}class Je{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Lh(e,Je._jsonSchema))return new Je(t,s||null,new kt(Re.fromString(e.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:on("string",Je._jsonSchemaVersion),referencePath:on("string")};class uo extends Cl{constructor(t,e,s){super(t,e,s_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new kt(t))}withConverter(t){return new uo(this.firestore,t,this._path)}}function Ud(n,t,...e){if(n=tn(n),Wx("collection","path",t),n instanceof fm){const s=Re.fromString(t,...e);return uT(s),new uo(n,null,s)}{if(!(n instanceof Je||n instanceof uo))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Re.fromString(t,...e));return uT(s),new uo(n.firestore,null,s)}}function Bd(n,t,...e){if(n=tn(n),arguments.length===1&&(t=Qy.newId()),Wx("doc","path",t),n instanceof fm){const s=Re.fromString(t,...e);return lT(s),new Je(n,null,new kt(s))}{if(!(n instanceof Je||n instanceof uo))throw new Rt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Re.fromString(t,...e));return lT(s),new Je(n.firestore,n instanceof uo?n.converter:null,new kt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="AsyncQueue";class JT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jS(this,"async_queue_retry"),this._c=()=>{const s=vg();s&&Nt(QT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=vg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=vg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new cl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ku(t))throw t;Nt(QT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",tw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=__.createAndSchedule(this,t,e,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ht(47125,{Pc:tw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function tw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class El extends fm{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new JT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JT(t),this._firestoreClient=void 0,await t}}}function Yk(n,t){const e=typeof n=="object"?n:Vy(),s=typeof n=="string"?n:Pd,o=wl(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VR("firestore");u&&Kk(o,...u)}return o}function aA(n){if(n._terminated)throw new Rt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$k(n),n._firestoreClient}function $k(n){const t=n._freezeSettings(),e=(function(o,u,f,g){return new gL(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new qk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ps(kn.fromBase64String(t))}catch(e){throw new Rt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ps(kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lh(t,ps._jsonSchema))return ps.fromBase64String(t.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:on("string",ps._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Rt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Rt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Rt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return oe(this._lat,t._lat)||oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(t){if(Lh(t,dr._jsonSchema))return new dr(t.latitude,t.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:on("string",dr._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lh(t,mr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new mr(t.vectorValues);throw new Rt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:on("string",mr._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=/^__.*__$/;class Xk{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new xo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Oh(t,this.data,e,this.fieldTransforms)}}class oA{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new xo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function lA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ac:n})}}class w_{constructor(t,e,s,o,u,f){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new w_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lA(this.Ac)&&Wk.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Qk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||um(t)}Cc(t,e,s,o=!1){return new w_({Ac:t,methodName:e,Dc:s,path:On.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(n){const t=n._freezeSettings(),e=um(n._databaseId);return new Qk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function uA(n,t,e,s,o,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);S_("Data must be an object, but it was:",f,s);const g=cA(s,f);let y,E;if(u.merge)y=new Gi(f.fieldMask),E=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=cy(t,S,e);if(!f.contains(R))throw new Rt(gt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fA(T,R)||T.push(R)}y=new Gi(T),E=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,E=f.fieldTransforms;return new Xk(new wi(g),y,E)}class gm extends mm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}class x_ extends mm{_toFieldTransform(t){return new FL(t.path,new vh)}isEqual(t){return t instanceof x_}}function Jk(n,t,e,s){const o=n.Cc(1,t,e);S_("Data must be an object, but it was:",o,s);const u=[],f=wi.empty();wo(s,((y,E)=>{const T=A_(t,y,e);E=tn(E);const S=o.yc(T);if(E instanceof gm)u.push(T);else{const R=Uh(E,S);R!=null&&(u.push(T),f.set(T,R))}}));const g=new Gi(u);return new oA(f,g,o.fieldTransforms)}function tV(n,t,e,s,o,u){const f=n.Cc(1,t,e),g=[cy(t,s,e)],y=[o];if(u.length%2!=0)throw new Rt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(cy(t,u[R])),y.push(u[R+1]);const E=[],T=wi.empty();for(let R=g.length-1;R>=0;--R)if(!fA(E,g[R])){const V=g[R];let K=y[R];K=tn(K);const $=f.yc(V);if(K instanceof gm)E.push(V);else{const X=Uh(K,$);X!=null&&(E.push(V),T.set(V,X))}}const S=new Gi(E);return new oA(T,S,f.fieldTransforms)}function eV(n,t,e,s=!1){return Uh(e,n.Cc(s?4:3,t))}function Uh(n,t){if(hA(n=tn(n)))return S_("Unsupported field value:",t,n),cA(n,t);if(n instanceof mm)return(function(s,o){if(!lA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let y=Uh(g,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(n,t)}return(function(s,o){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UL(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pe.fromDate(s);return{timestampValue:Od(o.serializer,u)}}if(s instanceof Pe){const u=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Od(o.serializer,u)}}if(s instanceof dr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ps)return{bytesValue:NS(o.serializer,s._byteString)};if(s instanceof Je){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:u_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mr)return(function(f,g){return{mapValue:{fields:{[rS]:{stringValue:aS},[Md]:{arrayValue:{values:f.toArray().map((E=>{if(typeof E!="number")throw g.Sc("VectorValues must only contain numeric values.");return r_(g.serializer,E)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tm(s)}`)})(n,t)}function cA(n,t){const e={};return Jx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wo(n,((s,o)=>{const u=Uh(o,t.mc(s));u!=null&&(e[s]=u)})),{mapValue:{fields:e}}}function hA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pe||n instanceof dr||n instanceof ps||n instanceof Je||n instanceof mm||n instanceof mr)}function S_(n,t,e){if(!hA(e)||!Xx(e)){const s=tm(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function cy(n,t,e){if((t=tn(t))instanceof dm)return t._internalPath;if(typeof t=="string")return A_(n,t);throw jd("Field path arguments must be of type string or ",n,!1,void 0,e)}const nV=new RegExp("[~\\*/\\[\\]]");function A_(n,t,e){if(t.search(nV)>=0)throw jd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dm(...t.split("."))._internalPath}catch{throw jd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function jd(n,t,e,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new Rt(gt.INVALID_ARGUMENT,g+n+y)}function fA(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(C_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class iV extends dA{data(){return super.data()}}function C_(n,t){return typeof t=="string"?A_(n,t):t instanceof dm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Rt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R_{}class mA extends R_{}function I_(n,t,...e){let s=[];t instanceof R_&&s.push(t),s=s.concat(e),(function(u){const f=u.filter((y=>y instanceof P_)).length,g=u.filter((y=>y instanceof N_)).length;if(f>1||f>0&&g>0)throw new Rt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class N_ extends mA{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new N_(t,e,s)}_apply(t){const e=this._parse(t);return pA(t._query,e),new Cl(t.firestore,t.converter,Jg(t._query,e))}_parse(t){const e=pm(t.firestore);return(function(u,f,g,y,E,T,S){let R;if(E.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){iw(S,T);const K=[];for(const $ of S)K.push(nw(y,u,$));R={arrayValue:{values:K}}}else R=nw(y,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||iw(S,T),R=eV(g,f,S,T==="in"||T==="not-in");return an.create(E,T,R)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class P_ extends R_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new P_(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:js.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const y of g)pA(f,y),f=Jg(f,y)})(t._query,e),new Cl(t.firestore,t.converter,Jg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M_ extends mA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new M_(t,e)}_apply(t){const e=(function(o,u,f){if(o.startAt!==null)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _h(u,f)})(t._query,this._field,this._direction);return new Cl(t.firestore,t.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Yu(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,e))}}function D_(n,t="asc"){const e=t,s=C_("orderBy",n);return M_._create(s,e)}function nw(n,t,e){if(typeof(e=tn(e))=="string"){if(e==="")throw new Rt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(t)&&e.indexOf("/")!==-1)throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Re.fromString(e));if(!kt.isDocumentKey(s))throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yT(n,new kt(s))}if(e instanceof Je)return yT(n,e._key);throw new Rt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(e)}.`)}function iw(n,t){if(!Array.isArray(n)||n.length===0)throw new Rt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pA(n,t){const e=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Rt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class rV{convertValue(t,e="none"){switch(go(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(po(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ht(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return wo(t,((o,u)=>{s[o]=this.convertValue(u,e)})),s}convertVectorValue(t){const e=t.fields?.[Md].arrayValue?.values?.map((s=>Qe(s.doubleValue)));return new mr(e)}convertGeoPoint(t){return new dr(Qe(t.latitude),Qe(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=im(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(ph(t));default:return null}}convertTimestamp(t){const e=mo(t);return new Pe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Re.fromString(t);ye(kS(s),9688,{name:t});const o=new gh(s.get(1),s.get(3)),u=new kt(s.popFirst(5));return o.isEqual(e)||ia(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class $c{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hl extends dA{constructor(t,e,s,o,u,f){super(t,e,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(C_("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=hl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:on("string",hl._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class pd extends hl{data(t={}){return super.data(t)}}class Nu{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new $c(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new pd(this._firestore,this._userDataWriter,s.key,s,new $c(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new pd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $c(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new pd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $c(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,T=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:aV(g.type),doc:y,oldIndex:E,newIndex:T}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:n})}}Nu._jsonSchemaVersion="firestore/querySnapshot/1.0",Nu._jsonSchema={type:on("string",Nu._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class yA extends rV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ps(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,e)}}function oV(n,t,e){n=cr(n,Je);const s=cr(n.firestore,El),o=gA(n.converter,t);return ym(s,[uA(pm(s),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,ys.none())])}function lV(n,t,e,...s){n=cr(n,Je);const o=cr(n.firestore,El),u=pm(o);let f;return f=typeof(t=tn(t))=="string"||t instanceof dm?tV(u,"updateDoc",n._key,t,e,s):Jk(u,"updateDoc",n._key,t),ym(o,[f.toMutation(n._key,ys.exists(!0))])}function uV(n){return ym(cr(n.firestore,El),[new a_(n._key,ys.none())])}function cV(n,t){const e=cr(n.firestore,El),s=Bd(n),o=gA(n.converter,t);return ym(e,[uA(pm(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,ys.exists(!1))]).then((()=>s))}function L_(n,...t){n=tn(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ew(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(ew(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,g;if(n instanceof Je)f=cr(n.firestore,El),g=s_(n._key.path),u={next:y=>{t[s]&&t[s](hV(f,n,y))},error:t[s+1],complete:t[s+2]};else{const y=cr(n,Cl);f=cr(y.firestore,El),g=y._query;const E=new yA(f);u={next:T=>{t[s]&&t[s](new Nu(f,E,y,T))},error:t[s+1],complete:t[s+2]},sV(n._query)}return(function(E,T,S,R){const V=new Hk(R),K=new xk(T,V,S);return E.asyncQueue.enqueueAndForget((async()=>Ek(await YT(E),K))),()=>{V.Nu(),E.asyncQueue.enqueueAndForget((async()=>bk(await YT(E),K)))}})(aA(f),g,o,u)}function ym(n,t){return(function(s,o){const u=new cl;return s.asyncQueue.enqueueAndForget((async()=>Lk(await Zk(s),o,u))),u.promise})(aA(n),t)}function hV(n,t,e){const s=e.docs.get(t._key),o=new yA(n);return new hl(n,o,t._key,s,new $c(e.hasPendingWrites,e.fromCache),t.converter)}function rh(){return new x_("serverTimestamp")}(function(t,e=!0){(function(o){Gu=o})(Hu),_r(new Us("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new El(new XD(s.getProvider("auth-internal")),new tL(f,s.getProvider("app-check-internal")),(function(E,T){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Rt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(E.options.projectId,T)})(f,o),f);return u={useFetchStreams:e,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),gs(sT,rT,t),gs(sT,rT,"esm2020")})();const _A={apiKey:"AIzaSyCIJpRImv_V9JrVP9otsJ-M4LX4fy7RkyQ",authDomain:"language-709f8.firebaseapp.com",projectId:"language-709f8",storageBucket:"language-709f8.firebasestorage.app",messagingSenderId:"962048724768",appId:"1:962048724768:web:92b05f3da429d46c765145",measurementId:"G-0T67XXJP8Y"};console.log("Firebase Config Loaded:",{projectId:_A.projectId,usingEnvVars:!1});const O_=V1(_A);NP(O_);const ed=KD(O_),ol=Yk(O_);var bg={exports:{}},Fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function fV(){if(sw)return Fc;sw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fc.Fragment=t,Fc.jsx=e,Fc.jsxs=e,Fc}var rw;function dV(){return rw||(rw=1,bg.exports=fV()),bg.exports}var ta=dV();const k_=tt.createContext({});function V_(n){const t=tt.useRef(null);return t.current===null&&(t.current=n()),t.current}const z_=typeof window<"u",vA=z_?tt.useLayoutEffect:tt.useEffect,_m=tt.createContext(null);function U_(n,t){n.indexOf(t)===-1&&n.push(t)}function B_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ra=(n,t,e)=>e>t?t:e<n?n:e;let j_=()=>{};const aa={},EA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function bA(n){return typeof n=="object"&&n!==null}const TA=n=>/^0[^.\s]+$/u.test(n);function F_(n){let t;return()=>(t===void 0&&(t=n()),t)}const _s=n=>n,mV=(n,t)=>e=>t(n(e)),Bh=(...n)=>n.reduce(mV),Th=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class H_{constructor(){this.subscriptions=[]}add(t){return U_(this.subscriptions,t),()=>B_(this.subscriptions,t)}notify(t,e,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,s);else for(let u=0;u<o;u++){const f=this.subscriptions[u];f&&f(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pr=n=>n*1e3,gr=n=>n/1e3;function wA(n,t){return t?n*(1e3/t):0}const xA=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,pV=1e-7,gV=12;function yV(n,t,e,s,o){let u,f,g=0;do f=t+(e-t)/2,u=xA(f,s,o)-n,u>0?e=f:t=f;while(Math.abs(u)>pV&&++g<gV);return f}function jh(n,t,e,s){if(n===t&&e===s)return _s;const o=u=>yV(u,0,1,n,e);return u=>u===0||u===1?u:xA(o(u),t,s)}const SA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,AA=n=>t=>1-n(1-t),CA=jh(.33,1.53,.69,.99),q_=AA(CA),RA=SA(q_),IA=n=>(n*=2)<1?.5*q_(n):.5*(2-Math.pow(2,-10*(n-1))),G_=n=>1-Math.sin(Math.acos(n)),NA=AA(G_),PA=SA(G_),_V=jh(.42,0,1,1),vV=jh(0,0,.58,1),MA=jh(.42,0,.58,1),EV=n=>Array.isArray(n)&&typeof n[0]!="number",DA=n=>Array.isArray(n)&&typeof n[0]=="number",bV={linear:_s,easeIn:_V,easeInOut:MA,easeOut:vV,circIn:G_,circInOut:PA,circOut:NA,backIn:q_,backInOut:RA,backOut:CA,anticipate:IA},TV=n=>typeof n=="string",aw=n=>{if(DA(n)){j_(n.length===4);const[t,e,s,o]=n;return jh(t,e,s,o)}else if(TV(n))return bV[n];return n},nd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wV(n,t){let e=new Set,s=new Set,o=!1,u=!1;const f=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1};function y(T){f.has(T)&&(E.schedule(T),n()),T(g)}const E={schedule:(T,S=!1,R=!1)=>{const K=R&&o?e:s;return S&&f.add(T),K.has(T)||K.add(T),T},cancel:T=>{s.delete(T),f.delete(T)},process:T=>{if(g=T,o){u=!0;return}o=!0,[e,s]=[s,e],e.forEach(y),e.clear(),o=!1,u&&(u=!1,E.process(T))}};return E}const xV=40;function LA(n,t){let e=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,f=nd.reduce((Y,ht)=>(Y[ht]=wV(u),Y),{}),{setup:g,read:y,resolveKeyframes:E,preUpdate:T,update:S,preRender:R,render:V,postRender:K}=f,$=()=>{const Y=aa.useManualTiming?o.timestamp:performance.now();e=!1,aa.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Y-o.timestamp,xV),1)),o.timestamp=Y,o.isProcessing=!0,g.process(o),y.process(o),E.process(o),T.process(o),S.process(o),R.process(o),V.process(o),K.process(o),o.isProcessing=!1,e&&t&&(s=!1,n($))},X=()=>{e=!0,s=!0,o.isProcessing||n($)};return{schedule:nd.reduce((Y,ht)=>{const lt=f[ht];return Y[ht]=(bt,z=!1,M=!1)=>(e||X(),lt.schedule(bt,z,M)),Y},{}),cancel:Y=>{for(let ht=0;ht<nd.length;ht++)f[nd[ht]].cancel(Y)},state:o,steps:f}}const{schedule:ke,cancel:vo,state:Dn,steps:Tg}=LA(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let gd;function SV(){gd=void 0}const xi={now:()=>(gd===void 0&&xi.set(Dn.isProcessing||aa.useManualTiming?Dn.timestamp:performance.now()),gd),set:n=>{gd=n,queueMicrotask(SV)}},OA=n=>t=>typeof t=="string"&&t.startsWith(n),Z_=OA("--"),AV=OA("var(--"),K_=n=>AV(n)?CV.test(n.split("/*")[0].trim()):!1,CV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wh={...Wu,transform:n=>ra(0,1,n)},id={...Wu,default:1},ah=n=>Math.round(n*1e5)/1e5,Y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RV(n){return n==null}const IV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$_=(n,t)=>e=>!!(typeof e=="string"&&IV.test(e)&&e.startsWith(n)||t&&!RV(e)&&Object.prototype.hasOwnProperty.call(e,t)),kA=(n,t,e)=>s=>{if(typeof s!="string")return s;const[o,u,f,g]=s.match(Y_);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(f),alpha:g!==void 0?parseFloat(g):1}},NV=n=>ra(0,255,n),wg={...Wu,transform:n=>Math.round(NV(n))},ll={test:$_("rgb","red"),parse:kA("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+wg.transform(n)+", "+wg.transform(t)+", "+wg.transform(e)+", "+ah(wh.transform(s))+")"};function PV(n){let t="",e="",s="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const hy={test:$_("#"),parse:PV,transform:ll.transform},Fh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ja=Fh("deg"),yr=Fh("%"),Gt=Fh("px"),MV=Fh("vh"),DV=Fh("vw"),ow={...yr,parse:n=>yr.parse(n)/100,transform:n=>yr.transform(n*100)},bu={test:$_("hsl","hue"),parse:kA("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+yr.transform(ah(t))+", "+yr.transform(ah(e))+", "+ah(wh.transform(s))+")"},rn={test:n=>ll.test(n)||hy.test(n)||bu.test(n),parse:n=>ll.test(n)?ll.parse(n):bu.test(n)?bu.parse(n):hy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ll.transform(n):bu.transform(n),getAnimatableNone:n=>{const t=rn.parse(n);return t.alpha=0,rn.transform(t)}},LV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(n){return isNaN(n)&&typeof n=="string"&&(n.match(Y_)?.length||0)+(n.match(LV)?.length||0)>0}const VA="number",zA="color",kV="var",VV="var(",lw="${}",zV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xh(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},o=[];let u=0;const g=t.replace(zV,y=>(rn.test(y)?(s.color.push(u),o.push(zA),e.push(rn.parse(y))):y.startsWith(VV)?(s.var.push(u),o.push(kV),e.push(y)):(s.number.push(u),o.push(VA),e.push(parseFloat(y))),++u,lw)).split(lw);return{values:e,split:g,indexes:s,types:o}}function UA(n){return xh(n).values}function BA(n){const{split:t,types:e}=xh(n),s=t.length;return o=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],o[f]!==void 0){const g=e[f];g===VA?u+=ah(o[f]):g===zA?u+=rn.transform(o[f]):u+=o[f]}return u}}const UV=n=>typeof n=="number"?0:rn.test(n)?rn.getAnimatableNone(n):n;function BV(n){const t=UA(n);return BA(n)(t.map(UV))}const Eo={test:OV,parse:UA,createTransformer:BA,getAnimatableNone:BV};function xg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function jV({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let o=0,u=0,f=0;if(!t)o=u=f=e;else{const g=e<.5?e*(1+t):e+t-e*t,y=2*e-g;o=xg(y,g,n+1/3),u=xg(y,g,n),f=xg(y,g,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function Fd(n,t){return e=>e>0?t:n}const Fe=(n,t,e)=>n+(t-n)*e,Sg=(n,t,e)=>{const s=n*n,o=e*(t*t-s)+s;return o<0?0:Math.sqrt(o)},FV=[hy,ll,bu],HV=n=>FV.find(t=>t.test(n));function uw(n){const t=HV(n);if(!t)return!1;let e=t.parse(n);return t===bu&&(e=jV(e)),e}const cw=(n,t)=>{const e=uw(n),s=uw(t);if(!e||!s)return Fd(n,t);const o={...e};return u=>(o.red=Sg(e.red,s.red,u),o.green=Sg(e.green,s.green,u),o.blue=Sg(e.blue,s.blue,u),o.alpha=Fe(e.alpha,s.alpha,u),ll.transform(o))},fy=new Set(["none","hidden"]);function qV(n,t){return fy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function GV(n,t){return e=>Fe(n,t,e)}function W_(n){return typeof n=="number"?GV:typeof n=="string"?K_(n)?Fd:rn.test(n)?cw:YV:Array.isArray(n)?jA:typeof n=="object"?rn.test(n)?cw:ZV:Fd}function jA(n,t){const e=[...n],s=e.length,o=n.map((u,f)=>W_(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)e[f]=o[f](u);return e}}function ZV(n,t){const e={...n,...t},s={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(s[o]=W_(n[o])(n[o],t[o]));return o=>{for(const u in s)e[u]=s[u](o);return e}}function KV(n,t){const e=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],f=n.indexes[u][s[u]],g=n.values[f]??0;e[o]=g,s[u]++}return e}const YV=(n,t)=>{const e=Eo.createTransformer(t),s=xh(n),o=xh(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?fy.has(n)&&!o.values.length||fy.has(t)&&!s.values.length?qV(n,t):Bh(jA(KV(s,o),o.values),e):Fd(n,t)};function FA(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Fe(n,t,e):W_(n)(n,t)}const $V=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ke.update(t,e),stop:()=>vo(t),now:()=>Dn.isProcessing?Dn.timestamp:xi.now()}},HA=(n,t,e=10)=>{let s="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Hd=2e4;function X_(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Hd;)t+=e,s=n.next(t);return t>=Hd?1/0:t}function WV(n,t=100,e){const s=e({...n,keyframes:[0,t]}),o=Math.min(X_(s),Hd);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:gr(o)}}const XV=5;function qA(n,t,e){const s=Math.max(t-XV,0);return wA(e-n(s),t-s)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ag=.001;function QV({duration:n=Ze.duration,bounce:t=Ze.bounce,velocity:e=Ze.velocity,mass:s=Ze.mass}){let o,u,f=1-t;f=ra(Ze.minDamping,Ze.maxDamping,f),n=ra(Ze.minDuration,Ze.maxDuration,gr(n)),f<1?(o=E=>{const T=E*f,S=T*n,R=T-e,V=dy(E,f),K=Math.exp(-S);return Ag-R/V*K},u=E=>{const S=E*f*n,R=S*e+e,V=Math.pow(f,2)*Math.pow(E,2)*n,K=Math.exp(-S),$=dy(Math.pow(E,2),f);return(-o(E)+Ag>0?-1:1)*((R-V)*K)/$}):(o=E=>{const T=Math.exp(-E*n),S=(E-e)*n+1;return-Ag+T*S},u=E=>{const T=Math.exp(-E*n),S=(e-E)*(n*n);return T*S});const g=5/n,y=t4(o,u,g);if(n=pr(n),isNaN(y))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:n};{const E=Math.pow(y,2)*s;return{stiffness:E,damping:f*2*Math.sqrt(s*E),duration:n}}}const JV=12;function t4(n,t,e){let s=e;for(let o=1;o<JV;o++)s=s-n(s)/t(s);return s}function dy(n,t){return n*Math.sqrt(1-t*t)}const e4=["duration","bounce"],n4=["stiffness","damping","mass"];function hw(n,t){return t.some(e=>n[e]!==void 0)}function i4(n){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...n};if(!hw(n,n4)&&hw(n,e4))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),o=s*s,u=2*ra(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ze.mass,stiffness:o,damping:u}}else{const e=QV(n);t={...t,...e,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function qd(n=Ze.visualDuration,t=Ze.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:o}=e;const u=e.keyframes[0],f=e.keyframes[e.keyframes.length-1],g={done:!1,value:u},{stiffness:y,damping:E,mass:T,duration:S,velocity:R,isResolvedFromDuration:V}=i4({...e,velocity:-gr(e.velocity||0)}),K=R||0,$=E/(2*Math.sqrt(y*T)),X=f-u,ct=gr(Math.sqrt(y/T)),Q=Math.abs(X)<5;s||(s=Q?Ze.restSpeed.granular:Ze.restSpeed.default),o||(o=Q?Ze.restDelta.granular:Ze.restDelta.default);let Y;if($<1){const lt=dy(ct,$);Y=bt=>{const z=Math.exp(-$*ct*bt);return f-z*((K+$*ct*X)/lt*Math.sin(lt*bt)+X*Math.cos(lt*bt))}}else if($===1)Y=lt=>f-Math.exp(-ct*lt)*(X+(K+ct*X)*lt);else{const lt=ct*Math.sqrt($*$-1);Y=bt=>{const z=Math.exp(-$*ct*bt),M=Math.min(lt*bt,300);return f-z*((K+$*ct*X)*Math.sinh(M)+lt*X*Math.cosh(M))/lt}}const ht={calculatedDuration:V&&S||null,next:lt=>{const bt=Y(lt);if(V)g.done=lt>=S;else{let z=lt===0?K:0;$<1&&(z=lt===0?pr(K):qA(Y,lt,bt));const M=Math.abs(z)<=s,O=Math.abs(f-bt)<=o;g.done=M&&O}return g.value=g.done?f:bt,g},toString:()=>{const lt=Math.min(X_(ht),Hd),bt=HA(z=>ht.next(lt*z).value,lt,30);return lt+"ms "+bt},toTransition:()=>{}};return ht}qd.applyToOptions=n=>{const t=WV(n,100,qd);return n.ease=t.ease,n.duration=pr(t.duration),n.type="keyframes",n};function my({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:f,min:g,max:y,restDelta:E=.5,restSpeed:T}){const S=n[0],R={done:!1,value:S},V=M=>g!==void 0&&M<g||y!==void 0&&M>y,K=M=>g===void 0?y:y===void 0||Math.abs(g-M)<Math.abs(y-M)?g:y;let $=e*t;const X=S+$,ct=f===void 0?X:f(X);ct!==X&&($=ct-S);const Q=M=>-$*Math.exp(-M/s),Y=M=>ct+Q(M),ht=M=>{const O=Q(M),q=Y(M);R.done=Math.abs(O)<=E,R.value=R.done?ct:q};let lt,bt;const z=M=>{V(R.value)&&(lt=M,bt=qd({keyframes:[R.value,K(R.value)],velocity:qA(Y,M,R.value),damping:o,stiffness:u,restDelta:E,restSpeed:T}))};return z(0),{calculatedDuration:null,next:M=>{let O=!1;return!bt&&lt===void 0&&(O=!0,ht(M),z(M)),lt!==void 0&&M>=lt?bt.next(M-lt):(!O&&ht(M),R)}}}function s4(n,t,e){const s=[],o=e||aa.mix||FA,u=n.length-1;for(let f=0;f<u;f++){let g=o(n[f],n[f+1]);if(t){const y=Array.isArray(t)?t[f]||_s:t;g=Bh(y,g)}s.push(g)}return s}function r4(n,t,{clamp:e=!0,ease:s,mixer:o}={}){const u=n.length;if(j_(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const g=s4(t,s,o),y=g.length,E=T=>{if(f&&T<n[0])return t[0];let S=0;if(y>1)for(;S<n.length-2&&!(T<n[S+1]);S++);const R=Th(n[S],n[S+1],T);return g[S](R)};return e?T=>E(ra(n[0],n[u-1],T)):E}function a4(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const o=Th(0,t,s);n.push(Fe(e,1,o))}}function o4(n){const t=[0];return a4(t,n.length-1),t}function l4(n,t){return n.map(e=>e*t)}function u4(n,t){return n.map(()=>t||MA).splice(0,n.length-1)}function oh({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const o=EV(s)?s.map(aw):aw(s),u={done:!1,value:t[0]},f=l4(e&&e.length===t.length?e:o4(t),n),g=r4(f,t,{ease:Array.isArray(o)?o:u4(t,o)});return{calculatedDuration:n,next:y=>(u.value=g(y),u.done=y>=n,u)}}const c4=n=>n!==null;function Q_(n,{repeat:t,repeatType:e="loop"},s,o=1){const u=n.filter(c4),g=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!g||s===void 0?u[g]:s}const h4={decay:my,inertia:my,tween:oh,keyframes:oh,spring:qd};function GA(n){typeof n.type=="string"&&(n.type=h4[n.type])}class J_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const f4=n=>n/100;class tv extends J_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==xi.now()&&this.tick(xi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;GA(t);const{type:e=oh,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:f=0}=t;let{keyframes:g}=t;const y=e||oh;y!==oh&&typeof g[0]!="number"&&(this.mixKeyframes=Bh(f4,FA(g[0],g[1])),g=[0,100]);const E=y({...t,keyframes:g});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...g].reverse(),velocity:-f})),E.calculatedDuration===null&&(E.calculatedDuration=X_(E));const{calculatedDuration:T}=E;this.calculatedDuration=T,this.resolvedDuration=T+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=E}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:E=0,keyframes:T,repeat:S,repeatType:R,repeatDelay:V,type:K,onUpdate:$,finalKeyframe:X}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const ct=this.currentTime-E*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?ct<0:ct>o;this.currentTime=Math.max(ct,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,ht=s;if(S){const M=Math.min(this.currentTime,o)/g;let O=Math.floor(M),q=M%1;!q&&M>=1&&(q=1),q===1&&O--,O=Math.min(O,S+1),!!(O%2)&&(R==="reverse"?(q=1-q,V&&(q-=V/g)):R==="mirror"&&(ht=f)),Y=ra(0,1,q)*g}const lt=Q?{done:!1,value:T[0]}:ht.next(Y);u&&(lt.value=u(lt.value));let{done:bt}=lt;!Q&&y!==null&&(bt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&bt);return z&&K!==my&&(lt.value=Q_(T,this.options,X,this.speed)),$&&$(lt.value),z&&this.finish(),lt}then(t,e){return this.finished.then(t,e)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(t){t=pr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xi.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$V,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function d4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ul=n=>n*180/Math.PI,py=n=>{const t=ul(Math.atan2(n[1],n[0]));return gy(t)},m4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:py,rotateZ:py,skewX:n=>ul(Math.atan(n[1])),skewY:n=>ul(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},gy=n=>(n=n%360,n<0&&(n+=360),n),fw=py,dw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),mw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),p4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dw,scaleY:mw,scale:n=>(dw(n)+mw(n))/2,rotateX:n=>gy(ul(Math.atan2(n[6],n[5]))),rotateY:n=>gy(ul(Math.atan2(-n[2],n[0]))),rotateZ:fw,rotate:fw,skewX:n=>ul(Math.atan(n[4])),skewY:n=>ul(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function yy(n){return n.includes("scale")?1:0}function _y(n,t){if(!n||n==="none")return yy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(e)s=p4,o=e;else{const g=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=m4,o=g}if(!o)return yy(t);const u=s[t],f=o[1].split(",").map(y4);return typeof u=="function"?u(f):f[u]}const g4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return _y(e,t)};function y4(n){return parseFloat(n.trim())}const Xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qu=new Set(Xu),pw=n=>n===Wu||n===Gt,_4=new Set(["x","y","z"]),v4=Xu.filter(n=>!_4.has(n));function E4(n){const t=[];return v4.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const fl={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>_y(t,"x"),y:(n,{transform:t})=>_y(t,"y")};fl.translateX=fl.x;fl.translateY=fl.y;const dl=new Set;let vy=!1,Ey=!1,by=!1;function ZA(){if(Ey){const n=Array.from(dl).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const o=E4(s);o.length&&(e.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=e.get(s);o&&o.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ey=!1,vy=!1,dl.forEach(n=>n.complete(by)),dl.clear()}function KA(){dl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ey=!0)})}function b4(){by=!0,KA(),ZA(),by=!1}class ev{constructor(t,e,s,o,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=o,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(dl.add(this),vy||(vy=!0,ke.read(KA),ke.resolveKeyframes(ZA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const g=s.readValue(e,f);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}d4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dl.delete(this)}cancel(){this.state==="scheduled"&&(dl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T4=n=>n.startsWith("--");function w4(n,t,e){T4(t)?n.style.setProperty(t,e):n.style[t]=e}const x4=F_(()=>window.ScrollTimeline!==void 0),S4={};function A4(n,t){const e=F_(n);return()=>S4[t]??e()}const YA=A4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function $A(n,t){if(n)return typeof n=="function"?YA()?HA(n,t):"ease-out":DA(n)?Wc(n):Array.isArray(n)?n.map(e=>$A(e,t)||gw.easeOut):gw[n]}function C4(n,t,e,{delay:s=0,duration:o=300,repeat:u=0,repeatType:f="loop",ease:g="easeOut",times:y}={},E=void 0){const T={[t]:e};y&&(T.offset=y);const S=$A(g,o);Array.isArray(S)&&(T.easing=S);const R={delay:s,duration:o,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return E&&(R.pseudoElement=E),n.animate(T,R)}function WA(n){return typeof n=="function"&&"applyToOptions"in n}function R4({type:n,...t}){return WA(n)&&YA()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class I4 extends J_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:o,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:g,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,j_(typeof t.type!="string");const E=R4(t);this.animation=C4(e,s,o,E,u),E.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const T=Q_(o,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(T):w4(e,s,T),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(t))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=pr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&x4()?(this.animation.timeline=t,_s):e(this)}}const XA={anticipate:IA,backInOut:RA,circInOut:PA};function N4(n){return n in XA}function P4(n){typeof n.ease=="string"&&N4(n.ease)&&(n.ease=XA[n.ease])}const yw=10;class M4 extends I4{constructor(t){P4(t),GA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:o,element:u,...f}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const g=new tv({...f,autoplay:!1}),y=pr(this.finishedTime??this.time);e.setWithVelocity(g.sample(y-yw).value,g.sample(y).value,yw),g.stop()}}const _w=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Eo.test(n)||n==="0")&&!n.startsWith("url("));function D4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function L4(n,t,e,s){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],f=_w(o,t),g=_w(u,t);return!f||!g?!1:D4(n)||(e==="spring"||WA(e))&&s}function Ty(n){n.duration=0,n.type}const O4=new Set(["opacity","clipPath","filter","transform"]),k4=F_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function V4(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:o,damping:u,type:f}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:E}=t.owner.getProps();return k4()&&e&&O4.has(e)&&(e!=="transform"||!E)&&!y&&!s&&o!=="mirror"&&u!==0&&f!=="inertia"}const z4=40;class U4 extends J_{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:f="loop",keyframes:g,name:y,motionValue:E,element:T,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xi.now();const R={autoplay:t,delay:e,type:s,repeat:o,repeatDelay:u,repeatType:f,name:y,motionValue:E,element:T,...S},V=T?.KeyframeResolver||ev;this.keyframeResolver=new V(g,(K,$,X)=>this.onKeyframesResolved(K,$,R,!X),y,E,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,o){this.keyframeResolver=void 0;const{name:u,type:f,velocity:g,delay:y,isHandoff:E,onUpdate:T}=s;this.resolvedAt=xi.now(),L4(t,u,f,g)||((aa.instantAnimations||!y)&&T?.(Q_(t,s,e)),t[0]=t[t.length-1],Ty(s),s.repeat=0);const R={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>z4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},V=!E&&V4(R)?new M4({...R,element:R.motionValue.owner.current}):new tv(R);V.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),b4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const B4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j4(n){const t=B4.exec(n);if(!t)return[,];const[,e,s,o]=t;return[`--${e??s}`,o]}function QA(n,t,e=1){const[s,o]=j4(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return EA(f)?parseFloat(f):f}return K_(o)?QA(o,t,e+1):o}function nv(n,t){return n?.[t]??n?.default??n}const JA=new Set(["width","height","top","left","right","bottom",...Xu]),F4={test:n=>n==="auto",parse:n=>n},tC=n=>t=>t.test(n),eC=[Wu,Gt,yr,Ja,DV,MV,F4],vw=n=>eC.find(tC(n));function H4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||TA(n):!0}const q4=new Set(["brightness","contrast","saturate","opacity"]);function G4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Y_)||[];if(!s)return n;const o=e.replace(s,"");let u=q4.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+o+")"}const Z4=/\b([a-z-]*)\(.*?\)/gu,wy={...Eo,getAnimatableNone:n=>{const t=n.match(Z4);return t?t.map(G4).join(" "):n}},Ew={...Wu,transform:Math.round},K4={rotate:Ja,rotateX:Ja,rotateY:Ja,rotateZ:Ja,scale:id,scaleX:id,scaleY:id,scaleZ:id,skew:Ja,skewX:Ja,skewY:Ja,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:wh,originX:ow,originY:ow,originZ:Gt},iv={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...K4,zIndex:Ew,fillOpacity:wh,strokeOpacity:wh,numOctaves:Ew},Y4={...iv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:wy,WebkitFilter:wy},nC=n=>Y4[n];function iC(n,t){let e=nC(n);return e!==wy&&(e=Eo),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const $4=new Set(["auto","none","0"]);function W4(n,t,e){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!$4.has(u)&&xh(u).values.length&&(o=n[s]),s++}if(o&&e)for(const u of t)n[u]=iC(e,o)}class X4 extends ev{constructor(t,e,s,o,u){super(t,e,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let E=t[y];if(typeof E=="string"&&(E=E.trim(),K_(E))){const T=QA(E,e.current);T!==void 0&&(t[y]=T),y===t.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!JA.has(s)||t.length!==2)return;const[o,u]=t,f=vw(o),g=vw(u);if(f!==g)if(pw(f)&&pw(g))for(let y=0;y<t.length;y++){const E=t[y];typeof E=="string"&&(t[y]=parseFloat(E))}else fl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||H4(t[o]))&&s.push(o);s.length&&W4(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=fl[e](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([g,y])=>{t.getValue(g).set(y)}),this.resolveNoneKeyframes()}}function Q4(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=e?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const sC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function rC(n){return bA(n)&&"offsetHeight"in n}const bw=30,J4=n=>!isNaN(parseFloat(n));class t3{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=xi.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=xi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new H_);const s=this.events[t].add(e);return t==="change"?()=>{s(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,bw);return wA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zu(n,t){return new t3(n,t)}const{schedule:sv}=LA(queueMicrotask,!1),Vs={x:!1,y:!1};function aC(){return Vs.x||Vs.y}function e3(n){return n==="x"||n==="y"?Vs[n]?null:(Vs[n]=!0,()=>{Vs[n]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}function oC(n,t){const e=Q4(n),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[e,o,()=>s.abort()]}function Tw(n){return!(n.pointerType==="touch"||aC())}function n3(n,t,e={}){const[s,o,u]=oC(n,e),f=g=>{if(!Tw(g))return;const{target:y}=g,E=t(y,g);if(typeof E!="function"||!y)return;const T=S=>{Tw(S)&&(E(S),y.removeEventListener("pointerleave",T))};y.addEventListener("pointerleave",T,o)};return s.forEach(g=>{g.addEventListener("pointerenter",f,o)}),u}const lC=(n,t)=>t?n===t?!0:lC(n,t.parentElement):!1,rv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,i3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s3(n){return i3.has(n.tagName)||n.tabIndex!==-1}const yd=new WeakSet;function ww(n){return t=>{t.key==="Enter"&&n(t)}}function Cg(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const r3=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=ww(()=>{if(yd.has(e))return;Cg(e,"down");const o=ww(()=>{Cg(e,"up")}),u=()=>Cg(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function xw(n){return rv(n)&&!aC()}function a3(n,t,e={}){const[s,o,u]=oC(n,e),f=g=>{const y=g.currentTarget;if(!xw(g))return;yd.add(y);const E=t(y,g),T=(V,K)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",R),yd.has(y)&&yd.delete(y),xw(V)&&typeof E=="function"&&E(V,{success:K})},S=V=>{T(V,y===window||y===document||e.useGlobalTarget||lC(y,V.target))},R=V=>{T(V,!1)};window.addEventListener("pointerup",S,o),window.addEventListener("pointercancel",R,o)};return s.forEach(g=>{(e.useGlobalTarget?window:g).addEventListener("pointerdown",f,o),rC(g)&&(g.addEventListener("focus",E=>r3(E,o)),!s3(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),u}function uC(n){return bA(n)&&"ownerSVGElement"in n}function o3(n){return uC(n)&&n.tagName==="svg"}const Gn=n=>!!(n&&n.getVelocity),l3=[...eC,rn,Eo],u3=n=>l3.find(tC(n)),av=tt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Sw(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function c3(...n){return t=>{let e=!1;const s=n.map(o=>{const u=Sw(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():Sw(n[o],null)}}}}function h3(...n){return tt.useCallback(c3(...n),n)}class f3 extends tt.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,o=rC(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d3({children:n,isPresent:t,anchorX:e,root:s}){const o=tt.useId(),u=tt.useRef(null),f=tt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=tt.useContext(av),y=h3(u,n?.ref);return tt.useInsertionEffect(()=>{const{width:E,height:T,top:S,left:R,right:V}=f.current;if(t||!u.current||!E||!T)return;const K=e==="left"?`left: ${R}`:`right: ${V}`;u.current.dataset.motionPopId=o;const $=document.createElement("style");g&&($.nonce=g);const X=s??document.head;return X.appendChild($),$.sheet&&$.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${T}px !important;
            ${K}px !important;
            top: ${S}px !important;
          }
        `),()=>{X.contains($)&&X.removeChild($)}},[t]),ta.jsx(f3,{isPresent:t,childRef:u,sizeRef:f,children:tt.cloneElement(n,{ref:y})})}const m3=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:f,anchorX:g,root:y})=>{const E=V_(p3),T=tt.useId();let S=!0,R=tt.useMemo(()=>(S=!1,{id:T,initial:t,isPresent:e,custom:o,onExitComplete:V=>{E.set(V,!0);for(const K of E.values())if(!K)return;s&&s()},register:V=>(E.set(V,!1),()=>E.delete(V))}),[e,E,s]);return u&&S&&(R={...R}),tt.useMemo(()=>{E.forEach((V,K)=>E.set(K,!1))},[e]),tt.useEffect(()=>{!e&&!E.size&&s&&s()},[e]),f==="popLayout"&&(n=ta.jsx(d3,{isPresent:e,anchorX:g,root:y,children:n})),ta.jsx(_m.Provider,{value:R,children:n})};function p3(){return new Map}function cC(n=!0){const t=tt.useContext(_m);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=t,u=tt.useId();tt.useEffect(()=>{if(n)return o(u)},[n]);const f=tt.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,f]:[!0]}const sd=n=>n.key||"";function Aw(n){const t=[];return tt.Children.forEach(n,e=>{tt.isValidElement(e)&&t.push(e)}),t}const bl=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:f=!1,anchorX:g="left",root:y})=>{const[E,T]=cC(f),S=tt.useMemo(()=>Aw(n),[n]),R=f&&!E?[]:S.map(sd),V=tt.useRef(!0),K=tt.useRef(S),$=V_(()=>new Map),[X,ct]=tt.useState(S),[Q,Y]=tt.useState(S);vA(()=>{V.current=!1,K.current=S;for(let bt=0;bt<Q.length;bt++){const z=sd(Q[bt]);R.includes(z)?$.delete(z):$.get(z)!==!0&&$.set(z,!1)}},[Q,R.length,R.join("-")]);const ht=[];if(S!==X){let bt=[...S];for(let z=0;z<Q.length;z++){const M=Q[z],O=sd(M);R.includes(O)||(bt.splice(z,0,M),ht.push(M))}return u==="wait"&&ht.length&&(bt=ht),Y(Aw(bt)),ct(S),null}const{forceRender:lt}=tt.useContext(k_);return ta.jsx(ta.Fragment,{children:Q.map(bt=>{const z=sd(bt),M=f&&!E?!1:S===Q||R.includes(z),O=()=>{if($.has(z))$.set(z,!0);else return;let q=!0;$.forEach(F=>{F||(q=!1)}),q&&(lt?.(),Y(K.current),f&&T?.(),s&&s())};return ta.jsx(m3,{isPresent:M,initial:!V.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:y,onExitComplete:M?void 0:O,anchorX:g,children:bt},z)})})},hC=tt.createContext({strict:!1}),Cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uu={};for(const n in Cw)Uu[n]={isEnabled:t=>Cw[n].some(e=>!!t[e])};function g3(n){for(const t in n)Uu[t]={...Uu[t],...n[t]}}const y3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||y3.has(n)}let fC=n=>!Gd(n);function _3(n){typeof n=="function"&&(fC=t=>t.startsWith("on")?!Gd(t):n(t))}try{_3(require("@emotion/is-prop-valid").default)}catch{}function v3(n,t,e){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(fC(o)||e===!0&&Gd(o)||!t&&!Gd(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const vm=tt.createContext({});function Em(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Sh(n){return typeof n=="string"||Array.isArray(n)}const ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...ov];function bm(n){return Em(n.animate)||lv.some(t=>Sh(n[t]))}function dC(n){return!!(bm(n)||n.variants)}function E3(n,t){if(bm(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Sh(e)?e:void 0,animate:Sh(s)?s:void 0}}return n.inherit!==!1?t:{}}function b3(n){const{initial:t,animate:e}=E3(n,tt.useContext(vm));return tt.useMemo(()=>({initial:t,animate:e}),[Rw(t),Rw(e)])}function Rw(n){return Array.isArray(n)?n.join(" "):n}const Ah={};function T3(n){for(const t in n)Ah[t]=n[t],Z_(t)&&(Ah[t].isCSSVariable=!0)}function mC(n,{layout:t,layoutId:e}){return Qu.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ah[n]||n==="opacity")}const w3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x3=Xu.length;function S3(n,t,e){let s="",o=!0;for(let u=0;u<x3;u++){const f=Xu[u],g=n[f];if(g===void 0)continue;let y=!0;if(typeof g=="number"?y=g===(f.startsWith("scale")?1:0):y=parseFloat(g)===0,!y||e){const E=sC(g,iv[f]);if(!y){o=!1;const T=w3[f]||f;s+=`${T}(${E}) `}e&&(t[f]=E)}}return s=s.trim(),e?s=e(t,o?"":s):o&&(s="none"),s}function uv(n,t,e){const{style:s,vars:o,transformOrigin:u}=n;let f=!1,g=!1;for(const y in t){const E=t[y];if(Qu.has(y)){f=!0;continue}else if(Z_(y)){o[y]=E;continue}else{const T=sC(E,iv[y]);y.startsWith("origin")?(g=!0,u[y]=T):s[y]=T}}if(t.transform||(f||e?s.transform=S3(t,n.transform,e):s.transform&&(s.transform="none")),g){const{originX:y="50%",originY:E="50%",originZ:T=0}=u;s.transformOrigin=`${y} ${E} ${T}`}}const cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pC(n,t,e){for(const s in t)!Gn(t[s])&&!mC(s,e)&&(n[s]=t[s])}function A3({transformTemplate:n},t){return tt.useMemo(()=>{const e=cv();return uv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function C3(n,t){const e=n.style||{},s={};return pC(s,e,n),Object.assign(s,A3(n,t)),s}function R3(n,t){const e={},s=C3(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const I3={offset:"stroke-dashoffset",array:"stroke-dasharray"},N3={offset:"strokeDashoffset",array:"strokeDasharray"};function P3(n,t,e=1,s=0,o=!0){n.pathLength=1;const u=o?I3:N3;n[u.offset]=Gt.transform(-s);const f=Gt.transform(t),g=Gt.transform(e);n[u.array]=`${f} ${g}`}function gC(n,{attrX:t,attrY:e,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:f=0,...g},y,E,T){if(uv(n,g,E),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:R}=n;S.transform&&(R.transform=S.transform,delete S.transform),(R.transform||S.transformOrigin)&&(R.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),R.transform&&(R.transformBox=T?.transformBox??"fill-box",delete S.transformBox),t!==void 0&&(S.x=t),e!==void 0&&(S.y=e),s!==void 0&&(S.scale=s),o!==void 0&&P3(S,o,u,f,!1)}const yC=()=>({...cv(),attrs:{}}),_C=n=>typeof n=="string"&&n.toLowerCase()==="svg";function M3(n,t,e,s){const o=tt.useMemo(()=>{const u=yC();return gC(u,t,_C(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};pC(u,n.style,n),o.style={...u,...o.style}}return o}const D3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hv(n){return typeof n!="string"||n.includes("-")?!1:!!(D3.indexOf(n)>-1||/[A-Z]/u.test(n))}function L3(n,t,e,{latestValues:s},o,u=!1){const g=(hv(n)?M3:R3)(t,s,o,n),y=v3(t,typeof n=="string",u),E=n!==tt.Fragment?{...y,...g,ref:e}:{},{children:T}=t,S=tt.useMemo(()=>Gn(T)?T.get():T,[T]);return tt.createElement(n,{...E,children:S})}function Iw(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function fv(n,t,e,s){if(typeof t=="function"){const[o,u]=Iw(s);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=Iw(s);t=t(e!==void 0?e:n.custom,o,u)}return t}function _d(n){return Gn(n)?n.get():n}function O3({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,o){return{latestValues:k3(e,s,o,n),renderState:t()}}function k3(n,t,e,s){const o={},u=s(n,{});for(const R in u)o[R]=_d(u[R]);let{initial:f,animate:g}=n;const y=bm(n),E=dC(n);t&&E&&!y&&n.inherit!==!1&&(f===void 0&&(f=t.initial),g===void 0&&(g=t.animate));let T=e?e.initial===!1:!1;T=T||f===!1;const S=T?g:f;if(S&&typeof S!="boolean"&&!Em(S)){const R=Array.isArray(S)?S:[S];for(let V=0;V<R.length;V++){const K=fv(n,R[V]);if(K){const{transitionEnd:$,transition:X,...ct}=K;for(const Q in ct){let Y=ct[Q];if(Array.isArray(Y)){const ht=T?Y.length-1:0;Y=Y[ht]}Y!==null&&(o[Q]=Y)}for(const Q in $)o[Q]=$[Q]}}}return o}const vC=n=>(t,e)=>{const s=tt.useContext(vm),o=tt.useContext(_m),u=()=>O3(n,t,s,o);return e?u():V_(u)};function dv(n,t,e){const{style:s}=n,o={};for(const u in s)(Gn(s[u])||t.style&&Gn(t.style[u])||mC(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const V3=vC({scrapeMotionValuesFromProps:dv,createRenderState:cv});function EC(n,t,e){const s=dv(n,t,e);for(const o in n)if(Gn(n[o])||Gn(t[o])){const u=Xu.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}const z3=vC({scrapeMotionValuesFromProps:EC,createRenderState:yC}),U3=Symbol.for("motionComponentSymbol");function Tu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function B3(n,t,e){const s=tt.useRef(null);return tt.useCallback(o=>{const u=s.current;s.current=o,o!==u&&(o&&n.onMount&&n.onMount(o),t&&(o?t.mount(o):t.unmount())),e&&(typeof e=="function"?e(o):Tu(e)&&(e.current=o))},[t,e])}const mv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j3="framerAppearId",bC="data-"+mv(j3),TC=tt.createContext({});function F3(n,t,e,s,o){const{visualElement:u}=tt.useContext(vm),f=tt.useContext(hC),g=tt.useContext(_m),y=tt.useContext(av).reducedMotion,E=tt.useRef(null);s=s||f.renderer,!E.current&&s&&(E.current=s(n,{visualState:t,parent:u,props:e,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const T=E.current,S=tt.useContext(TC);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&H3(E.current,e,o,S);const R=tt.useRef(!1);tt.useInsertionEffect(()=>{T&&R.current&&T.update(e,g)});const V=e[bC],K=tt.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return vA(()=>{T&&(R.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),K.current&&T.animationState&&T.animationState.animateChanges())}),tt.useEffect(()=>{T&&(!K.current&&T.animationState&&T.animationState.animateChanges(),K.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),K.current=!1),T.enteringChildren=void 0)}),T}function H3(n,t,e,s){const{layoutId:o,layout:u,drag:f,dragConstraints:g,layoutScroll:y,layoutRoot:E,layoutCrossfade:T}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:wC(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!f||g&&Tu(g),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:T,layoutScroll:y,layoutRoot:E})}function wC(n){if(n)return n.options.allowProjection!==!1?n.projection:wC(n.parent)}function Rg(n,{forwardMotionProps:t=!1}={},e,s){e&&g3(e);const o=hv(n)?z3:V3;function u(g,y){let E;const T={...tt.useContext(av),...g,layoutId:q3(g)},{isStatic:S}=T,R=b3(g),V=o(g,S);if(!S&&z_){G3();const K=Z3(T);E=K.MeasureLayout,R.visualElement=F3(n,V,T,s,K.ProjectionNode)}return ta.jsxs(vm.Provider,{value:R,children:[E&&R.visualElement?ta.jsx(E,{visualElement:R.visualElement,...T}):null,L3(n,g,B3(V,R.visualElement,y),V,S,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=tt.forwardRef(u);return f[U3]=n,f}function q3({layoutId:n}){const t=tt.useContext(k_).id;return t&&n!==void 0?t+"-"+n:n}function G3(n,t){tt.useContext(hC).strict}function Z3(n){const{drag:t,layout:e}=Uu;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function K3(n,t){if(typeof Proxy>"u")return Rg;const e=new Map,s=(u,f)=>Rg(u,f,n,t),o=(u,f)=>s(u,f);return new Proxy(o,{get:(u,f)=>f==="create"?s:(e.has(f)||e.set(f,Rg(f,void 0,n,t)),e.get(f))})}function xC({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function Y3({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function $3(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Ig(n){return n===void 0||n===1}function xy({scale:n,scaleX:t,scaleY:e}){return!Ig(n)||!Ig(t)||!Ig(e)}function sl(n){return xy(n)||SC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function SC(n){return Nw(n.x)||Nw(n.y)}function Nw(n){return n&&n!=="0%"}function Zd(n,t,e){const s=n-e,o=t*s;return e+o}function Pw(n,t,e,s,o){return o!==void 0&&(n=Zd(n,o,s)),Zd(n,e,s)+t}function Sy(n,t=0,e=1,s,o){n.min=Pw(n.min,t,e,s,o),n.max=Pw(n.max,t,e,s,o)}function AC(n,{x:t,y:e}){Sy(n.x,t.translate,t.scale,t.originPoint),Sy(n.y,e.translate,e.scale,e.originPoint)}const Mw=.999999999999,Dw=1.0000000000001;function W3(n,t,e,s=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,f;for(let g=0;g<o;g++){u=e[g],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xu(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,AC(n,f)),s&&sl(u.latestValues)&&xu(n,u.latestValues))}t.x<Dw&&t.x>Mw&&(t.x=1),t.y<Dw&&t.y>Mw&&(t.y=1)}function wu(n,t){n.min=n.min+t,n.max=n.max+t}function Lw(n,t,e,s,o=.5){const u=Fe(n.min,n.max,o);Sy(n,t,e,u,s)}function xu(n,t){Lw(n.x,t.x,t.scaleX,t.scale,t.originX),Lw(n.y,t.y,t.scaleY,t.scale,t.originY)}function CC(n,t){return xC($3(n.getBoundingClientRect(),t))}function X3(n,t,e){const s=CC(n,e),{scroll:o}=t;return o&&(wu(s.x,o.offset.x),wu(s.y,o.offset.y)),s}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),Su=()=>({x:Ow(),y:Ow()}),kw=()=>({min:0,max:0}),Xe=()=>({x:kw(),y:kw()}),Ay={current:null},RC={current:!1};function Q3(){if(RC.current=!0,!!z_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ay.current=n.matches;n.addEventListener("change",t),t()}else Ay.current=!1}const J3=new WeakMap;function t6(n,t,e){for(const s in t){const o=t[s],u=e[s];if(Gn(o))n.addValue(s,o);else if(Gn(u))n.addValue(s,zu(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const f=n.getValue(s);f.liveStyle===!0?f.jump(o):f.hasAnimated||f.set(o)}else{const f=n.getStaticValue(s);n.addValue(s,zu(f!==void 0?f:o,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const Vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e6{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ev,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=xi.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,ke.render(this.render,!1,!0))};const{latestValues:y,renderState:E}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=e.initial?{...y}:{},this.renderState=E,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=g,this.blockInitialAnimation=!!u,this.isControllingVariants=bm(e),this.isVariantNode=dC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const R in S){const V=S[R];y[R]!==void 0&&Gn(V)&&V.set(y[R])}}mount(t){this.current=t,J3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),RC.current||Q3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ay.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Qu.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ke.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uu){const e=Uu[t];if(!e)continue;const{isEnabled:s,Feature:o}=e;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<Vw.length;s++){const o=Vw[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,f=t[u];f&&(this.propEventSubscriptions[o]=this.on(o,f))}this.prevMotionValues=t6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=zu(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(EA(s)||TA(s))?s=parseFloat(s):!u3(s)&&Eo.test(e)&&(s=iC(t,e)),this.setBaseTarget(t,Gn(s)?s.get():s)),Gn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=fv(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Gn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new H_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){sv.render(this.render)}}class IC extends e6{constructor(){super(...arguments),this.KeyframeResolver=X4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function NC(n,{style:t,vars:e},s,o){const u=n.style;let f;for(f in t)u[f]=t[f];o?.applyProjectionStyles(u,s);for(f in e)u.setProperty(f,e[f])}function n6(n){return window.getComputedStyle(n)}class i6 extends IC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(t,e){if(Qu.has(e))return this.projection?.isProjecting?yy(e):g4(t,e);{const s=n6(t),o=(Z_(e)?s.getPropertyValue(e):s[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return CC(t,e)}build(t,e,s){uv(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return dv(t,e,s)}}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s6(n,t,e,s){NC(n,t,void 0,s);for(const o in t.attrs)n.setAttribute(PC.has(o)?o:mv(o),t.attrs[o])}class r6 extends IC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Qu.has(e)){const s=nC(e);return s&&s.default||0}return e=PC.has(e)?e:mv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return EC(t,e,s)}build(t,e,s){gC(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,o){s6(t,e,s,o)}mount(t){this.isSVGTag=_C(t.tagName),super.mount(t)}}const a6=(n,t)=>hv(n)?new r6(t):new i6(t,{allowProjection:n!==tt.Fragment});function Pu(n,t,e){const s=n.getProps();return fv(s,t,e!==void 0?e:s.custom,n)}const Cy=n=>Array.isArray(n);function o6(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,zu(e))}function l6(n){return Cy(n)?n[n.length-1]||0:n}function u6(n,t){const e=Pu(n,t);let{transitionEnd:s={},transition:o={},...u}=e||{};u={...u,...s};for(const f in u){const g=l6(u[f]);o6(n,f,g)}}function c6(n){return!!(Gn(n)&&n.add)}function Ry(n,t){const e=n.getValue("willChange");if(c6(e))return e.add(t);if(!e&&aa.WillChange){const s=new aa.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function MC(n){return n.props[bC]}const h6=n=>n!==null;function f6(n,{repeat:t,repeatType:e="loop"},s){const o=n.filter(h6),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const d6={type:"spring",stiffness:500,damping:25,restSpeed:10},m6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),p6={type:"keyframes",duration:.8},g6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y6=(n,{keyframes:t})=>t.length>2?p6:Qu.has(n)?n.startsWith("scale")?m6(t[1]):d6:g6;function _6({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:f,repeatDelay:g,from:y,elapsed:E,...T}){return!!Object.keys(T).length}const pv=(n,t,e,s={},o,u)=>f=>{const g=nv(s,n)||{},y=g.delay||s.delay||0;let{elapsed:E=0}=s;E=E-pr(y);const T={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-E,onUpdate:R=>{t.set(R),g.onUpdate&&g.onUpdate(R)},onComplete:()=>{f(),g.onComplete&&g.onComplete()},name:n,motionValue:t,element:u?void 0:o};_6(g)||Object.assign(T,y6(n,T)),T.duration&&(T.duration=pr(T.duration)),T.repeatDelay&&(T.repeatDelay=pr(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let S=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(Ty(T),T.delay===0&&(S=!0)),(aa.instantAnimations||aa.skipAnimations)&&(S=!0,Ty(T),T.delay=0),T.allowFlatten=!g.type&&!g.ease,S&&!u&&t.get()!==void 0){const R=f6(T.keyframes,g);if(R!==void 0){ke.update(()=>{T.onUpdate(R),T.onComplete()});return}}return g.isSync?new tv(T):new U4(T)};function v6({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function DC(n,t,{delay:e=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:f,...g}=t;s&&(u=s);const y=[],E=o&&n.animationState&&n.animationState.getState()[o];for(const T in g){const S=n.getValue(T,n.latestValues[T]??null),R=g[T];if(R===void 0||E&&v6(E,T))continue;const V={delay:e,...nv(u||{},T)},K=S.get();if(K!==void 0&&!S.isAnimating&&!Array.isArray(R)&&R===K&&!V.velocity)continue;let $=!1;if(window.MotionHandoffAnimation){const ct=MC(n);if(ct){const Q=window.MotionHandoffAnimation(ct,T,ke);Q!==null&&(V.startTime=Q,$=!0)}}Ry(n,T),S.start(pv(T,S,R,n.shouldReduceMotion&&JA.has(T)?{type:!1}:V,n,$));const X=S.animation;X&&y.push(X)}return f&&Promise.all(y).then(()=>{ke.update(()=>{f&&u6(n,f)})}),y}function LC(n,t,e,s=0,o=1){const u=Array.from(n).sort((E,T)=>E.sortNodePosition(T)).indexOf(t),f=n.size,g=(f-1)*s;return typeof e=="function"?e(u,f):o===1?u*s:g-u*s}function Iy(n,t,e={}){const s=Pu(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(DC(n,s,e)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:S}=o;return E6(n,t,y,E,T,S,e)}:()=>Promise.resolve(),{when:g}=o;if(g){const[y,E]=g==="beforeChildren"?[u,f]:[f,u];return y().then(()=>E())}else return Promise.all([u(),f(e.delay)])}function E6(n,t,e=0,s=0,o=0,u=1,f){const g=[];for(const y of n.variantChildren)y.notify("AnimationStart",t),g.push(Iy(y,t,{...f,delay:e+(typeof s=="function"?0:s)+LC(n.variantChildren,y,s,o,u)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(g)}function b6(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Iy(n,u,e));s=Promise.all(o)}else if(typeof t=="string")s=Iy(n,t,e);else{const o=typeof t=="function"?Pu(n,t,e.custom):t;s=Promise.all(DC(n,o,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function OC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const T6=lv.length;function kC(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?kC(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<T6;e++){const s=lv[e],o=n.props[s];(Sh(o)||o===!1)&&(t[s]=o)}return t}const w6=[...ov].reverse(),x6=ov.length;function S6(n){return t=>Promise.all(t.map(({animation:e,options:s})=>b6(n,e,s)))}function A6(n){let t=S6(n),e=zw(),s=!0;const o=y=>(E,T)=>{const S=Pu(n,T,y==="exit"?n.presenceContext?.custom:void 0);if(S){const{transition:R,transitionEnd:V,...K}=S;E={...E,...K,...V}}return E};function u(y){t=y(n)}function f(y){const{props:E}=n,T=kC(n.parent)||{},S=[],R=new Set;let V={},K=1/0;for(let X=0;X<x6;X++){const ct=w6[X],Q=e[ct],Y=E[ct]!==void 0?E[ct]:T[ct],ht=Sh(Y),lt=ct===y?Q.isActive:null;lt===!1&&(K=X);let bt=Y===T[ct]&&Y!==E[ct]&&ht;if(bt&&s&&n.manuallyAnimateOnMount&&(bt=!1),Q.protectedKeys={...V},!Q.isActive&&lt===null||!Y&&!Q.prevProp||Em(Y)||typeof Y=="boolean")continue;const z=C6(Q.prevProp,Y);let M=z||ct===y&&Q.isActive&&!bt&&ht||X>K&&ht,O=!1;const q=Array.isArray(Y)?Y:[Y];let F=q.reduce(o(ct),{});lt===!1&&(F={});const{prevResolvedValues:D={}}=Q,U={...D,...F},$t=Et=>{M=!0,R.has(Et)&&(O=!0,R.delete(Et)),Q.needsAnimating[Et]=!0;const pt=n.getValue(Et);pt&&(pt.liveStyle=!1)};for(const Et in U){const pt=F[Et],Vt=D[Et];if(V.hasOwnProperty(Et))continue;let k=!1;Cy(pt)&&Cy(Vt)?k=!OC(pt,Vt):k=pt!==Vt,k?pt!=null?$t(Et):R.add(Et):pt!==void 0&&R.has(Et)?$t(Et):Q.protectedKeys[Et]=!0}Q.prevProp=Y,Q.prevResolvedValues=F,Q.isActive&&(V={...V,...F}),s&&n.blockInitialAnimation&&(M=!1);const Qt=bt&&z;M&&(!Qt||O)&&S.push(...q.map(Et=>{const pt={type:ct};if(typeof Et=="string"&&s&&!Qt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Vt}=n,k=Pu(Vt,Et);if(Vt.enteringChildren&&k){const{delayChildren:Z}=k.transition||{};pt.delay=LC(Vt.enteringChildren,n,Z)}}return{animation:Et,options:pt}}))}if(R.size){const X={};if(typeof E.initial!="boolean"){const ct=Pu(n,Array.isArray(E.initial)?E.initial[0]:E.initial);ct&&ct.transition&&(X.transition=ct.transition)}R.forEach(ct=>{const Q=n.getBaseTarget(ct),Y=n.getValue(ct);Y&&(Y.liveStyle=!0),X[ct]=Q??null}),S.push({animation:X})}let $=!!S.length;return s&&(E.initial===!1||E.initial===E.animate)&&!n.manuallyAnimateOnMount&&($=!1),s=!1,$?t(S):Promise.resolve()}function g(y,E){if(e[y].isActive===E)return Promise.resolve();n.variantChildren?.forEach(S=>S.animationState?.setActive(y,E)),e[y].isActive=E;const T=f(y);for(const S in e)e[S].protectedKeys={};return T}return{animateChanges:f,setActive:g,setAnimateFunction:u,getState:()=>e,reset:()=>{e=zw(),s=!0}}}function C6(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!OC(t,n):!1}function nl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zw(){return{animate:nl(!0),whileInView:nl(),whileHover:nl(),whileTap:nl(),whileDrag:nl(),whileFocus:nl(),exit:nl()}}class So{constructor(t){this.isMounted=!1,this.node=t}update(){}}class R6 extends So{constructor(t){super(t),t.animationState||(t.animationState=A6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Em(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I6=0;class N6 extends So{constructor(){super(...arguments),this.id=I6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const P6={animation:{Feature:R6},exit:{Feature:N6}};function Ch(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function Hh(n){return{point:{x:n.pageX,y:n.pageY}}}const M6=n=>t=>rv(t)&&n(t,Hh(t));function lh(n,t,e,s){return Ch(n,t,M6(e),s)}const VC=1e-4,D6=1-VC,L6=1+VC,zC=.01,O6=0-zC,k6=0+zC;function li(n){return n.max-n.min}function V6(n,t,e){return Math.abs(n-t)<=e}function Uw(n,t,e,s=.5){n.origin=s,n.originPoint=Fe(t.min,t.max,n.origin),n.scale=li(e)/li(t),n.translate=Fe(e.min,e.max,n.origin)-n.originPoint,(n.scale>=D6&&n.scale<=L6||isNaN(n.scale))&&(n.scale=1),(n.translate>=O6&&n.translate<=k6||isNaN(n.translate))&&(n.translate=0)}function uh(n,t,e,s){Uw(n.x,t.x,e.x,s?s.originX:void 0),Uw(n.y,t.y,e.y,s?s.originY:void 0)}function Bw(n,t,e){n.min=e.min+t.min,n.max=n.min+li(t)}function z6(n,t,e){Bw(n.x,t.x,e.x),Bw(n.y,t.y,e.y)}function jw(n,t,e){n.min=t.min-e.min,n.max=n.min+li(t)}function ch(n,t,e){jw(n.x,t.x,e.x),jw(n.y,t.y,e.y)}function ds(n){return[n("x"),n("y")]}const UC=({current:n})=>n?n.ownerDocument.defaultView:null,Fw=(n,t)=>Math.abs(n-t);function U6(n,t){const e=Fw(n.x,t.x),s=Fw(n.y,t.y);return Math.sqrt(e**2+s**2)}class BC{constructor(t,e,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Pg(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,K=U6(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!K)return;const{point:$}=R,{timestamp:X}=Dn;this.history.push({...$,timestamp:X});const{onStart:ct,onMove:Q}=this.handlers;V||(ct&&ct(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,R)},this.handlePointerMove=(R,V)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Ng(V,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(R,V)=>{this.end();const{onEnd:K,onSessionEnd:$,resumeAnimation:X}=this.handlers;if(this.dragSnapToOrigin&&X&&X(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ct=Pg(R.type==="pointercancel"?this.lastMoveEventInfo:Ng(V,this.transformPagePoint),this.history);this.startEvent&&K&&K(R,ct),$&&$(R,ct)},!rv(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=o||window;const g=Hh(t),y=Ng(g,this.transformPagePoint),{point:E}=y,{timestamp:T}=Dn;this.history=[{...E,timestamp:T}];const{onSessionStart:S}=e;S&&S(t,Pg(y,this.history)),this.removeListeners=Bh(lh(this.contextWindow,"pointermove",this.handlePointerMove),lh(this.contextWindow,"pointerup",this.handlePointerUp),lh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function Ng(n,t){return t?{point:t(n.point)}:n}function Hw(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Pg({point:n},t){return{point:n,delta:Hw(n,jC(t)),offset:Hw(n,B6(t)),velocity:j6(t,.1)}}function B6(n){return n[0]}function jC(n){return n[n.length-1]}function j6(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const o=jC(n);for(;e>=0&&(s=n[e],!(o.timestamp-s.timestamp>pr(t)));)e--;if(!s)return{x:0,y:0};const u=gr(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function F6(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?Fe(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?Fe(e,n,s.max):Math.min(n,e)),n}function qw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function H6(n,{top:t,left:e,bottom:s,right:o}){return{x:qw(n.x,e,o),y:qw(n.y,t,s)}}function Gw(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function q6(n,t){return{x:Gw(n.x,t.x),y:Gw(n.y,t.y)}}function G6(n,t){let e=.5;const s=li(n),o=li(t);return o>s?e=Th(t.min,t.max-s,n.min):s>o&&(e=Th(n.min,n.max-o,t.min)),ra(0,1,e)}function Z6(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Ny=.35;function K6(n=Ny){return n===!1?n=0:n===!0&&(n=Ny),{x:Zw(n,"left","right"),y:Zw(n,"top","bottom")}}function Zw(n,t,e){return{min:Kw(n,t),max:Kw(n,e)}}function Kw(n,t){return typeof n=="number"?n:n[t]||0}const Y6=new WeakMap;class $6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=S=>{const{dragSnapToOrigin:R}=this.getProps();R?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Hh(S).point)},f=(S,R)=>{const{drag:V,dragPropagation:K,onDragStart:$}=this.getProps();if(V&&!K&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e3(V),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=R,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(ct=>{let Q=this.getAxisMotionValue(ct).get()||0;if(yr.test(Q)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ht=Y.layout.layoutBox[ct];ht&&(Q=li(ht)*(parseFloat(Q)/100))}}this.originPoint[ct]=Q}),$&&ke.postRender(()=>$(S,R)),Ry(this.visualElement,"transform");const{animationState:X}=this.visualElement;X&&X.setActive("whileDrag",!0)},g=(S,R)=>{this.latestPointerEvent=S,this.latestPanInfo=R;const{dragPropagation:V,dragDirectionLock:K,onDirectionLock:$,onDrag:X}=this.getProps();if(!V&&!this.openDragLock)return;const{offset:ct}=R;if(K&&this.currentDirection===null){this.currentDirection=W6(ct),this.currentDirection!==null&&$&&$(this.currentDirection);return}this.updateAxis("x",R.point,ct),this.updateAxis("y",R.point,ct),this.visualElement.render(),X&&X(S,R)},y=(S,R)=>{this.latestPointerEvent=S,this.latestPanInfo=R,this.stop(S,R),this.latestPointerEvent=null,this.latestPanInfo=null},E=()=>ds(S=>this.getAnimationState(S)==="paused"&&this.getAxisMotionValue(S).animation?.play()),{dragSnapToOrigin:T}=this.getProps();this.panSession=new BC(t,{onSessionStart:u,onStart:f,onMove:g,onSessionEnd:y,resumeAnimation:E},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:T,distanceThreshold:s,contextWindow:UC(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:f}=o;this.startAnimation(f);const{onDragEnd:g}=this.getProps();g&&ke.postRender(()=>g(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:o}=this.getProps();if(!s||!rd(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=F6(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Tu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=H6(s.layoutBox,t):this.constraints=!1,this.elastic=K6(e),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ds(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Z6(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Tu(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=X3(s,o.root,this.visualElement.getTransformPagePoint());let f=q6(o.layout.layoutBox,u);if(e){const g=e(Y3(f));this.hasMutatedConstraints=!!g,g&&(f=xC(g))}return f}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),y=this.constraints||{},E=ds(T=>{if(!rd(T,e,this.currentDirection))return;let S=y&&y[T]||{};f&&(S={min:0,max:0});const R=o?200:1e6,V=o?40:1e7,K={type:"inertia",velocity:s?t[T]:0,bounceStiffness:R,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...S};return this.startAxisValueAnimation(T,K)});return Promise.all(E).then(g)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Ry(this.visualElement,t),s.start(pv(t,s,0,e,this.visualElement,!1))}stopAnimation(){ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ds(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[e];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ds(e=>{const{drag:s}=this.getProps();if(!rd(e,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:f,max:g}=o.layout.layoutBox[e];u.set(t[e]-Fe(f,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Tu(e)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ds(f=>{const g=this.getAxisMotionValue(f);if(g&&this.constraints!==!1){const y=g.get();o[f]=G6({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ds(f=>{if(!rd(f,t,null))return;const g=this.getAxisMotionValue(f),{min:y,max:E}=this.constraints[f];g.set(Fe(y,E,o[f]))})}addListeners(){if(!this.visualElement.current)return;Y6.set(this.visualElement,this);const t=this.visualElement.current,e=lh(t,"pointerdown",y=>{const{drag:E,dragListener:T=!0}=this.getProps();E&&T&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Tu(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ke.read(s);const f=Ch(window,"resize",()=>this.scalePositionWithinConstraints()),g=o.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:E})=>{this.isDragging&&E&&(ds(T=>{const S=this.getAxisMotionValue(T);S&&(this.originPoint[T]+=y[T].translate,S.set(S.get()+y[T].translate))}),this.visualElement.render())}));return()=>{f(),e(),u(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:f=Ny,dragMomentum:g=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:f,dragMomentum:g}}}function rd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function W6(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class X6 extends So{constructor(t){super(t),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new $6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yw=n=>(t,e)=>{n&&ke.postRender(()=>n(t,e))};class Q6 extends So{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(t){this.session=new BC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Yw(t),onStart:Yw(e),onMove:s,onEnd:(u,f)=>{delete this.session,o&&ke.postRender(()=>o(u,f))}}}mount(){this.removePointerDownListener=lh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $w(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Hc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Gt.test(n))n=parseFloat(n);else return n;const e=$w(n,t.target.x),s=$w(n,t.target.y);return`${e}% ${s}%`}},J6={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,o=Eo.parse(n);if(o.length>5)return s;const u=Eo.createTransformer(n),f=typeof o[0]!="number"?1:0,g=e.x.scale*t.x,y=e.y.scale*t.y;o[0+f]/=g,o[1+f]/=y;const E=Fe(g,y,.5);return typeof o[2+f]=="number"&&(o[2+f]/=E),typeof o[3+f]=="number"&&(o[3+f]/=E),u(o)}};let Mg=!1;class t5 extends tt.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;T3(e5),u&&(e.group&&e.group.add(u),s&&s.register&&o&&s.register(u),Mg&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:o,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,Mg=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||ke.postRender(()=>{const g=f.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:o}=t;Mg=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FC(n){const[t,e]=cC(),s=tt.useContext(k_);return ta.jsx(t5,{...n,layoutGroup:s,switchLayoutGroup:tt.useContext(TC),isPresent:t,safeToRemove:e})}const e5={borderRadius:{...Hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hc,borderTopRightRadius:Hc,borderBottomLeftRadius:Hc,borderBottomRightRadius:Hc,boxShadow:J6};function n5(n,t,e){const s=Gn(n)?n:zu(n);return s.start(pv("",s,t,e)),s.animation}const i5=(n,t)=>n.depth-t.depth;class s5{constructor(){this.children=[],this.isDirty=!1}add(t){U_(this.children,t),this.isDirty=!0}remove(t){B_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(i5),this.isDirty=!1,this.children.forEach(t)}}function r5(n,t){const e=xi.now(),s=({timestamp:o})=>{const u=o-e;u>=t&&(vo(s),n(u-t))};return ke.setup(s,!0),()=>vo(s)}const HC=["TopLeft","TopRight","BottomLeft","BottomRight"],a5=HC.length,Ww=n=>typeof n=="string"?parseFloat(n):n,Xw=n=>typeof n=="number"||Gt.test(n);function o5(n,t,e,s,o,u){o?(n.opacity=Fe(0,e.opacity??1,l5(s)),n.opacityExit=Fe(t.opacity??1,0,u5(s))):u&&(n.opacity=Fe(t.opacity??1,e.opacity??1,s));for(let f=0;f<a5;f++){const g=`border${HC[f]}Radius`;let y=Qw(t,g),E=Qw(e,g);if(y===void 0&&E===void 0)continue;y||(y=0),E||(E=0),y===0||E===0||Xw(y)===Xw(E)?(n[g]=Math.max(Fe(Ww(y),Ww(E),s),0),(yr.test(E)||yr.test(y))&&(n[g]+="%")):n[g]=E}(t.rotate||e.rotate)&&(n.rotate=Fe(t.rotate||0,e.rotate||0,s))}function Qw(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const l5=qC(0,.5,NA),u5=qC(.5,.95,_s);function qC(n,t,e){return s=>s<n?0:s>t?1:e(Th(n,t,s))}function Jw(n,t){n.min=t.min,n.max=t.max}function fs(n,t){Jw(n.x,t.x),Jw(n.y,t.y)}function t1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function e1(n,t,e,s,o){return n-=t,n=Zd(n,1/e,s),o!==void 0&&(n=Zd(n,1/o,s)),n}function c5(n,t=0,e=1,s=.5,o,u=n,f=n){if(yr.test(t)&&(t=parseFloat(t),t=Fe(f.min,f.max,t/100)-f.min),typeof t!="number")return;let g=Fe(u.min,u.max,s);n===u&&(g-=t),n.min=e1(n.min,t,e,g,o),n.max=e1(n.max,t,e,g,o)}function n1(n,t,[e,s,o],u,f){c5(n,t[e],t[s],t[o],t.scale,u,f)}const h5=["x","scaleX","originX"],f5=["y","scaleY","originY"];function i1(n,t,e,s){n1(n.x,t,h5,e?e.x:void 0,s?s.x:void 0),n1(n.y,t,f5,e?e.y:void 0,s?s.y:void 0)}function s1(n){return n.translate===0&&n.scale===1}function GC(n){return s1(n.x)&&s1(n.y)}function r1(n,t){return n.min===t.min&&n.max===t.max}function d5(n,t){return r1(n.x,t.x)&&r1(n.y,t.y)}function a1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function ZC(n,t){return a1(n.x,t.x)&&a1(n.y,t.y)}function o1(n){return li(n.x)/li(n.y)}function l1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class m5{constructor(){this.members=[]}add(t){U_(this.members,t),t.scheduleRender()}remove(t){if(B_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let s;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p5(n,t,e){let s="";const o=n.x.translate/t.x,u=n.y.translate/t.y,f=e?.z||0;if((o||u||f)&&(s=`translate3d(${o}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:E,rotate:T,rotateX:S,rotateY:R,skewX:V,skewY:K}=e;E&&(s=`perspective(${E}px) ${s}`),T&&(s+=`rotate(${T}deg) `),S&&(s+=`rotateX(${S}deg) `),R&&(s+=`rotateY(${R}deg) `),V&&(s+=`skewX(${V}deg) `),K&&(s+=`skewY(${K}deg) `)}const g=n.x.scale*t.x,y=n.y.scale*t.y;return(g!==1||y!==1)&&(s+=`scale(${g}, ${y})`),s||"none"}const Dg=["","X","Y","Z"],g5=1e3;let y5=0;function Lg(n,t,e,s){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),s&&(s[n]=0))}function KC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=MC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ke,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&KC(s)}function YC({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},g=t?.()){this.id=y5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E5),this.nodes.forEach(x5),this.nodes.forEach(S5),this.nodes.forEach(b5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new s5)}addEventListener(f,g){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new H_),this.eventHandlers.get(f).add(g)}notifyListeners(f,...g){const y=this.eventHandlers.get(f);y&&y.notify(...g)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=uC(f)&&!o3(f),this.instance=f;const{layoutId:g,layout:y,visualElement:E}=this.options;if(E&&!E.current&&E.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||g)&&(this.isLayoutDirty=!0),n){let T,S=0;const R=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{S=window.innerWidth}),n(f,()=>{const V=window.innerWidth;V!==S&&(S=V,this.root.updateBlockedByResize=!0,T&&T(),T=r5(R,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(h1)))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&E&&(g||y)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeLayoutChanged:R,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const K=this.options.transition||E.getDefaultTransition()||N5,{onLayoutAnimationStart:$,onLayoutAnimationComplete:X}=E.getProps(),ct=!this.targetLayout||!ZC(this.targetLayout,V),Q=!S&&R;if(this.options.layoutRoot||this.resumeFrom||Q||S&&(ct||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...nv(K,"layout"),onPlay:$,onComplete:X};(E.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(T,Q)}else S||h1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A5),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const S=this.path[T];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:g,layout:y}=this.options;if(g===void 0&&!y)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w5),this.nodes.forEach(_5),this.nodes.forEach(v5)):this.nodes.forEach(c1),this.clearAllSnapshots();const g=xi.now();Dn.delta=ra(0,1e3/60,g-Dn.timestamp),Dn.timestamp=g,Dn.isProcessing=!0,Tg.update.process(Dn),Tg.preRender.process(Dn),Tg.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T5),this.sharedNodes.forEach(C5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!li(this.snapshot.measuredBox.x)&&!li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(g=!1),g&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!GC(this.projectionDelta),y=this.getTransformTemplate(),E=y?y(this.latestValues,""):void 0,T=E!==this.prevTransformTemplateValue;f&&this.instance&&(g||sl(this.latestValues)||T)&&(o(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const g=this.measurePageBox();let y=this.removeElementScroll(g);return f&&(y=this.removeTransform(y)),P5(y),{animationId:this.root.animationId,measuredBox:g,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Xe();const g=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(M5))){const{scroll:E}=this.root;E&&(wu(g.x,E.offset.x),wu(g.y,E.offset.y))}return g}removeElementScroll(f){const g=Xe();if(fs(g,f),this.scroll?.wasRoot)return g;for(let y=0;y<this.path.length;y++){const E=this.path[y],{scroll:T,options:S}=E;E!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&fs(g,f),wu(g.x,T.offset.x),wu(g.y,T.offset.y))}return g}applyTransform(f,g=!1){const y=Xe();fs(y,f);for(let E=0;E<this.path.length;E++){const T=this.path[E];!g&&T.options.layoutScroll&&T.scroll&&T!==T.root&&xu(y,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),sl(T.latestValues)&&xu(y,T.latestValues)}return sl(this.latestValues)&&xu(y,this.latestValues),y}removeTransform(f){const g=Xe();fs(g,f);for(let y=0;y<this.path.length;y++){const E=this.path[y];if(!E.instance||!sl(E.latestValues))continue;xy(E.latestValues)&&E.updateSnapshot();const T=Xe(),S=E.measurePageBox();fs(T,S),i1(g,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,T)}return sl(this.latestValues)&&i1(g,this.latestValues),g}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==g;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),ch(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),AC(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),ch(this.relativeTargetOrigin,this.target,R.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xy(this.parent.latestValues)||SC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),g=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(y=!1),y)return;const{layout:E,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||T))return;fs(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,R=this.treeScale.y;W3(this.layoutCorrected,this.treeScale,this.path,g),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Xe());const{target:V}=f;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t1(this.prevProjectionDelta.x,this.projectionDelta.x),t1(this.prevProjectionDelta.y,this.projectionDelta.y)),uh(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==R||!l1(this.projectionDelta.x,this.prevProjectionDelta.x)||!l1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Su(),this.projectionDelta=Su(),this.projectionDeltaWithTransform=Su()}setAnimationOrigin(f,g=!1){const y=this.snapshot,E=y?y.latestValues:{},T={...this.latestValues},S=Su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const R=Xe(),V=y?y.source:void 0,K=this.layout?this.layout.source:void 0,$=V!==K,X=this.getStack(),ct=!X||X.members.length<=1,Q=!!($&&!ct&&this.options.crossfade===!0&&!this.path.some(I5));this.animationProgress=0;let Y;this.mixTargetDelta=ht=>{const lt=ht/1e3;f1(S.x,f.x,lt),f1(S.y,f.y,lt),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ch(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),R5(this.relativeTarget,this.relativeTargetOrigin,R,lt),Y&&d5(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Xe()),fs(Y,this.relativeTarget)),$&&(this.animationValues=T,o5(T,E,this.latestValues,lt,Q,ct)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=lt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zu(0)),this.currentAnimation=n5(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),f.onUpdate&&f.onUpdate(g)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:g,target:y,layout:E,latestValues:T}=f;if(!(!g||!y||!E)){if(this!==f&&this.layout&&E&&$C(this.options.animationType,this.layout.layoutBox,E.layoutBox)){y=this.target||Xe();const S=li(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+S;const R=li(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+R}fs(g,y),xu(g,T),uh(this.projectionDeltaWithTransform,this.layoutCorrected,g,T)}}registerSharedNode(f,g){this.sharedNodes.has(f)||this.sharedNodes.set(f,new m5),this.sharedNodes.get(f).add(g);const E=g.options.initialPromotionConfig;g.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(g):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:g,preserveFollowOpacity:y}={}){const E=this.getStack();E&&E.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let g=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(g=!0),!g)return;const E={};y.z&&Lg("z",f,E,this.animationValues);for(let T=0;T<Dg.length;T++)Lg(`rotate${Dg[T]}`,f,E,this.animationValues),Lg(`skew${Dg[T]}`,f,E,this.animationValues);f.render();for(const T in E)f.setStaticValue(T,E[T]),this.animationValues&&(this.animationValues[T]=E[T]);f.scheduleRender()}applyProjectionStyles(f,g){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=_d(g?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=_d(g?.pointerEvents)||""),this.hasProjected&&!sl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const T=E.animationValues||E.latestValues;this.applyTransformsToTarget();let S=p5(this.projectionDeltaWithTransform,this.treeScale,T);y&&(S=y(T,S)),f.transform=S;const{x:R,y:V}=this.projectionDelta;f.transformOrigin=`${R.origin*100}% ${V.origin*100}% 0`,E.animationValues?f.opacity=E===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:f.opacity=E===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const K in Ah){if(T[K]===void 0)continue;const{correct:$,applyTo:X,isCSSVariable:ct}=Ah[K],Q=S==="none"?T[K]:$(T[K],E);if(X){const Y=X.length;for(let ht=0;ht<Y;ht++)f[X[ht]]=Q}else ct?this.options.visualElement.renderState.vars[K]=Q:f[K]=Q}this.options.layoutId&&(f.pointerEvents=E===this?_d(g?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(u1),this.root.sharedNodes.clear()}}}function _5(n){n.updateLayout()}function v5(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?ds(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],R=li(S);S.min=e[T].min,S.max=S.min+R}):$C(o,t.layoutBox,e)&&ds(T=>{const S=u?t.measuredBox[T]:t.layoutBox[T],R=li(e[T]);S.max=S.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+R)});const f=Su();uh(f,e,t.layoutBox);const g=Su();u?uh(g,n.applyTransform(s,!0),t.measuredBox):uh(g,e,t.layoutBox);const y=!GC(f);let E=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:R}=T;if(S&&R){const V=Xe();ch(V,t.layoutBox,S.layoutBox);const K=Xe();ch(K,e,R.layoutBox),ZC(V,K)||(E=!0),T.options.layoutRoot&&(n.relativeTarget=K,n.relativeTargetOrigin=V,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:g,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:E})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function E5(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function b5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function T5(n){n.clearSnapshot()}function u1(n){n.clearMeasurements()}function c1(n){n.isLayoutDirty=!1}function w5(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function h1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function x5(n){n.resolveTargetDelta()}function S5(n){n.calcProjection()}function A5(n){n.resetSkewAndRotation()}function C5(n){n.removeLeadSnapshot()}function f1(n,t,e){n.translate=Fe(t.translate,0,e),n.scale=Fe(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function d1(n,t,e,s){n.min=Fe(t.min,e.min,s),n.max=Fe(t.max,e.max,s)}function R5(n,t,e,s){d1(n.x,t.x,e.x,s),d1(n.y,t.y,e.y,s)}function I5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const N5={duration:.45,ease:[.4,0,.1,1]},m1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),p1=m1("applewebkit/")&&!m1("chrome/")?Math.round:_s;function g1(n){n.min=p1(n.min),n.max=p1(n.max)}function P5(n){g1(n.x),g1(n.y)}function $C(n,t,e){return n==="position"||n==="preserve-aspect"&&!V6(o1(t),o1(e),.2)}function M5(n){return n!==n.root&&n.scroll?.wasRoot}const D5=YC({attachResizeListener:(n,t)=>Ch(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Og={current:void 0},WC=YC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Og.current){const n=new D5({});n.mount(window),n.setOptions({layoutScroll:!0}),Og.current=n}return Og.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),L5={pan:{Feature:Q6},drag:{Feature:X6,ProjectionNode:WC,MeasureLayout:FC}};function y1(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=s[o];u&&ke.postRender(()=>u(t,Hh(t)))}class O5 extends So{mount(){const{current:t}=this.node;t&&(this.unmount=n3(t,(e,s)=>(y1(this.node,s,"Start"),o=>y1(this.node,o,"End"))))}unmount(){}}class k5 extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(Ch(this.node.current,"focus",()=>this.onFocus()),Ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _1(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=s[o];u&&ke.postRender(()=>u(t,Hh(t)))}class V5 extends So{mount(){const{current:t}=this.node;t&&(this.unmount=a3(t,(e,s)=>(_1(this.node,s,"Start"),(o,{success:u})=>_1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Py=new WeakMap,kg=new WeakMap,z5=n=>{const t=Py.get(n.target);t&&t(n)},U5=n=>{n.forEach(z5)};function B5({root:n,...t}){const e=n||document;kg.has(e)||kg.set(e,{});const s=kg.get(e),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(U5,{root:n,...t})),s[o]}function j5(n,t,e){const s=B5(t);return Py.set(n,e),s.observe(n),()=>{Py.delete(n),s.unobserve(n)}}const F5={some:0,all:1};class H5 extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:o="some",once:u}=t,f={root:e?e.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:F5[o]},g=y=>{const{isIntersecting:E}=y;if(this.isInView===E||(this.isInView=E,u&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:T,onViewportLeave:S}=this.node.getProps(),R=E?T:S;R&&R(y)};return j5(this.node.current,f,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(q5(t,e))&&this.startObserver()}unmount(){}}function q5({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const G5={inView:{Feature:H5},tap:{Feature:V5},focus:{Feature:k5},hover:{Feature:O5}},Z5={layout:{ProjectionNode:WC,MeasureLayout:FC}},K5={...P6,...G5,...L5,...Z5},At=K3(K5,a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),v1=n=>{const t=$5(n);return t.charAt(0).toUpperCase()+t.slice(1)},XC=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),W5=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=tt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...g},y)=>tt.createElement("svg",{ref:y,...X5,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:XC("lucide",o),...!u&&!W5(g)&&{"aria-hidden":"true"},...g},[...f.map(([E,T])=>tt.createElement(E,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=(n,t)=>{const e=tt.forwardRef(({className:s,...o},u)=>tt.createElement(Q5,{ref:u,iconNode:t,className:XC(`lucide-${Y5(v1(n))}`,`lucide-${n}`,s),...o}));return e.displayName=v1(n),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=ln("book-open",J5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ro=ln("book",t9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],n9=ln("chart-column",e9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QC=ln("chevron-down",i9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JC=ln("chevron-up",s9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],t2=ln("download",r9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gv=ln("funnel",a9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Rh=ln("globe",o9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],e2=ln("grid-3x3",l9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],n2=ln("list",u9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],co=ln("map-pin",c9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],f9=ln("menu",h9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],My=ln("plus",d9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yv=ln("search",m9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g9=ln("square-pen",p9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dy=ln("trash-2",y9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v9=ln("upload",_9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bu=ln("users",E9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ly=ln("volume-2",b9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wm=ln("x",T9),w9=({language:n,onSubmit:t,onCancel:e,loading:s})=>{const[o,u]=tt.useState({name:"",isoCode:"",region:"",family:"",introduction:"",history:"",geography:{longitude:"",latitude:""},status:"",literature:"",linguistics:"",internationality:"",education:"",media:"",languageActivism:"",future:"",speakers:"",location:"",description:"",dictionary:[{word:"",meaning:"",pronunciation:"",region:"",example:"",dialects:[""]}]});tt.useEffect(()=>{n&&u({name:n.name||"",isoCode:n.isoCode||"",region:n.region||"",family:n.family||"",introduction:n.introduction||"",history:n.history||"",geography:n.geography||{longitude:"",latitude:""},status:n.status||"",literature:n.literature||"",linguistics:n.linguistics||"",internationality:n.internationality||"",education:n.education||"",media:n.media||"",languageActivism:n.languageActivism||"",future:n.future||"",speakers:n.speakers||"",location:n.location||"",description:n.description||"",dictionary:n.dictionary||[{word:"",meaning:"",pronunciation:"",region:"",example:"",dialects:[""]}]})},[n]);const f=Q=>{const{name:Y,value:ht}=Q.target;u(lt=>({...lt,[Y]:ht}))},g=Q=>{const{name:Y,value:ht}=Q.target;u(lt=>({...lt,geography:{...lt.geography,[Y]:ht}}))},y=(Q,Y,ht)=>{const lt=[...o.dictionary];lt[Q]={...lt[Q],[Y]:ht},u(bt=>({...bt,dictionary:lt}))},E=(Q,Y,ht)=>{const lt=[...o.dictionary],bt=[...lt[Q].dialects];bt[Y]=ht,lt[Q].dialects=bt,u(z=>({...z,dictionary:lt}))},T=()=>{u(Q=>({...Q,dictionary:[...Q.dictionary,{word:"",meaning:"",pronunciation:"",region:"",example:"",dialects:[""]}]}))},S=Q=>{const Y=o.dictionary.filter((ht,lt)=>lt!==Q);u(ht=>({...ht,dictionary:Y}))},R=Q=>{const Y=[...o.dictionary];Y[Q].dialects.push(""),u(ht=>({...ht,dictionary:Y}))},V=(Q,Y)=>{const ht=[...o.dictionary];ht[Q].dialects=ht[Q].dialects.filter((lt,bt)=>bt!==Y),u(lt=>({...lt,dictionary:ht}))},K=Q=>{Q.preventDefault(),t(o)},$=["Punjab","Sindh","Khyber Pakhtunkhwa","Balochistan","Gilgit-Baltistan","Azad Kashmir","Federal"],X=["Indo-Aryan","Iranian","Dardic","Turkic","Dravidian","Isolate","Other"],ct=["Endangered","Vulnerable","Stable","Thriving","Critically Endangered"];return _.createElement(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},_.createElement(At.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col"},_.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 text-white"},_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-bold"},n?"Edit Language":"Add New Language"),_.createElement("p",{className:"text-blue-100 mt-1"},n?"Update language information and dictionary":"Add a new language to the database")),_.createElement("button",{onClick:e,className:"p-2 hover:bg-blue-500 rounded-lg transition-colors"},_.createElement(wm,{size:24}))),_.createElement("div",{className:"flex-1 overflow-y-auto"},_.createElement("form",{onSubmit:K,className:"p-6 space-y-8"},_.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-6"},_.createElement("h3",{className:"text-lg font-semibold mb-4 text-gray-900 flex items-center gap-2"},_.createElement(Bu,{size:20}),"Basic Information"),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Language Name *"),_.createElement("input",{type:"text",name:"name",value:o.name,onChange:f,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Urdu, Punjabi, Sindhi"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"ISO Code *"),_.createElement("input",{type:"text",name:"isoCode",value:o.isoCode,onChange:f,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., urd, pnb, sind"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Region *"),_.createElement("select",{name:"region",value:o.region,onChange:f,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"Select Region"),$.map(Q=>_.createElement("option",{key:Q,value:Q},Q)))),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Language Family *"),_.createElement("select",{name:"family",value:o.family,onChange:f,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"Select Family"),X.map(Q=>_.createElement("option",{key:Q,value:Q},Q)))),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Number of Speakers"),_.createElement("input",{type:"number",name:"speakers",value:o.speakers,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 1000000"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),_.createElement("select",{name:"status",value:o.status,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"Select Status"),ct.map(Q=>_.createElement("option",{key:Q,value:Q},Q)))))),_.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-6"},_.createElement("h3",{className:"text-lg font-semibold mb-4 text-gray-900 flex items-center gap-2"},_.createElement(co,{size:20}),"Geography"),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Longitude"),_.createElement("input",{type:"text",name:"longitude",value:o.geography.longitude,onChange:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 73.0479"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Latitude"),_.createElement("input",{type:"text",name:"latitude",value:o.geography.latitude,onChange:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 33.6844"})),_.createElement("div",{className:"md:col-span-2"},_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Location Description"),_.createElement("input",{type:"text",name:"location",value:o.location,onChange:f,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Northern Pakistan, Sindh province"})))),_.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-6"},_.createElement("div",{className:"flex justify-between items-center mb-6"},_.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},_.createElement(ro,{size:20}),"Dictionary (",o.dictionary.length," words)"),_.createElement(At.button,{type:"button",onClick:T,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors"},_.createElement(My,{size:16}),"Add Word")),_.createElement("div",{className:"space-y-4"},o.dictionary.map((Q,Y)=>_.createElement("div",{key:Y,className:"border border-gray-200 rounded-lg p-6 bg-gray-50 hover:bg-white transition-colors"},_.createElement("div",{className:"flex justify-between items-start mb-4"},_.createElement("h4",{className:"font-semibold text-gray-900"},"Word #",Y+1),_.createElement("button",{type:"button",onClick:()=>S(Y),className:"text-red-600 hover:text-red-800 p-1 rounded transition-colors"},_.createElement(Dy,{size:16}))),_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Word *"),_.createElement("input",{type:"text",value:Q.word,onChange:ht=>y(Y,"word",ht.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"e.g., Salam"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Meaning *"),_.createElement("input",{type:"text",value:Q.meaning,onChange:ht=>y(Y,"meaning",ht.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"e.g., Hello, Peace"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Pronunciation"),_.createElement("input",{type:"text",value:Q.pronunciation,onChange:ht=>y(Y,"pronunciation",ht.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., sa-laam"})),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Specific Region"),_.createElement("select",{value:Q.region,onChange:ht=>y(Y,"region",ht.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Regions"),$.map(ht=>_.createElement("option",{key:ht,value:ht},ht)))),_.createElement("div",{className:"md:col-span-2"},_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Example Usage"),_.createElement("input",{type:"text",value:Q.example,onChange:ht=>y(Y,"example",ht.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Used as a common greeting"}))),_.createElement("div",{className:"mb-4"},_.createElement("div",{className:"flex justify-between items-center mb-3"},_.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Dialect Variations"),_.createElement("button",{type:"button",onClick:()=>R(Y),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm font-medium"},_.createElement(My,{size:14}),"Add Dialect")),_.createElement("div",{className:"space-y-2"},Q.dialects.map((ht,lt)=>_.createElement("div",{key:lt,className:"flex gap-2"},_.createElement("input",{type:"text",value:ht,onChange:bt=>E(Y,lt,bt.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Multani dialect: saraaki, Mianwali dialect: saraiki"}),_.createElement("button",{type:"button",onClick:()=>V(Y,lt),className:"px-3 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors"},_.createElement(Dy,{size:14})))))))))),_.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-6"},_.createElement("h3",{className:"text-lg font-semibold mb-4 text-gray-900"},"Detailed Information"),_.createElement("div",{className:"space-y-4"},[{name:"introduction",label:"Introduction",rows:4},{name:"history",label:"History",rows:4},{name:"literature",label:"Literature",rows:3},{name:"linguistics",label:"Linguistics",rows:3},{name:"internationality",label:"Internationality",rows:2},{name:"education",label:"Education",rows:2},{name:"media",label:"Media",rows:2},{name:"languageActivism",label:"Language Activism",rows:2},{name:"future",label:"Future",rows:2},{name:"description",label:"General Description",rows:3}].map(Q=>_.createElement("div",{key:Q.name},_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},Q.label),_.createElement("textarea",{name:Q.name,value:o[Q.name],onChange:f,rows:Q.rows,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:`Enter ${Q.label.toLowerCase()}...`}))))),_.createElement("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},_.createElement(At.button,{type:"button",onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors",disabled:s},"Cancel"),_.createElement(At.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:s},s?"Saving...":n?"Update Language":"Add Language"))))))},x9=({languages:n,onEdit:t,onDelete:e,onBulkAction:s})=>{const[o,u]=tt.useState(""),[f,g]=tt.useState(""),[y,E]=tt.useState(""),[T,S]=tt.useState("name"),[R,V]=tt.useState("grid"),[K,$]=tt.useState(null),[X,ct]=tt.useState(new Set),Q=["Punjab","Sindh","Khyber Pakhtunkhwa","Balochistan","Gilgit-Baltistan","Azad Kashmir","Federal"],Y=["Indo-Aryan","Iranian","Dardic","Turkic","Dravidian","Isolate","Other"],ht=["Endangered","Vulnerable","Stable","Thriving","Critically Endangered"],lt=tt.useMemo(()=>n.filter(D=>{const U=!o||D.region===o,$t=!f||D.family===f,Qt=!y||D.status===y;return U&&$t&&Qt}),[n,o,f,y]),bt=tt.useMemo(()=>[...lt].sort((D,U)=>{switch(T){case"name":return(D.name||"").localeCompare(U.name||"");case"speakers":return(U.speakers||0)-(D.speakers||0);case"region":return(D.region||"").localeCompare(U.region||"");case"family":return(D.family||"").localeCompare(U.family||"");case"created":return(U.createdAt?.toDate()||0)-(D.createdAt?.toDate()||0);default:return 0}}),[lt,T]),z=D=>{const U=new Set(X);U.has(D)?U.delete(D):U.add(D),ct(U)},M=()=>{X.size===bt.length?ct(new Set):ct(new Set(bt.map(D=>D.id)))},O=D=>{switch(D){case"Endangered":return"bg-red-100 text-red-800 border-red-200";case"Critically Endangered":return"bg-red-100 text-red-800 border-red-200";case"Vulnerable":return"bg-orange-100 text-orange-800 border-orange-200";case"Stable":return"bg-green-100 text-green-800 border-green-200";case"Thriving":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},q=({language:D})=>_.createElement(At.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg border border-gray-200 hover:shadow-lg transition-all duration-300 overflow-hidden"},_.createElement("div",{className:"p-6"},_.createElement("div",{className:"flex justify-between items-start mb-4"},_.createElement("div",{className:"flex items-center gap-3"},_.createElement("input",{type:"checkbox",checked:X.has(D.id),onChange:()=>z(D.id),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),_.createElement("div",null,_.createElement("h3",{className:"text-xl font-bold text-gray-900"},D.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full mt-1"},D.isoCode))),_.createElement("div",{className:"flex gap-1"},_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(D),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Language"},_.createElement(g9,{size:16})),_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Language"},_.createElement(Dy,{size:16})))),_.createElement("div",{className:"space-y-3 mb-4"},_.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},_.createElement(co,{size:16}),_.createElement("span",null,D.region||"N/A")),_.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},_.createElement(Bu,{size:16}),_.createElement("span",null,D.family||"N/A")),_.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},_.createElement(ro,{size:16}),_.createElement("span",null,D.dictionary?.length||0," words")),D.speakers&&_.createElement("div",{className:"text-sm text-gray-600"},_.createElement("strong",null,"Speakers:")," ",D.speakers.toLocaleString())),D.status&&_.createElement("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${O(D.status)}`},D.status),D.introduction&&_.createElement("div",{className:"mt-4"},_.createElement("p",{className:"text-gray-700 text-sm line-clamp-2"},K===D.id?D.introduction:`${D.introduction.substring(0,100)}...`),D.introduction.length>100&&_.createElement("button",{onClick:()=>$(K===D.id?null:D.id),className:"text-blue-600 text-xs mt-1 hover:underline font-medium"},K===D.id?"Show less":"Read more")),D.createdAt&&_.createElement("div",{className:"mt-4 pt-4 border-t border-gray-100"},_.createElement("p",{className:"text-xs text-gray-500"},"Added ",D.createdAt.toDate().toLocaleDateString())))),F=({language:D})=>_.createElement("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors"},_.createElement("td",{className:"px-6 py-4"},_.createElement("input",{type:"checkbox",checked:X.has(D.id),onChange:()=>z(D.id),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"})),_.createElement("td",{className:"px-6 py-4"},_.createElement("div",null,_.createElement("div",{className:"font-semibold text-gray-900"},D.name),_.createElement("div",{className:"text-sm text-gray-500"},D.isoCode))),_.createElement("td",{className:"px-6 py-4 text-sm text-gray-900"},D.region||"N/A"),_.createElement("td",{className:"px-6 py-4 text-sm text-gray-900"},D.family||"N/A"),_.createElement("td",{className:"px-6 py-4 text-sm text-gray-900"},D.speakers?.toLocaleString()||"N/A"),_.createElement("td",{className:"px-6 py-4"},_.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(D.status)}`},D.status||"Unknown")),_.createElement("td",{className:"px-6 py-4 text-sm text-gray-900"},D.dictionary?.length||0),_.createElement("td",{className:"px-6 py-4"},_.createElement("div",{className:"flex gap-2"},_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(D),className:"text-blue-600 hover:text-blue-800 font-medium text-sm"},"Edit"),_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(D.id),className:"text-red-600 hover:text-red-800 font-medium text-sm"},"Delete"))));return _.createElement("div",null,X.size>0&&_.createElement("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-4"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",{className:"text-sm text-blue-800"},X.size," language(s) selected"),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium"},"Export Selected"),_.createElement("button",{className:"text-sm text-red-600 hover:text-red-800 font-medium"},"Delete Selected")))),_.createElement("div",{className:"px-6 py-4 border-b border-gray-200"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between"},_.createElement("div",{className:"flex flex-wrap gap-3"},_.createElement("select",{value:o,onChange:D=>u(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Regions"),Q.map(D=>_.createElement("option",{key:D,value:D},D))),_.createElement("select",{value:f,onChange:D=>g(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Families"),Y.map(D=>_.createElement("option",{key:D,value:D},D))),_.createElement("select",{value:y,onChange:D=>E(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Statuses"),ht.map(D=>_.createElement("option",{key:D,value:D},D))),_.createElement("select",{value:T,onChange:D=>S(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:"name"},"Sort by Name"),_.createElement("option",{value:"speakers"},"Sort by Speakers"),_.createElement("option",{value:"region"},"Sort by Region"),_.createElement("option",{value:"family"},"Sort by Family"),_.createElement("option",{value:"created"},"Sort by Date Added"))),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{onClick:()=>V("grid"),className:`p-2 rounded-lg ${R==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`},"Grid"),_.createElement("button",{onClick:()=>V("table"),className:`p-2 rounded-lg ${R==="table"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`},"Table")))),bt.length===0?_.createElement("div",{className:"text-center py-12"},_.createElement(ro,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 text-lg mt-4"},"No languages found matching your criteria."),_.createElement("p",{className:"text-gray-400 mt-2"},"Try adjusting your filters or add new languages.")):R==="grid"?_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 p-6"},bt.map(D=>_.createElement(q,{key:D.id,language:D}))):_.createElement("div",{className:"overflow-x-auto"},_.createElement("table",{className:"w-full"},_.createElement("thead",{className:"bg-gray-50"},_.createElement("tr",null,_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},_.createElement("input",{type:"checkbox",checked:X.size===bt.length,onChange:M,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"})),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Language"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Region"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Family"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Speakers"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Words"),_.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions"))),_.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},bt.map(D=>_.createElement(F,{key:D.id,language:D}))))))},S9=({user:n})=>{const[t,e]=tt.useState([]),[s,o]=tt.useState(null),[u,f]=tt.useState(!1),[g,y]=tt.useState(!0),[E,T]=tt.useState(""),[S,R]=tt.useState({totalLanguages:0,totalWords:0,endangeredCount:0,recentAdditions:0}),V=tt.useCallback(Y=>{const ht=[];let lt=0,bt=0;const z=new Date(Date.now()-10080*60*1e3);let M=0;Y.forEach(O=>{const q={id:O.id,...O.data()};ht.push(q),q.dictionary&&(lt+=q.dictionary.length),(q.status==="Endangered"||q.status==="Critically Endangered")&&bt++,q.createdAt&&q.createdAt.toDate()>z&&M++}),e(ht),R({totalLanguages:ht.length,totalWords:lt,endangeredCount:bt,recentAdditions:M}),y(!1)},[]);tt.useEffect(()=>{y(!0);const Y=I_(Ud(ol,"languages"),D_("createdAt","desc")),ht=L_(Y,V,lt=>{console.error("Error fetching languages:",lt),y(!1)});return()=>ht()},[V]);const K=async Y=>{try{y(!0),await cV(Ud(ol,"languages"),{...Y,createdAt:rh(),updatedAt:rh(),createdBy:n.uid,createdByEmail:n.email}),f(!1)}catch(ht){alert("Error adding language: "+ht.message)}finally{y(!1)}},$=async Y=>{try{y(!0),await lV(Bd(ol,"languages",s.id),{...Y,updatedAt:rh(),updatedBy:n.uid,updatedByEmail:n.email}),o(null),f(!1)}catch(ht){alert("Error updating language: "+ht.message)}finally{y(!1)}},X=async Y=>{if(window.confirm("Are you sure you want to delete this language? This action cannot be undone."))try{y(!0),await uV(Bd(ol,"languages",Y))}catch(ht){alert("Error deleting language: "+ht.message)}finally{y(!1)}},ct=async(Y,ht)=>{console.log("Bulk action:",Y,ht)},Q=t.filter(Y=>Y.name?.toLowerCase().includes(E.toLowerCase())||Y.isoCode?.toLowerCase().includes(E.toLowerCase())||Y.region?.toLowerCase().includes(E.toLowerCase()));return _.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_.createElement("div",{className:"mb-8"},_.createElement(At.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4"},_.createElement("div",null,_.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Admin Dashboard"),_.createElement("p",{className:"text-gray-600 mt-2"},"Manage languages and dictionary entries")),_.createElement("div",{className:"flex flex-wrap gap-3"},_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{o(null),f(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors"},_.createElement(My,{size:20}),"Add New Language"),_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg font-semibold transition-colors"},_.createElement(v9,{size:20}),"Import Data")))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Total Languages"),_.createElement("p",{className:"text-3xl font-bold text-gray-900 mt-2"},S.totalLanguages)),_.createElement("div",{className:"p-3 bg-blue-100 rounded-lg"},_.createElement(Rh,{className:"text-blue-600",size:24})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Total Words"),_.createElement("p",{className:"text-3xl font-bold text-gray-900 mt-2"},S.totalWords)),_.createElement("div",{className:"p-3 bg-green-100 rounded-lg"},_.createElement(Tm,{className:"text-green-600",size:24})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Endangered"),_.createElement("p",{className:"text-3xl font-bold text-gray-900 mt-2"},S.endangeredCount)),_.createElement("div",{className:"p-3 bg-red-100 rounded-lg"},_.createElement(n9,{className:"text-red-600",size:24})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"This Week"),_.createElement("p",{className:"text-3xl font-bold text-gray-900 mt-2"},"+",S.recentAdditions)),_.createElement("div",{className:"p-3 bg-purple-100 rounded-lg"},_.createElement(Bu,{className:"text-purple-600",size:24}))))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between"},_.createElement("div",{className:"flex-1 w-full lg:max-w-md"},_.createElement("div",{className:"relative"},_.createElement(yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),_.createElement("input",{type:"text",placeholder:"Search languages, ISO codes, regions...",value:E,onChange:Y=>T(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))),_.createElement("div",{className:"flex gap-3"},_.createElement("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},_.createElement(gv,{size:16}),"Filters"),_.createElement("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},_.createElement(t2,{size:16}),"Export")))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},g?_.createElement("div",{className:"flex justify-center items-center py-12"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})):_.createElement(x9,{languages:Q,onEdit:Y=>{o(Y),f(!0)},onDelete:X,onBulkAction:ct})),_.createElement(bl,null,u&&_.createElement(w9,{language:s,onSubmit:s?$:K,onCancel:()=>{f(!1),o(null)},loading:g}))))};function i2(n,t){const e=tt.useRef(t);tt.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}var A9=T1();const C9=1;function R9(n){return Object.freeze({__version:C9,map:n})}function I9(n,t){return Object.freeze({...n,...t})}const _v=tt.createContext(null);function vv(){const n=tt.use(_v);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function N9(n){function t(e,s){const{instance:o,context:u}=n(e).current;tt.useImperativeHandle(s,()=>o);const{children:f}=e;return f==null?null:_.createElement(_v,{value:u},f)}return tt.forwardRef(t)}function P9(n){function t(e,s){const[o,u]=tt.useState(!1),{instance:f}=n(e,u).current;tt.useImperativeHandle(s,()=>f),tt.useEffect(function(){o&&f.update()},[f,o,e.children]);const g=f._contentNode;return g?A9.createPortal(e.children,g):null}return tt.forwardRef(t)}function M9(n){function t(e,s){const{instance:o}=n(e).current;return tt.useImperativeHandle(s,()=>o),null}return tt.forwardRef(t)}function s2(n,t){const e=tt.useRef(void 0);tt.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Ev(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function D9(n,t){return function(s,o){const u=vv(),f=n(Ev(s,u),u);return i2(u.map,s.attribution),s2(f.current,s.eventHandlers),t(f.current,u,s,o),f}}var Xc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var L9=Xc.exports,E1;function O9(){return E1||(E1=1,(function(n,t){(function(e,s){s(t)})(L9,(function(e){var s="1.9.4";function o(a){var c,m,b,x;for(m=1,b=arguments.length;m<b;m++){x=arguments[m];for(c in x)a[c]=x[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var g=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function E(a,c,m){var b,x,I,B;return B=function(){b=!1,x&&(I.apply(m,x),x=!1)},I=function(){b?x=arguments:(a.apply(m,arguments),setTimeout(B,c),b=!0)},I}function T(a,c,m){var b=c[1],x=c[0],I=b-x;return a===b&&m?a:((a-x)%I+I)%I+x}function S(){return!1}function R(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function V(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function K(a){return V(a).split(/\s+/)}function $(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function X(a,c,m){var b=[];for(var x in a)b.push(encodeURIComponent(m?x.toUpperCase():x)+"="+encodeURIComponent(a[x]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ct=/\{ *([\w_ -]+) *\}/g;function Q(a,c){return a.replace(ct,function(m,b){var x=c[b];if(x===void 0)throw new Error("No value provided for variable "+m);return typeof x=="function"&&(x=x(c)),x})}var Y=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ht(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function bt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var z=0;function M(a){var c=+new Date,m=Math.max(0,16-(c-z));return z=c+m,window.setTimeout(a,m)}var O=window.requestAnimationFrame||bt("RequestAnimationFrame")||M,q=window.cancelAnimationFrame||bt("CancelAnimationFrame")||bt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function F(a,c,m){if(m&&O===M)a.call(c);else return O.call(window,f(a,c))}function D(a){a&&q.call(window,a)}var U={__proto__:null,extend:o,create:u,bind:f,get lastId(){return g},stamp:y,throttle:E,wrapNum:T,falseFn:S,formatNum:R,trim:V,splitWords:K,setOptions:$,getParamString:X,template:Q,isArray:Y,indexOf:ht,emptyImageUrl:lt,requestFn:O,cancelFn:q,requestAnimFrame:F,cancelAnimFrame:D};function $t(){}$t.extend=function(a){var c=function(){$(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(c[x]=this[x]);return a.statics&&o(c,a.statics),a.includes&&(Qt(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,B=b._initHooks.length;I<B;I++)b._initHooks[I].call(this)}},c},$t.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},$t.mergeOptions=function(a){return o(this.prototype.options,a),this},$t.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Qt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=Y(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=K(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=K(a);for(var x=arguments.length===1,I=0,B=a.length;I<B;I++)x?this._off(a[I]):this._off(a[I],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var x={fn:c,ctx:m};b&&(x.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(x)}},_off:function(a,c,m){var b,x,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(x=0,I=b.length;x<I;x++)b[x].fn=S;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var B=this._listens(a,c,m);if(B!==!1){var J=b[B];this._firingCount&&(J.fn=S,this._events[a]=b=b.slice()),b.splice(B,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var x=this._events[a];if(x){this._firingCount=this._firingCount+1||1;for(var I=0,B=x.length;I<B;I++){var J=x[I],ut=J.fn;J.once&&this.off(a,ut,J.ctx),ut.call(J.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var x=c;typeof c!="function"&&(b=!!c,x=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,x,m)!==!1)return!0;if(b){for(var B in this._eventParents)if(this._eventParents[B].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var x=0,I=b.length;x<I;x++)if(b[x].fn===c&&b[x].ctx===m)return x;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=K(a);for(var x=0,I=a.length;x<I;x++)this._on(a[x],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var Et=$t.extend(ot);function pt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var Vt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(k(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(k(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vt(this.x),this.y=Vt(this.y),this},distanceTo:function(a){a=k(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=k(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=k(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function k(a,c,m){return a instanceof pt?a:Y(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,c,m)}function Z(a,c){if(a)for(var m=c?[a,c]:a,b=0,x=m.length;b<x;b++)this.extend(m[b])}Z.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)c=m=k(a);else if(a=H(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof pt?a=k(a):a=H(a),a instanceof Z?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=H(a);var c=this.min,m=this.max,b=a.min,x=a.max,I=x.x>=c.x&&b.x<=m.x,B=x.y>=c.y&&b.y<=m.y;return I&&B},overlaps:function(a){a=H(a);var c=this.min,m=this.max,b=a.min,x=a.max,I=x.x>c.x&&b.x<m.x,B=x.y>c.y&&b.y<m.y;return I&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,x=Math.abs(c.y-m.y)*a;return H(k(c.x-b,c.y-x),k(m.x+b,m.y+x))},equals:function(a){return a?(a=H(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function H(a,c){return!a||a instanceof Z?a:new Z(a,c)}function dt(a,c){if(a)for(var m=c?[a,c]:a,b=0,x=m.length;b<x;b++)this.extend(m[b])}dt.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,x;if(a instanceof St)b=a,x=a;else if(a instanceof dt){if(b=a._southWest,x=a._northEast,!b||!x)return this}else return a?this.extend(wt(a)||Tt(a)):this;return!c&&!m?(this._southWest=new St(b.lat,b.lng),this._northEast=new St(x.lat,x.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(x.lat,m.lat),m.lng=Math.max(x.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,x=Math.abs(c.lng-m.lng)*a;return new dt(new St(c.lat-b,c.lng-x),new St(m.lat+b,m.lng+x))},getCenter:function(){return new St((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new St(this.getNorth(),this.getWest())},getSouthEast:function(){return new St(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof St||"lat"in a?a=wt(a):a=Tt(a);var c=this._southWest,m=this._northEast,b,x;return a instanceof dt?(b=a.getSouthWest(),x=a.getNorthEast()):b=x=a,b.lat>=c.lat&&x.lat<=m.lat&&b.lng>=c.lng&&x.lng<=m.lng},intersects:function(a){a=Tt(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>=c.lat&&b.lat<=m.lat,B=x.lng>=c.lng&&b.lng<=m.lng;return I&&B},overlaps:function(a){a=Tt(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),x=a.getNorthEast(),I=x.lat>c.lat&&b.lat<m.lat,B=x.lng>c.lng&&b.lng<m.lng;return I&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Tt(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(a,c){return a instanceof dt?a:new dt(a,c)}function St(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}St.prototype={equals:function(a,c){if(!a)return!1;a=wt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+R(this.lat,a)+", "+R(this.lng,a)+")"},distanceTo:function(a){return ne.distance(this,wt(a))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new St(this.lat,this.lng,this.alt)}};function wt(a,c,m){return a instanceof St?a:Y(a)&&typeof a[0]!="object"?a.length===3?new St(a[0],a[1],a[2]):a.length===2?new St(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new St(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new St(a,c,m)}var xe={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),x=this.transformation.transform(c.max,m);return new Z(b,x)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?T(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?T(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new St(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,x=c.lng-m.lng;if(b===0&&x===0)return a;var I=a.getSouthWest(),B=a.getNorthEast(),J=new St(I.lat-b,I.lng-x),ut=new St(B.lat-b,B.lng-x);return new dt(J,ut)}},ne=o({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,x=c.lat*m,I=Math.sin((c.lat-a.lat)*m/2),B=Math.sin((c.lng-a.lng)*m/2),J=I*I+Math.cos(b)*Math.cos(x)*B*B,ut=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*ut}}),ui=6378137,Er={R:ui,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),x=Math.sin(b*c);return new pt(this.R*a.lng*c,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(a){var c=180/Math.PI;return new St((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=ui*Math.PI;return new Z([-a,-a],[a,a])})()};function Hs(a,c,m,b){if(Y(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}Hs.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new pt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Ki(a,c,m,b){return new Hs(a,c,m,b)}var vs=o({},ne,{code:"EPSG:3857",projection:Er,transformation:(function(){var a=.5/(Math.PI*Er.R);return Ki(a,.5,-a,.5)})()}),oa=o({},vs,{code:"EPSG:900913"});function Rl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function la(a,c){var m="",b,x,I,B,J,ut;for(b=0,I=a.length;b<I;b++){for(J=a[b],x=0,B=J.length;x<B;x++)ut=J[x],m+=(x?"L":"M")+ut.x+" "+ut.y;m+=c?Mt.svg?"z":"x":""}return m||"M0 0"}var gn=document.documentElement.style,br="ActiveXObject"in window,Ke=br&&!document.addEventListener,Ye="msLaunchUri"in navigator&&!("documentMode"in document),Ai=yn("webkit"),Il=yn("android"),ua=yn("android 2")||yn("android 3"),Ju=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tr=Il&&yn("Google")&&Ju<537&&!("AudioNode"in window),Yi=!!window.opera,un=!Ye&&yn("chrome"),Kn=yn("gecko")&&!Ai&&!Yi&&!br,In=!un&&yn("safari"),Nl=yn("phantom"),Ao="OTransition"in gn,Pl=navigator.platform.indexOf("Win")===0,Ci=br&&"transition"in gn,$i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ua,ci="MozPerspective"in gn,hi=!window.L_DISABLE_3D&&(Ci||$i||ci)&&!Ao&&!Nl,fi=typeof orientation<"u"||yn("mobile"),ca=fi&&Ai,Co=fi&&$i,Es=!window.PointerEvent&&window.MSPointerEvent,wr=!!(window.PointerEvent||Es),Me="ontouchstart"in window||!!window.TouchEvent,Ml=!window.L_NO_TOUCH&&(Me||wr),qs=fi&&Yi,Gs=fi&&Kn,Ro=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Io=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",S,c),window.removeEventListener("testPassiveEventSupport",S,c)}catch{}return a})(),bs=(function(){return!!document.createElement("canvas").getContext})(),No=!!(document.createElementNS&&Rl("svg").createSVGRect),Wi=!!No&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ve=!No&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),cn=navigator.platform.indexOf("Mac")===0,Ts=navigator.platform.indexOf("Linux")===0;function yn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Mt={ie:br,ielt9:Ke,edge:Ye,webkit:Ai,android:Il,android23:ua,androidStock:Tr,opera:Yi,chrome:un,gecko:Kn,safari:In,phantom:Nl,opera12:Ao,win:Pl,ie3d:Ci,webkit3d:$i,gecko3d:ci,any3d:hi,mobile:fi,mobileWebkit:ca,mobileWebkit3d:Co,msPointer:Es,pointer:wr,touch:Ml,touchNative:Me,mobileOpera:qs,mobileGecko:Gs,retina:Ro,passiveEvents:Io,canvas:bs,svg:No,vml:Ve,inlineSvg:Wi,mac:cn,linux:Ts},Dl=Mt.msPointer?"MSPointerDown":"pointerdown",di=Mt.msPointer?"MSPointerMove":"pointermove",ws=Mt.msPointer?"MSPointerUp":"pointerup",xr=Mt.msPointer?"MSPointerCancel":"pointercancel",mi={touchstart:Dl,touchmove:di,touchend:ws,touchcancel:xr},Ri={touchstart:ha,touchmove:$n,touchend:$n,touchcancel:$n},Yn={},xs=!1;function ze(a,c,m){return c==="touchstart"&&Ar(),Ri[c]?(m=Ri[c].bind(this,m),a.addEventListener(mi[c],m,!1),m):(console.warn("wrong event specified:",c),S)}function Ll(a,c,m){if(!mi[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(mi[c],m,!1)}function Sr(a){Yn[a.pointerId]=a}function Xi(a){Yn[a.pointerId]&&(Yn[a.pointerId]=a)}function Ii(a){delete Yn[a.pointerId]}function Ar(){xs||(document.addEventListener(Dl,Sr,!0),document.addEventListener(di,Xi,!0),document.addEventListener(ws,Ii,!0),document.addEventListener(xr,Ii,!0),xs=!0)}function $n(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Yn)c.touches.push(Yn[m]);c.changedTouches=[c],a(c)}}function ha(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ne(c),$n(a,c)}function tc(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Cr=200;function Rr(a,c){a.addEventListener("dblclick",c);var m=0,b;function x(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var B=da(I);if(!(B.some(function(ut){return ut instanceof HTMLLabelElement&&ut.attributes.for})&&!B.some(function(ut){return ut instanceof HTMLInputElement||ut instanceof HTMLSelectElement}))){var J=Date.now();J-m<=Cr?(b++,b===2&&c(tc(I))):b=1,m=J}}}return a.addEventListener("click",x),{dblclick:c,simDblclick:x}}function pi(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ss=Zs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qi=Zs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ji=Qi==="webkitTransition"||Qi==="OTransition"?Qi+"End":"transitionend";function Ir(a){return typeof a=="string"?document.getElementById(a):a}function ts(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function re(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function ue(a){var c=a.parentNode;c&&c.removeChild(a)}function Ee(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Wn(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function gi(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function es(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=Ue(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function It(a,c){if(a.classList!==void 0)for(var m=K(c),b=0,x=m.length;b<x;b++)a.classList.add(m[b]);else if(!es(a,c)){var I=Ue(a);As(a,(I?I+" ":"")+c)}}function ge(a,c){a.classList!==void 0?a.classList.remove(c):As(a,V((" "+Ue(a)+" ").replace(" "+c+" "," ")))}function As(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Ue(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function _n(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Po(a,c)}function Po(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function Zs(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Vn(a,c,m){var b=c||new pt(0,0);a.style[Ss]=(Mt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Ie(a,c){a._leaflet_pos=c,Mt.any3d?Vn(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function ns(a){return a._leaflet_pos||new pt(0,0)}var vn,Xn,Nr;if("onselectstart"in document)vn=function(){Ut(window,"selectstart",Ne)},Xn=function(){ce(window,"selectstart",Ne)};else{var Cs=Zs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vn=function(){if(Cs){var a=document.documentElement.style;Nr=a[Cs],a[Cs]="none"}},Xn=function(){Cs&&(document.documentElement.style[Cs]=Nr,Nr=void 0)}}function Ks(){Ut(window,"dragstart",Ne)}function fa(){ce(window,"dragstart",Ne)}var Pr,Qn;function Mr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Ys(),Pr=a,Qn=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",Ys))}function Ys(){Pr&&(Pr.style.outlineStyle=Qn,Pr=void 0,Qn=void 0,ce(window,"keydown",Ys))}function Rs(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function hn(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Ol={__proto__:null,TRANSFORM:Ss,TRANSITION:Qi,TRANSITION_END:Ji,get:Ir,getStyle:ts,create:re,remove:ue,empty:Ee,toFront:Wn,toBack:gi,hasClass:es,addClass:It,removeClass:ge,setClass:As,getClass:Ue,setOpacity:_n,testProp:Zs,setTransform:Vn,setPosition:Ie,getPosition:ns,get disableTextSelection(){return vn},get enableTextSelection(){return Xn},disableImageDrag:Ks,enableImageDrag:fa,preventOutline:Mr,restoreOutline:Ys,getSizedParentNode:Rs,getScale:hn};function Ut(a,c,m,b){if(c&&typeof c=="object")for(var x in c)is(a,x,c[x],m);else{c=K(c);for(var I=0,B=c.length;I<B;I++)is(a,c[I],m,b)}return this}var En="_leaflet_events";function ce(a,c,m,b){if(arguments.length===1)bn(a),delete a[En];else if(c&&typeof c=="object")for(var x in c)zn(a,x,c[x],m);else if(c=K(c),arguments.length===2)bn(a,function(J){return ht(c,J)!==-1});else for(var I=0,B=c.length;I<B;I++)zn(a,c[I],m,b);return this}function bn(a,c){for(var m in a[En]){var b=m.split(/\d/)[0];(!c||c(b))&&zn(a,b,null,null,m)}}var Ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function is(a,c,m,b){var x=c+y(m)+(b?"_"+y(b):"");if(a[En]&&a[En][x])return this;var I=function(J){return m.call(b||a,J||window.event)},B=I;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?I=ze(a,c,I):Mt.touch&&c==="dblclick"?I=Rr(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Ni[c]||c,I,Mt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(J){J=J||window.event,Is(a,J)&&B(J)},a.addEventListener(Ni[c],I,!1)):a.addEventListener(c,B,!1):a.attachEvent("on"+c,I),a[En]=a[En]||{},a[En][x]=I}function zn(a,c,m,b,x){x=x||c+y(m)+(b?"_"+y(b):"");var I=a[En]&&a[En][x];if(!I)return this;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?Ll(a,c,I):Mt.touch&&c==="dblclick"?pi(a,I):"removeEventListener"in a?a.removeEventListener(Ni[c]||c,I,!1):a.detachEvent("on"+c,I),a[En][x]=null}function he(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function $s(a){return is(a,"wheel",he),this}function Ws(a){return Ut(a,"mousedown touchstart dblclick contextmenu",he),a._leaflet_disable_click=!0,this}function Ne(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Jn(a){return Ne(a),he(a),this}function da(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function qe(a,c){if(!c)return new pt(a.clientX,a.clientY);var m=hn(c),b=m.boundingClientRect;return new pt((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var Tn=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xs(a){return Mt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Tn:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Is(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Dr={__proto__:null,on:Ut,off:ce,stopPropagation:he,disableScrollPropagation:$s,disableClickPropagation:Ws,preventDefault:Ne,stop:Jn,getPropagationPath:da,getMousePosition:qe,getWheelDelta:Xs,isExternalTarget:Is,addListener:Ut,removeListener:ce},Lr=Et.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=ns(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),Ie(this._el,m),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Wt=Et.extend({options:{crs:vs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=$(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(wt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qi&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,Ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(wt(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),x=this.getSize().divideBy(2),I=a instanceof pt?a:this.latLngToContainerPoint(a),B=I.subtract(x).multiplyBy(1-1/b),J=this.containerPointToLatLng(x.add(B));return this.setView(J,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Tt(a);var m=k(c.paddingTopLeft||c.padding||[0,0]),b=k(c.paddingBottomRight||c.padding||[0,0]),x=this.getBoundsZoom(a,!1,m.add(b));if(x=typeof c.maxZoom=="number"?Math.min(c.maxZoom,x):x,x===1/0)return{center:a.getCenter(),zoom:x};var I=b.subtract(m).divideBy(2),B=this.project(a.getSouthWest(),x),J=this.project(a.getNorthEast(),x),ut=this.unproject(B.add(J).divideBy(2).add(I),x);return{center:ut,zoom:x}},fitBounds:function(a,c){if(a=Tt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=k(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Lr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){It(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Mt.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),x=this.project(a),I=this.getSize(),B=this._zoom;a=wt(a),c=c===void 0?B:c;var J=Math.max(I.x,I.y),ut=J*this.getZoomScale(B,c),vt=x.distanceTo(b)||1,Ct=1.42,Pt=Ct*Ct;function Lt(Le){var ls=Le?-1:1,Ds=Le?ut:J,nr=ut*ut-J*J+ls*Pt*Pt*vt*vt,Ls=2*Ds*Pt*vt,Ko=nr/Ls,Yl=Math.sqrt(Ko*Ko+1)-Ko,Yo=Yl<1e-9?-18:Math.log(Yl);return Yo}function Zt(Le){return(Math.exp(Le)-Math.exp(-Le))/2}function Ae(Le){return(Math.exp(Le)+Math.exp(-Le))/2}function Be(Le){return Zt(Le)/Ae(Le)}var xn=Lt(0);function _i(Le){return J*(Ae(xn)/Ae(xn+Ct*Le))}function Qh(Le){return J*(Ae(xn)*Be(xn+Ct*Le)-Zt(xn))/Pt}function Jh(Le){return 1-Math.pow(1-Le,1.5)}var Zo=Date.now(),Na=(Lt(1)-xn)/Ct,tf=m.duration?1e3*m.duration:1e3*Na*.8;function Pa(){var Le=(Date.now()-Zo)/tf,ls=Jh(Le)*Na;Le<=1?(this._flyToFrame=F(Pa,this),this._move(this.unproject(b.add(x.subtract(b).multiplyBy(Qh(ls)/vt)),B),this.getScaleZoom(J/_i(ls),B),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Pa.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=Tt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,Tt(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=k(c.paddingTopLeft||c.padding||[0,0]),b=k(c.paddingBottomRight||c.padding||[0,0]),x=this.project(this.getCenter()),I=this.project(a),B=this.getPixelBounds(),J=H([B.min.add(m),B.max.subtract(b)]),ut=J.getSize();if(!J.contains(I)){this._enforcingBounds=!0;var vt=I.subtract(J.getCenter()),Ct=J.extend(I).getSize().subtract(ut);x.x+=vt.x<0?-Ct.x:Ct.x,x.y+=vt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(x),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),x=m.divideBy(2).round(),I=b.subtract(x);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new St(c,m),x=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var B=this.getBoundsZoom(x);this.setView(b,I.maxZoom?Math.min(B,I.maxZoom):B)}var J={latlng:b,bounds:x,timestamp:a.timestamp};for(var ut in a.coords)typeof a.coords[ut]=="number"&&(J[ut]=a.coords[ut]);this.fire("locationfound",J)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ue(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=re("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new dt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=Tt(a),m=k(m||[0,0]);var b=this.getZoom()||0,x=this.getMinZoom(),I=this.getMaxZoom(),B=a.getNorthWest(),J=a.getSouthEast(),ut=this.getSize().subtract(m),vt=H(this.project(J,b),this.project(B,b)).getSize(),Ct=Mt.any3d?this.options.zoomSnap:1,Pt=ut.x/vt.x,Lt=ut.y/vt.y,Zt=c?Math.max(Pt,Lt):Math.min(Pt,Lt);return b=this.getScaleZoom(Zt,b),Ct&&(b=Math.round(b/(Ct/100))*(Ct/100),b=c?Math.ceil(b/Ct)*Ct:Math.floor(b/Ct)*Ct),Math.max(x,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new Z(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(wt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(k(a),c)},layerPointToLatLng:function(a){var c=k(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(wt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Tt(a))},distance:function(a,c){return this.options.crs.distance(wt(a),wt(c))},containerPointToLayerPoint:function(a){return k(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return k(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(k(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return qe(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Ir(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,It(a,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=ts(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(It(a.markerPane,"leaflet-zoom-hide"),It(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){Ie(this._mapPane,new pt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var x=this._zoom!==c;this._moveStart(x,m)._move(a,c)._moveEnd(x),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var x=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((x||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ie(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?ce:Ut;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,x=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,B=!1;I;){if(b=this._targets[y(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){B=!0;break}if(b&&b.listens(c,!0)&&(x&&!Is(I,a)||(m.push(b),x))||I===this._container)break;I=I.parentNode}return!m.length&&!B&&!x&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Mr(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var x=this._findEventTargets(a,c);if(m){for(var I=[],B=0;B<m.length;B++)m[B].listens(c,!0)&&I.push(m[B]);x=I.concat(x)}if(x.length){c==="contextmenu"&&Ne(a);var J=x[0],ut={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var vt=J.getLatLng&&(!J._radius||J._radius<=10);ut.containerPoint=vt?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(a),ut.layerPoint=this.containerPointToLayerPoint(ut.containerPoint),ut.latlng=vt?J.getLatLng():this.layerPointToLatLng(ut.layerPoint)}for(B=0;B<x.length;B++)if(x[B].fire(c,ut,!0),ut.originalEvent._stopped||x[B].options.bubblingMouseEvents===!1&&ht(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return ns(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return H([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),x=this.getSize().divideBy(2),I=new Z(b.subtract(x),b.add(x)),B=this._getBoundsOffset(I,m,c);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?a:this.unproject(b.add(B),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new Z(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=H(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),x=b.min.subtract(a.min),I=b.max.subtract(a.max),B=this._rebound(x.x,-I.x),J=this._rebound(x.y,-I.y);return new pt(B,J)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Mt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ss,b=this._proxy.style[m];Vn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Vn(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),x=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(x)?!1:(F(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,It(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ss(a,c){return new Wt(a,c)}var fn=$t.extend({options:{position:"topright"},initialize:function(a){$(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return It(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Pi=function(a){return new fn(a)};Wt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=re("div",c+"control-container",this._container);function b(x,I){var B=c+x+" "+c+I;a[x+I]=re("div",B,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ue(this._controlCorners[a]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kl=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){$(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return fn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){It(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(It(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=re("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ws(c),$s(c);var b=this._section=re("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Ut(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=re("a",a+"-toggle",c);x.href="#",x.title="Layers",x.setAttribute("role","button"),Ut(x,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ne(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=re("div",a+"-base",b),this._separator=re("div",a+"-separator",b),this._overlaysList=re("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,x){return this.options.sortFunction(b.layer,x.layer,b.name,x.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ee(this._baseLayersList),Ee(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,x=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,x+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&x>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(b),b.layerId=y(a.layer),Ut(b,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(x);var B=a.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],x=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||x.push(m);for(I=0;I<x.length;I++)this._map.hasLayer(x[I])&&this._map.removeLayer(x[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),x=a.length-1;x>=0;x--)c=a[x],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Ne),this.expand();var c=this;setTimeout(function(){ce(a,"click",Ne),c._preventClick=!1})}}),Vl=function(a,c,m){return new kl(a,c,m)},Ns=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=re("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,x){var I=re("a",m,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Ws(I),Ut(I,"click",Jn),Ut(I,"click",x,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";ge(this._zoomInButton,c),ge(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(It(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(It(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ns,this.addControl(this.zoomControl))});var ma=function(a){return new Ns(a)},Mo=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=re("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=re("div",c,m)),a.imperial&&(this._iScale=re("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,x;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(x=this._getRoundNum(c),this._updateScale(this._iScale,x+" ft",x/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),Do=function(a){return new Mo(a)},Lo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pa=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?Lo+" ":"")+"Leaflet</a>"},initialize:function(a){$(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=re("div","leaflet-control-attribution"),Ws(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new pa().addTo(this)});var ga=function(a){return new pa(a)};fn.Layers=kl,fn.Zoom=Ns,fn.Scale=Mo,fn.Attribution=pa,Pi.layers=Vl,Pi.zoom=ma,Pi.scale=Do,Pi.attribution=ga;var Un=$t.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Un.addTo=function(a,c){return a.addHandler(c,this),this};var zl={Events:ot},rs=Mt.touch?"touchstart mousedown":"mousedown",Mi=Et.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){$(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Ut(this._dragStartTarget,rs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mi._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,rs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!es(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Mi._dragging===this&&this.finishDrag();return}if(!(Mi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Mi._dragging=this,this._preventOutline&&Mr(this._element),Ks(),vn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=Rs(this._element);this._startPoint=new pt(c.clientX,c.clientY),this._startPos=ns(this._element),this._parentScale=hn(m);var b=a.type==="mousedown";Ut(document,b?"mousemove":"touchmove",this._onMove,this),Ut(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ne(a),this._moved||(this.fire("dragstart"),this._moved=!0,It(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),It(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ie(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),fa(),Xn();var c=this._moved&&this._moving;this._moving=!1,Mi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Oo(a,c,m){var b,x=[1,4,2,8],I,B,J,ut,vt,Ct,Pt,Lt;for(I=0,Ct=a.length;I<Ct;I++)a[I]._code=rt(a[I],c);for(J=0;J<4;J++){for(Pt=x[J],b=[],I=0,Ct=a.length,B=Ct-1;I<Ct;B=I++)ut=a[I],vt=a[B],ut._code&Pt?vt._code&Pt||(Lt=et(vt,ut,Pt,c,m),Lt._code=rt(Lt,c),b.push(Lt)):(vt._code&Pt&&(Lt=et(vt,ut,Pt,c,m),Lt._code=rt(Lt,c),b.push(Lt)),b.push(ut));a=b}return a}function Or(a,c){var m,b,x,I,B,J,ut,vt,Ct;if(!a||a.length===0)throw new Error("latlngs not passed");te(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=wt([0,0]),Lt=Tt(a),Zt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Zt<1700&&(Pt=ya(a));var Ae=a.length,Be=[];for(m=0;m<Ae;m++){var xn=wt(a[m]);Be.push(c.project(wt([xn.lat-Pt.lat,xn.lng-Pt.lng])))}for(J=ut=vt=0,m=0,b=Ae-1;m<Ae;b=m++)x=Be[m],I=Be[b],B=x.y*I.x-I.y*x.x,ut+=(x.x+I.x)*B,vt+=(x.y+I.y)*B,J+=B*3;J===0?Ct=Be[0]:Ct=[ut/J,vt/J];var _i=c.unproject(k(Ct));return wt([_i.lat+Pt.lat,_i.lng+Pt.lng])}function ya(a){for(var c=0,m=0,b=0,x=0;x<a.length;x++){var I=wt(a[x]);c+=I.lat,m+=I.lng,b++}return wt([c/b,m/b])}var _a={__proto__:null,clipPolygon:Oo,polygonCenter:Or,centroid:ya};function wn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=w(a,m),a=Qs(a,m),a}function va(a,c,m){return Math.sqrt(Bt(a,c,m,!0))}function Ul(a,c,m){return Bt(a,c,m)}function Qs(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,x=new b(m);x[0]=x[m-1]=1,d(a,x,c,0,m-1);var I,B=[];for(I=0;I<m;I++)x[I]&&B.push(a[I]);return B}function d(a,c,m,b,x){var I=0,B,J,ut;for(J=b+1;J<=x-1;J++)ut=Bt(a[J],a[b],a[x],!0),ut>I&&(B=J,I=ut);I>m&&(c[B]=1,d(a,c,m,b,B),d(a,c,m,B,x))}function w(a,c){for(var m=[a[0]],b=1,x=0,I=a.length;b<I;b++)xt(a[b],a[x])>c&&(m.push(a[b]),x=b);return x<I-1&&m.push(a[I-1]),m}var A;function P(a,c,m,b,x){var I=b?A:rt(a,m),B=rt(c,m),J,ut,vt;for(A=B;;){if(!(I|B))return[a,c];if(I&B)return!1;J=I||B,ut=et(a,c,J,m,x),vt=rt(ut,m),J===I?(a=ut,I=vt):(c=ut,B=vt)}}function et(a,c,m,b,x){var I=c.x-a.x,B=c.y-a.y,J=b.min,ut=b.max,vt,Ct;return m&8?(vt=a.x+I*(ut.y-a.y)/B,Ct=ut.y):m&4?(vt=a.x+I*(J.y-a.y)/B,Ct=J.y):m&2?(vt=ut.x,Ct=a.y+B*(ut.x-a.x)/I):m&1&&(vt=J.x,Ct=a.y+B*(J.x-a.x)/I),new pt(vt,Ct,x)}function rt(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function xt(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Bt(a,c,m,b){var x=c.x,I=c.y,B=m.x-x,J=m.y-I,ut=B*B+J*J,vt;return ut>0&&(vt=((a.x-x)*B+(a.y-I)*J)/ut,vt>1?(x=m.x,I=m.y):vt>0&&(x+=B*vt,I+=J*vt)),B=a.x-x,J=a.y-I,b?B*B+J*J:new pt(x,I)}function te(a){return!Y(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function me(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),te(a)}function De(a,c){var m,b,x,I,B,J,ut,vt;if(!a||a.length===0)throw new Error("latlngs not passed");te(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ct=wt([0,0]),Pt=Tt(a),Lt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Lt<1700&&(Ct=ya(a));var Zt=a.length,Ae=[];for(m=0;m<Zt;m++){var Be=wt(a[m]);Ae.push(c.project(wt([Be.lat-Ct.lat,Be.lng-Ct.lng])))}for(m=0,b=0;m<Zt-1;m++)b+=Ae[m].distanceTo(Ae[m+1])/2;if(b===0)vt=Ae[0];else for(m=0,I=0;m<Zt-1;m++)if(B=Ae[m],J=Ae[m+1],x=B.distanceTo(J),I+=x,I>b){ut=(I-b)/x,vt=[J.x-ut*(J.x-B.x),J.y-ut*(J.y-B.y)];break}var xn=c.unproject(k(vt));return wt([xn.lat+Ct.lat,xn.lng+Ct.lng])}var ti={__proto__:null,simplify:wn,pointToSegmentDistance:va,closestPointOnSegment:Ul,clipSegment:P,_getEdgeIntersection:et,_getBitCode:rt,_sqClosestPointOnSegment:Bt,isFlat:te,_flat:me,polylineCenter:De},yi={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new St(a.y,a.x)},bounds:new Z([-180,-90],[180,90])},ei={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,x=this.R_MINOR/m,I=Math.sqrt(1-x*x),B=I*Math.sin(b),J=Math.tan(Math.PI/4-b/2)/Math.pow((1-B)/(1+B),I/2);return b=-m*Math.log(Math.max(J,1e-10)),new pt(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,x=Math.sqrt(1-b*b),I=Math.exp(-a.y/m),B=Math.PI/2-2*Math.atan(I),J=0,ut=.1,vt;J<15&&Math.abs(ut)>1e-7;J++)vt=x*Math.sin(B),vt=Math.pow((1-vt)/(1+vt),x/2),ut=Math.PI/2-2*Math.atan(I*vt)-B,B+=ut;return new St(B*c,a.x*c/m)}},Di={__proto__:null,LonLat:yi,Mercator:ei,SphericalMercator:Er},Li=o({},ne,{code:"EPSG:3395",projection:ei,transformation:(function(){var a=.5/(Math.PI*ei.R);return Ki(a,.5,-a,.5)})()}),Ea=o({},ne,{code:"EPSG:4326",projection:yi,transformation:Ki(1/180,1,-1/180,.5)}),xm=o({},xe,{projection:yi,transformation:Ki(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});xe.Earth=ne,xe.EPSG3395=Li,xe.EPSG3857=vs,xe.EPSG900913=oa,xe.EPSG4326=Ea,xe.Simple=xm;var Oi=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?Y(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var x=this._zoomBoundLayers[b].options;a=x.minZoom===void 0?a:Math.min(a,x.minZoom),c=x.maxZoom===void 0?c:Math.max(c,x.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kr=Oi.extend({initialize:function(a,c){$(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),Gh=function(a,c){return new kr(a,c)},ni=kr.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),kr.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),kr.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new dt;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ko=function(a,c){return new ni(a,c)},ba=$t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){$(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var x=k(b),I=k(c==="shadow"&&m.shadowAnchor||m.iconAnchor||x&&x.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),x&&(a.style.width=x.x+"px",a.style.height=x.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Mt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Bl(a){return new ba(a)}var Ta=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ta.imagePath!="string"&&(Ta.imagePath=this._detectIconPath()),(this.options.imagePath||Ta.imagePath)+ba.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,x){var I=b.exec(m);return I&&I[x]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=re("div","leaflet-default-icon-path",document.body),c=ts(a,"background-image")||ts(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ec=Un.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Mi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),It(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,I=ns(c._icon),B=m.getPixelBounds(),J=m.getPixelOrigin(),ut=H(B.min._subtract(J).add(x),B.max._subtract(J).subtract(x));if(!ut.contains(I)){var vt=k((Math.max(ut.max.x,I.x)-ut.max.x)/(B.max.x-ut.max.x)-(Math.min(ut.min.x,I.x)-ut.min.x)/(B.min.x-ut.min.x),(Math.max(ut.max.y,I.y)-ut.max.y)/(B.max.y-ut.max.y)-(Math.min(ut.min.y,I.y)-ut.min.y)/(B.min.y-ut.min.y)).multiplyBy(b);m.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),Ie(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=F(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=ns(c._icon),x=c._map.layerPointToLatLng(b);m&&Ie(m,b),c._latlng=x,a.latlng=x,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),wa=Oi.extend({options:{icon:new Ta,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){$(this,c),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),It(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(m,"focus",this._panOnFocus,this);var x=a.icon.createShadow(this._shadow),I=!1;x!==this._shadow&&(this._removeShadow(),I=!0),x&&(It(x,c),x.alt=""),this._shadow=x,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ie(this._icon,a),this._shadow&&Ie(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(It(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ec)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ec(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&_n(this._icon,a),this._shadow&&_n(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?k(c.iconSize):k(0,0),b=c.iconAnchor?k(c.iconAnchor):k(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nc(a,c){return new wa(a,c)}var Ps=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return $(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vo=Ps.extend({options:{fill:!0,radius:10},initialize:function(a,c){$(this,c),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Ps.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new Z(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(a,c){return new Vo(a,c)}var ic=Vo.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=o({},m,{radius:c})),$(this,c),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ps.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===ne.distance){var x=Math.PI/180,I=this._mRadius/ne.R/x,B=m.project([c+I,a]),J=m.project([c-I,a]),ut=B.add(J).divideBy(2),vt=m.unproject(ut).lat,Ct=Math.acos((Math.cos(I*x)-Math.sin(c*x)*Math.sin(vt*x))/(Math.cos(c*x)*Math.cos(vt*x)))/x;(isNaN(Ct)||Ct===0)&&(Ct=I/Math.cos(Math.PI/180*c)),this._point=ut.subtract(m.getPixelOrigin()),this._radius=isNaN(Ct)?0:ut.x-m.project([vt,a-Ct]).x,this._radiusY=ut.y-B.y}else{var Pt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Pt).x}this._updateBounds()}});function Sm(a,c,m){return new ic(a,c,m)}var Ms=Ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){$(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Bt,x,I,B=0,J=this._parts.length;B<J;B++)for(var ut=this._parts[B],vt=1,Ct=ut.length;vt<Ct;vt++){x=ut[vt-1],I=ut[vt];var Pt=b(a,x,I,!0);Pt<c&&(c=Pt,m=b(a,x,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return De(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=wt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new dt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return te(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=te(a),b=0,x=a.length;b<x;b++)m?(c[b]=wt(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof St,x=a.length,I,B;if(b){for(B=[],I=0;I<x;I++)B[I]=this._map.latLngToLayerPoint(a[I]),m.extend(B[I]);c.push(B)}else for(I=0;I<x;I++)this._projectLatlngs(a[I],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,x,I,B,J,ut;for(m=0,x=0,I=this._rings.length;m<I;m++)for(ut=this._rings[m],b=0,B=ut.length;b<B-1;b++)J=P(ut[b],ut[b+1],a,b,!0),J&&(c[x]=c[x]||[],c[x].push(J[0]),(J[1]!==ut[b+1]||b===B-2)&&(c[x].push(J[1]),x++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=wn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,x,I,B,J,ut=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for(J=this._parts[m],b=0,B=J.length,x=B-1;b<B;x=b++)if(!(!c&&b===0)&&va(a,J[x],J[b])<=ut)return!0;return!1}});function Am(a,c){return new Ms(a,c)}Ms._flat=me;var xa=Ms.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Or(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Ms.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof St&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){Ms.prototype._setLatLngs.call(this,a),te(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return te(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new pt(c,c);if(a=new Z(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,x=this._rings.length,I;b<x;b++)I=Oo(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,x,I,B,J,ut,vt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,ut=this._parts.length;I<ut;I++)for(m=this._parts[I],B=0,vt=m.length,J=vt-1;B<vt;J=B++)b=m[B],x=m[J],b.y>a.y!=x.y>a.y&&a.x<(x.x-b.x)*(a.y-b.y)/(x.y-b.y)+b.x&&(c=!c);return c||Ms.prototype._containsPoint.call(this,a,!0)}});function ii(a,c){return new xa(a,c)}var si=ni.extend({initialize:function(a,c){$(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=Y(a)?a:a.features,m,b,x;if(c){for(m=0,b=c.length;m<b;m++)x=c[m],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var B=zo(a,I);return B?(B.feature=Sa(a),B.defaultOptions=B.options,this.resetStyle(B),I.onEachFeature&&I.onEachFeature(a,B),this.addLayer(B)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function zo(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,x=[],I=c&&c.pointToLayer,B=c&&c.coordsToLatLng||jl,J,ut,vt,Ct;if(!b&&!m)return null;switch(m.type){case"Point":return J=B(b),sc(I,a,J,c);case"MultiPoint":for(vt=0,Ct=b.length;vt<Ct;vt++)J=B(b[vt]),x.push(sc(I,a,J,c));return new ni(x);case"LineString":case"MultiLineString":return ut=Uo(b,m.type==="LineString"?0:1,B),new Ms(ut,c);case"Polygon":case"MultiPolygon":return ut=Uo(b,m.type==="Polygon"?1:2,B),new xa(ut,c);case"GeometryCollection":for(vt=0,Ct=m.geometries.length;vt<Ct;vt++){var Pt=zo({geometry:m.geometries[vt],type:"Feature",properties:a.properties},c);Pt&&x.push(Pt)}return new ni(x);case"FeatureCollection":for(vt=0,Ct=m.features.length;vt<Ct;vt++){var Lt=zo(m.features[vt],c);Lt&&x.push(Lt)}return new ni(x);default:throw new Error("Invalid GeoJSON object.")}}function sc(a,c,m,b){return a?a(c,m):new wa(m,b&&b.markersInheritOptions&&b)}function jl(a){return new St(a[1],a[0],a[2])}function Uo(a,c,m){for(var b=[],x=0,I=a.length,B;x<I;x++)B=c?Uo(a[x],c-1,m):(m||jl)(a[x]),b.push(B);return b}function Bo(a,c){return a=wt(a),a.alt!==void 0?[R(a.lng,c),R(a.lat,c),R(a.alt,c)]:[R(a.lng,c),R(a.lat,c)]}function Fl(a,c,m,b){for(var x=[],I=0,B=a.length;I<B;I++)x.push(c?Fl(a[I],te(a[I])?0:c-1,m,b):Bo(a[I],b));return!c&&m&&x.length>0&&x.push(x[0].slice()),x}function ki(a,c){return a.feature?o({},a.feature,{geometry:c}):Sa(c)}function Sa(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Vr={toGeoJSON:function(a){return ki(this,{type:"Point",coordinates:Bo(this.getLatLng(),a)})}};wa.include(Vr),ic.include(Vr),Vo.include(Vr),Ms.include({toGeoJSON:function(a){var c=!te(this._latlngs),m=Fl(this._latlngs,c?1:0,!1,a);return ki(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),xa.include({toGeoJSON:function(a){var c=!te(this._latlngs),m=c&&!te(this._latlngs[0]),b=Fl(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),ki(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),kr.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),ki(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(x){if(x.toGeoJSON){var I=x.toGeoJSON(a);if(m)b.push(I.geometry);else{var B=Sa(I);B.type==="FeatureCollection"?b.push.apply(b,B.features):b.push(B)}}}),m?ki(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Hl(a,c){return new si(a,c)}var Kh=Hl,as=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=Tt(c),$(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(It(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Wn(this._image),this},bringToBack:function(){return this._map&&gi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Tt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:re("img");if(It(c,"leaflet-image-layer"),this._zoomAnimated&&It(c,"leaflet-zoom-animated"),this.options.className&&It(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Vn(this._image,m,c)},_reset:function(){var a=this._image,c=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Ie(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){_n(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Aa=function(a,c,m){return new as(a,c,m)},ql=as.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:re("video");if(It(c,"leaflet-image-layer"),this._zoomAnimated&&It(c,"leaflet-zoom-animated"),this.options.className&&It(c,this.options.className),c.onselectstart=S,c.onmousemove=S,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],x=0;x<m.length;x++)b.push(m[x].src);this._url=m.length>0?b:[c.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var B=re("source");B.src=this._url[I],c.appendChild(B)}}});function Yh(a,c,m){return new ql(a,c,m)}var Js=as.extend({_initImage:function(){var a=this._image=this._url;It(a,"leaflet-image-layer"),this._zoomAnimated&&It(a,"leaflet-zoom-animated"),this.options.className&&It(a,this.options.className),a.onselectstart=S,a.onmousemove=S}});function $h(a,c,m){return new Js(a,c,m)}var Vi=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof St||Y(a))?(this._latlng=wt(a),$(this,c)):($(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&_n(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&_n(this._container,1),this.bringToFront(),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(_n(this._container,0),this._removeTimeout=setTimeout(f(ue,void 0,this._container),200)):ue(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wn(this._container),this},bringToBack:function(){return this._map&&gi(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof ni){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=k(this.options.offset),m=this._getAnchor();this._zoomAnimated?Ie(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(a,c,m,b){var x=c;return x instanceof a||(x=new a(b).setContent(c)),m&&x.setLatLng(m),x}}),Oi.include({_initOverlay:function(a,c,m,b){var x=m;return x instanceof a?($(x,b),x._source=this):(x=c&&!b?c:new a(b,this),x.setContent(m)),x}});var jo=Vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Vi.prototype.openOn.call(this,a)},onAdd:function(a){Vi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ps||this._source.on("preclick",he))},onRemove:function(a){Vi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ps||this._source.off("preclick",he))},getEvents:function(){var a=Vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=re("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=re("div",a+"-content-wrapper",c);if(this._contentNode=re("div",a+"-content",m),Ws(c),$s(this._contentNode),Ut(c,"contextmenu",he),this._tipContainer=re("div",a+"-tip-container",c),this._tip=re("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=re("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(b,"click",function(x){Ne(x),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,x=this.options.maxHeight,I="leaflet-popup-scrolled";x&&b>x?(c.height=x+"px",It(a,I)):ge(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Ie(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(ts(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,x=new pt(this._containerLeft,-m-this._containerBottom);x._add(ns(this._container));var I=a.layerPointToContainerPoint(x),B=k(this.options.autoPanPadding),J=k(this.options.autoPanPaddingTopLeft||B),ut=k(this.options.autoPanPaddingBottomRight||B),vt=a.getSize(),Ct=0,Pt=0;I.x+b+ut.x>vt.x&&(Ct=I.x+b-vt.x+ut.x),I.x-Ct-J.x<0&&(Ct=I.x-J.x),I.y+m+ut.y>vt.y&&(Pt=I.y+m-vt.y+ut.y),I.y-Pt-J.y<0&&(Pt=I.y-J.y),(Ct||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ct,Pt]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cm=function(a,c){return new jo(a,c)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(a,c,m){return this._initOverlay(jo,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Oi.include({bindPopup:function(a,c){return this._popup=this._initOverlay(jo,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ni||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Jn(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Gl=Vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Vi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Vi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Vi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,x=this._container,I=b.latLngToContainerPoint(b.getCenter()),B=b.layerPointToContainerPoint(a),J=this.options.direction,ut=x.offsetWidth,vt=x.offsetHeight,Ct=k(this.options.offset),Pt=this._getAnchor();J==="top"?(c=ut/2,m=vt):J==="bottom"?(c=ut/2,m=0):J==="center"?(c=ut/2,m=vt/2):J==="right"?(c=0,m=vt/2):J==="left"?(c=ut,m=vt/2):B.x<I.x?(J="right",c=0,m=vt/2):(J="left",c=ut+(Ct.x+Pt.x)*2,m=vt/2),a=a.subtract(k(c,m,!0)).add(Ct).add(Pt),ge(x,"leaflet-tooltip-right"),ge(x,"leaflet-tooltip-left"),ge(x,"leaflet-tooltip-top"),ge(x,"leaflet-tooltip-bottom"),It(x,"leaflet-tooltip-"+J),Ie(x,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&_n(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rm=function(a,c){return new Gl(a,c)};Wt.include({openTooltip:function(a,c,m){return this._initOverlay(Gl,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Oi.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ni||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ut(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var rc=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ee(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=k(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Wh(a){return new rc(a)}ba.Default=Ta;var zr=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){$(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ue(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,x=c.length,I;b<x;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){_n(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var x=this._tiles[b];if(!(!x.current||!x.loaded)){var I=Math.min(1,(a-x.loaded)/200);_n(x.el,I),I<1?c=!0:(x.active?m=!0:this._onOpaqueTile(x),x.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(D(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(ue(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],x=this._map;return b||(b=this._levels[a]={},b.el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=x.project(x.unproject(x.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,x.getCenter(),x.getZoom()),S(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ue(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var x=Math.floor(a/2),I=Math.floor(c/2),B=m-1,J=new pt(+x,+I);J.z=+B;var ut=this._tileCoordsToKey(J),vt=this._tiles[ut];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),B>b?this._retainParent(x,I,B,b):!1)},_retainChildren:function(a,c,m,b){for(var x=2*a;x<2*a+2;x++)for(var I=2*c;I<2*c+2;I++){var B=new pt(x,I);B.z=m+1;var J=this._tileCoordsToKey(B),ut=this._tiles[J];if(ut&&ut.active){ut.retain=!0;continue}else ut&&ut.loaded&&(ut.retain=!0);m+1<b&&this._retainChildren(x,I,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var x=Math.round(c);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var I=this.options.updateWhenZooming&&x!==this._tileZoom;(!b||I)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),x=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Mt.any3d?Vn(a.el,x,b):Ie(a.el,x)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),x=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new Z(x.subtract(I),x.add(I))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),x=this._pxBoundsToTileRange(b),I=x.getCenter(),B=[],J=this.options.keepBuffer,ut=new Z(x.getBottomLeft().subtract([J,-J]),x.getTopRight().add([J,-J]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var Ct=this._tiles[vt].coords;(Ct.z!==this._tileZoom||!ut.contains(new pt(Ct.x,Ct.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Pt=x.min.y;Pt<=x.max.y;Pt++)for(var Lt=x.min.x;Lt<=x.max.x;Lt++){var Zt=new pt(Lt,Pt);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Ae=this._tiles[this._tileCoordsToKey(Zt)];Ae?Ae.current=!0:B.push(Zt)}}if(B.sort(function(xn,_i){return xn.distanceTo(I)-_i.distanceTo(I)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Lt=0;Lt<B.length;Lt++)this._addTile(B[Lt],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return Tt(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),x=b.add(m),I=c.unproject(b,a.z),B=c.unproject(x,a.z);return[I,B]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new dt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new pt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(ue(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){It(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=S,a.onmousemove=S,Mt.ielt9&&this.options.opacity<1&&_n(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),x=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(x),this.createTile.length<2&&F(f(this._tileReady,this,a,null,x)),Ie(x,m),this._tiles[b]={el:x,coords:a,current:!0},c.appendChild(x),this.fire("tileloadstart",{tile:x,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(_n(m.el,0),D(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(It(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new pt(this._wrapX?T(a.x,this._wrapX):a.x,this._wrapY?T(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new Z(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function zi(a){return new zr(a)}var Ur=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=$(this,c),c.detectRetina&&Mt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Ut(m,"load",f(this._tileOnLoad,this,c,m)),Ut(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Mt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return Q(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Mt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=S,c.onerror=S,!c.complete)){c.src=lt;var m=this._tiles[a].coords;ue(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",lt),zr.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===lt))return zr.prototype._tileReady.call(this,a,c,m)}});function ri(a,c){return new Ur(a,c)}var ai=Ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=o({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=$(this,c);var x=c.detectRetina&&Mt.retina?2:1,I=this.getTileSize();m.width=I.x*x,m.height=I.y*x,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ur.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=H(m.project(c[0]),m.project(c[1])),x=b.min,I=b.max,B=(this._wmsVersion>=1.3&&this._crs===Ea?[x.y,x.x,I.y,I.x]:[x.x,x.y,I.x,I.y]).join(","),J=Ur.prototype.getTileUrl.call(this,a);return J+X(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ca(a,c){return new ai(a,c)}Ur.WMS=ai,ri.wms=Ca;var Ui=Oi.extend({options:{padding:.1},initialize:function(a){$(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),It(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,c),I=b.multiplyBy(-m).add(x).subtract(this._map._getNewPixelOrigin(a,c));Mt.any3d?Vn(this._container,I,m):Ie(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new Z(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fo=Ui.extend({options:{tolerance:0},getEvents:function(){var a=Ui.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,ue(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ui.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Mt.retina?2:1;Ie(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,x;for(x=0;x<c.length;x++){if(b=Number(c[x]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,x,I,B=a._parts,J=B.length,ut=this._ctx;if(J){for(ut.beginPath(),m=0;m<J;m++){for(b=0,x=B[m].length;b<x;b++)I=B[m][b],ut[b?"lineTo":"moveTo"](I.x,I.y);c&&ut.closePath()}this._fillStroke(ut,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),x=(Math.max(Math.round(a._radiusY),1)||b)/b;x!==1&&(m.save(),m.scale(1,x)),m.beginPath(),m.arc(c.x,c.y/x,b,0,Math.PI*2,!1),x!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(ge(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,x=this._drawFirst;x;x=x.next)m=x.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(It(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Ho(a){return Mt.canvas?new Fo(a):null}var Br=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ra={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ui.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Br("shape");It(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Br("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ue(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,x=a._container;x.stroked=!!b.stroke,x.filled=!!b.fill,b.stroke?(c||(c=a._stroke=Br("stroke")),x.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=Y(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(x.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=Br("fill")),x.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(x.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Wn(a._container)},_bringToBack:function(a){gi(a._container)}},qo=Mt.vml?Br:Rl,tr=Ui.extend({_initContainer:function(){this._container=qo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ui.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Ie(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=qo("path");a.options.className&&It(c,a.options.className),a.options.interactive&&It(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ue(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,la(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,x="a"+m+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+x+m*2+",0 "+x+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Wn(a._path)},_bringToBack:function(a){gi(a._path)}});Mt.vml&&tr.include(Ra);function jr(a){return Mt.svg||Mt.vml?new tr(a):null}Wt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Ho(a)||jr(a)}});var Xh=xa.extend({initialize:function(a,c){xa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Tt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function oi(a,c){return new Xh(a,c)}tr.create=qo,tr.pointsToPath=la,si.geometryToLayer=zo,si.coordsToLatLng=jl,si.coordsToLatLngs=Uo,si.latLngToCoords=Bo,si.latLngsToCoords=Fl,si.getFeature=ki,si.asFeature=Sa,Wt.mergeOptions({boxZoom:!0});var Zl=Un.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vn(),Ks(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),It(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new Z(this._point,this._startPoint),m=c.getSize();Ie(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ue(this._box),ge(this._container,"leaflet-crosshair")),Xn(),fa(),ce(document,{contextmenu:Jn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",Zl),Wt.mergeOptions({doubleClickZoom:!0});var os=Un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,x=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(x):c.setZoomAround(a.containerPoint,x)}});Wt.addInitHook("addHandler","doubleClickZoom",os),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ac=Un.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Mi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}It(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Tt(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,x=(b-c+m)%a+c-m,I=(b+c+m)%a-c-m,B=Math.abs(x+m)<Math.abs(I+m)?x:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,B=m.easeLinearity,J=x.multiplyBy(B/I),ut=J.distanceTo([0,0]),vt=Math.min(m.inertiaMaxSpeed,ut),Ct=J.multiplyBy(vt/ut),Pt=vt/(m.inertiaDeceleration*B),Lt=Ct.multiplyBy(-Pt/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),F(function(){c.panBy(Lt,{duration:Pt,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",ac),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Go=Un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,x;for(b=0,x=m.left.length;b<x;b++)c[m.left[b]]=[-1*a,0];for(b=0,x=m.right.length;b<x;b++)c[m.right[b]]=[a,0];for(b=0,x=m.down.length;b<x;b++)c[m.down[b]]=[0,a];for(b=0,x=m.up.length;b<x;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,x;for(b=0,x=m.zoomIn.length;b<x;b++)c[m.zoomIn[b]]=a;for(b=0,x=m.zoomOut.length;b<x;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=k(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(k(b),m.options.maxBounds)),m.options.worldCopyJump){var x=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(x)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Jn(a)}}});Wt.addInitHook("addHandler","keyboard",Go),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var er=Un.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Xs(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Jn(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(x/m)*m:x,B=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,B&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+B):a.setZoomAround(this._lastMousePos,c+B))}});Wt.addInitHook("addHandler","scrollWheelZoom",er);var oc=600;Wt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var Kl=Un.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new pt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Ne),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),oc),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ce(document,"touchend",Ne),ce(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new pt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Wt.addInitHook("addHandler","tapHold",Kl),Wt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var Fr=Un.extend({addHooks:function(){It(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Ne(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),x=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(x,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&x<1||this._zoom>c.getMaxZoom()&&x>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(x===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var B=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(B,this,!0),Ne(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Fr),Wt.BoxZoom=Zl,Wt.DoubleClickZoom=os,Wt.Drag=ac,Wt.Keyboard=Go,Wt.ScrollWheelZoom=er,Wt.TapHold=Kl,Wt.TouchZoom=Fr,e.Bounds=Z,e.Browser=Mt,e.CRS=xe,e.Canvas=Fo,e.Circle=ic,e.CircleMarker=Vo,e.Class=$t,e.Control=fn,e.DivIcon=rc,e.DivOverlay=Vi,e.DomEvent=Dr,e.DomUtil=Ol,e.Draggable=Mi,e.Evented=Et,e.FeatureGroup=ni,e.GeoJSON=si,e.GridLayer=zr,e.Handler=Un,e.Icon=ba,e.ImageOverlay=as,e.LatLng=St,e.LatLngBounds=dt,e.Layer=Oi,e.LayerGroup=kr,e.LineUtil=ti,e.Map=Wt,e.Marker=wa,e.Mixin=zl,e.Path=Ps,e.Point=pt,e.PolyUtil=_a,e.Polygon=xa,e.Polyline=Ms,e.Popup=jo,e.PosAnimation=Lr,e.Projection=Di,e.Rectangle=Xh,e.Renderer=Ui,e.SVG=tr,e.SVGOverlay=Js,e.TileLayer=Ur,e.Tooltip=Gl,e.Transformation=Hs,e.Util=U,e.VideoOverlay=ql,e.bind=f,e.bounds=H,e.canvas=Ho,e.circle=Sm,e.circleMarker=Zh,e.control=Pi,e.divIcon=Wh,e.extend=o,e.featureGroup=ko,e.geoJSON=Hl,e.geoJson=Kh,e.gridLayer=zi,e.icon=Bl,e.imageOverlay=Aa,e.latLng=wt,e.latLngBounds=Tt,e.layerGroup=Gh,e.map=ss,e.marker=nc,e.point=k,e.polygon=ii,e.polyline=Am,e.popup=Cm,e.rectangle=oi,e.setOptions=$,e.stamp=y,e.svg=jr,e.svgOverlay=$h,e.tileLayer=ri,e.tooltip=Rm,e.transformation=Ki,e.version=s,e.videoOverlay=Yh;var Ia=window.L;e.noConflict=function(){return window.L=Ia,this},window.L=e}))})(Xc,Xc.exports)),Xc.exports}var qh=O9();const r2=b1(qh);function bv(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function Tv(n,t){return t==null?function(s,o){const u=tt.useRef(void 0);return u.current||(u.current=n(s,o)),u}:function(s,o){const u=tt.useRef(void 0);u.current||(u.current=n(s,o));const f=tt.useRef(s),{instance:g}=u.current;return tt.useEffect(function(){f.current!==s&&(t(g,s,f.current),f.current=s)},[g,s,t]),u}}function k9(n,t){tt.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function a2(n){return function(e){const s=vv(),o=n(Ev(e,s),s);return i2(s.map,e.attribution),s2(o.current,e.eventHandlers),k9(o.current,s),o}}function V9(n,t){const e=Tv(n,t),s=a2(e);return N9(s)}function z9(n,t){const e=Tv(n),s=D9(e,t);return P9(s)}function U9(n,t){const e=Tv(n,t),s=a2(e);return M9(s)}function B9(n,t,e){const{opacity:s,zIndex:o}=t;s!=null&&s!==e.opacity&&n.setOpacity(s),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function j9(){return vv().map}function F9({bounds:n,boundsOptions:t,center:e,children:s,className:o,id:u,placeholder:f,style:g,whenReady:y,zoom:E,...T},S){const[R]=tt.useState({className:o,id:u,style:g}),[V,K]=tt.useState(null),$=tt.useRef(void 0);tt.useImperativeHandle(S,()=>V?.map??null,[V]);const X=tt.useCallback(Q=>{if(Q!==null&&!$.current){const Y=new qh.Map(Q,T);$.current=Y,e!=null&&E!=null?Y.setView(e,E):n!=null&&Y.fitBounds(n,t),y!=null&&Y.whenReady(y),K(R9(Y))}},[]);tt.useEffect(()=>()=>{V?.map.remove()},[V]);const ct=V?_.createElement(_v,{value:V},s):f??null;return _.createElement("div",{...R,ref:X},ct)}const H9=tt.forwardRef(F9),q9=V9(function({position:t,...e},s){const o=new qh.Marker(t,e);return bv(o,I9(s,{overlayContainer:o}))},function(t,e,s){e.position!==s.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==s.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==s.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==s.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),G9=z9(function(t,e){const s=new qh.Popup(t,e.overlayContainer);return bv(s,e)},function(t,e,{position:s},o){tt.useEffect(function(){const{instance:f}=t;function g(E){E.popup===f&&(f.update(),o(!0))}function y(E){E.popup===f&&o(!1)}return e.map.on({popupopen:g,popupclose:y}),e.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){e.map.off({popupopen:g,popupclose:y}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(f)}},[t,e,o,s])}),Z9=U9(function({url:t,...e},s){const o=new qh.TileLayer(t,Ev(e,s));return bv(o,s)},function(t,e,s){B9(t,e,s);const{url:o}=e;o!=null&&o!==s.url&&t.setUrl(o)});delete r2.Icon.Default.prototype._getIconUrl;r2.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const K9=({center:n})=>{const t=j9();return tt.useEffect(()=>{n?.[0]!=null&&n?.[1]!=null&&t.setView(n,7)},[n,t]),null},Y9=({user:n})=>{const[t,e]=tt.useState([]),[s,o]=tt.useState(""),[u,f]=tt.useState(""),[g,y]=tt.useState(""),[E,T]=tt.useState(""),[S,R]=tt.useState(null),[V,K]=tt.useState("grid"),[$,X]=tt.useState("name"),[ct,Q]=tt.useState(!1),[Y,ht]=tt.useState(!0),[lt,bt]=tt.useState(1),[z,M]=tt.useState(12),O=["Punjab","Sindh","Khyber Pakhtunkhwa","Balochistan","Gilgit-Baltistan","Azad Kashmir","Federal"],q=["Indo-Aryan","Iranian","Dardic","Turkic","Dravidian","Isolate","Other"],F=["Endangered","Vulnerable","Stable","Thriving","Critically Endangered"];tt.useEffect(()=>{ht(!0);try{const H=I_(Ud(ol,"languages"),D_("name")),dt=L_(H,Tt=>{const St=Tt.docs.map(wt=>({id:wt.id,...wt.data()}));e(St),ht(!1)});return()=>dt()}catch(H){console.error("Error loading languages:",H),ht(!1)}},[]);const D=tt.useMemo(()=>t.filter(H=>{const dt=H.name?.toLowerCase().includes(s.toLowerCase())||H.description?.toLowerCase().includes(s.toLowerCase())||H.location?.toLowerCase().includes(s.toLowerCase())||H.family?.toLowerCase().includes(s.toLowerCase())||H.isoCode?.toLowerCase().includes(s.toLowerCase()),Tt=!u||H.region===u,St=!g||H.family===g,wt=!E||H.status===E;return dt&&Tt&&St&&wt}),[t,s,u,g,E]),U=tt.useMemo(()=>[...D].sort((H,dt)=>{switch($){case"name":return(H.name||"").localeCompare(dt.name||"");case"speakers":return(dt.speakers||0)-(H.speakers||0);case"region":return(H.region||"").localeCompare(dt.region||"");default:return 0}}),[D,$]),$t=tt.useMemo(()=>{const H=(lt-1)*z;return U.slice(H,H+z)},[U,lt,z]),Qt=Math.ceil(U.length/z),ot=tt.useCallback(H=>{R(H),setTimeout(()=>{document.getElementById("language-detail")?.scrollIntoView({behavior:"smooth"})},100)},[]),Et=(H,dt)=>!isNaN(H)&&!isNaN(dt)&&H!=null&&dt!=null,pt=()=>{o(""),f(""),y(""),T(""),bt(1)},Vt=H=>{switch(H){case"Endangered":return"bg-red-100 text-red-800 border-red-200";case"Critically Endangered":return"bg-red-100 text-red-800 border-red-200";case"Vulnerable":return"bg-orange-100 text-orange-800 border-orange-200";case"Stable":return"bg-green-100 text-green-800 border-green-200";case"Thriving":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=({language:H})=>_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 overflow-hidden group"},_.createElement("div",{className:"p-6"},_.createElement("div",{className:"flex justify-between items-start mb-4"},_.createElement("div",null,_.createElement("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors"},H.name),_.createElement("span",{className:"inline-block bg-gray-100 text-gray-600 text-sm px-3 py-1 rounded-full mt-2"},H.isoCode)),H.status&&_.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${Vt(H.status)}`},H.status)),_.createElement("div",{className:"space-y-3 mb-4"},_.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-600"},_.createElement(co,{size:16,className:"text-blue-500"}),_.createElement("span",null,H.region||"N/A")),_.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-600"},_.createElement(Bu,{size:16,className:"text-green-500"}),_.createElement("span",null,H.family||"N/A")),_.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-600"},_.createElement(ro,{size:16,className:"text-purple-500"}),_.createElement("span",null,H.dictionary?.length||0," words")),H.speakers&&_.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-600"},_.createElement(Rh,{size:16,className:"text-orange-500"}),_.createElement("span",null,H.speakers.toLocaleString()," speakers"))),H.description&&_.createElement("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2"},H.description),_.createElement("div",{className:"flex gap-2"},_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ot(H),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors text-sm"},"Explore"),Et(Number(H.geography?.latitude),Number(H.geography?.longitude))&&_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>R(H),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors text-sm"},"On Map")))),Z=({language:H})=>_.createElement(At.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-all duration-300 p-6"},_.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},_.createElement("div",{className:"flex-1"},_.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-3"},_.createElement("h3",{className:"text-xl font-bold text-gray-900"},H.name),_.createElement("span",{className:"bg-gray-100 text-gray-600 text-sm px-3 py-1 rounded-full"},H.isoCode),H.status&&_.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${Vt(H.status)}`},H.status)),_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600"},_.createElement("div",{className:"flex items-center gap-2"},_.createElement(co,{size:14}),_.createElement("span",null,H.region||"N/A")),_.createElement("div",{className:"flex items-center gap-2"},_.createElement(Bu,{size:14}),_.createElement("span",null,H.family||"N/A")),_.createElement("div",{className:"flex items-center gap-2"},_.createElement(ro,{size:14}),_.createElement("span",null,H.dictionary?.length||0," words")),H.speakers&&_.createElement("div",{className:"flex items-center gap-2"},_.createElement(Rh,{size:14}),_.createElement("span",null,H.speakers.toLocaleString()," speakers"))),H.description&&_.createElement("p",{className:"text-gray-600 text-sm mt-3 line-clamp-2"},H.description)),_.createElement("div",{className:"flex gap-2"},_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ot(H),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors text-sm"},"Explore"),Et(Number(H.geography?.latitude),Number(H.geography?.longitude))&&_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>R(H),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors text-sm"},"Map"))));return _.createElement("div",{className:"min-h-screen bg-gray-50"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_.createElement(At.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8"},_.createElement("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4"},"Language Explorer"),_.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Discover and explore the rich linguistic diversity of Pakistan with interactive maps and detailed language information.")),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-8"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between"},_.createElement("div",{className:"flex-1 w-full lg:max-w-md"},_.createElement("div",{className:"relative"},_.createElement(yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),_.createElement("input",{type:"text",placeholder:"Search languages, regions, families...",value:s,onChange:H=>o(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}))),_.createElement("div",{className:"flex flex-wrap gap-3 w-full lg:w-auto"},_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Q(!ct),className:"flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors"},_.createElement(gv,{size:18}),"Filters",ct?_.createElement(JC,{size:16}):_.createElement(QC,{size:16})),_.createElement("div",{className:"flex border border-gray-300 rounded-xl overflow-hidden"},_.createElement("button",{onClick:()=>K("grid"),className:`px-4 py-3 transition-colors ${V==="grid"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`},_.createElement(e2,{size:18})),_.createElement("button",{onClick:()=>K("list"),className:`px-4 py-3 transition-colors ${V==="list"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`},_.createElement(n2,{size:18}))),_.createElement("select",{value:$,onChange:H=>X(H.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:"name"},"Sort by Name"),_.createElement("option",{value:"speakers"},"Sort by Speakers"),_.createElement("option",{value:"region"},"Sort by Region")),_.createElement("select",{value:z,onChange:H=>{M(Number(H.target.value)),bt(1)},className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:12},"12 per page"),_.createElement("option",{value:24},"24 per page"),_.createElement("option",{value:48},"48 per page"),_.createElement("option",{value:96},"96 per page")))),_.createElement(bl,null,ct&&_.createElement(At.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-200"},_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Region"),_.createElement("select",{value:u,onChange:H=>f(H.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Regions"),O.map(H=>_.createElement("option",{key:H,value:H},H)))),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Family"),_.createElement("select",{value:g,onChange:H=>y(H.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Families"),q.map(H=>_.createElement("option",{key:H,value:H},H)))),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),_.createElement("select",{value:E,onChange:H=>T(H.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Statuses"),F.map(H=>_.createElement("option",{key:H,value:H},H))))),_.createElement("div",{className:"flex justify-between items-center mt-4"},_.createElement("div",{className:"text-sm text-gray-600"},D.length," languages found"),_.createElement("button",{onClick:pt,className:"text-blue-600 hover:text-blue-800 font-medium text-sm"},"Clear all filters"))))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8"},_.createElement("div",{className:"p-6 border-b border-gray-200"},_.createElement("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},_.createElement(co,{className:"text-blue-600",size:24}),"Language Distribution Map")),_.createElement("div",{className:"h-96 lg:h-[500px]"},_.createElement(H9,{center:[30.3753,69.3451],zoom:5,style:{height:"100%",width:"100%"},className:"rounded-b-2xl"},_.createElement(Z9,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),S&&Et(Number(S.geography?.latitude),Number(S.geography?.longitude))&&_.createElement(K9,{center:[Number(S.geography.latitude),Number(S.geography.longitude)]}),t.map(H=>{const dt=Number(H.geography?.latitude),Tt=Number(H.geography?.longitude);return Et(dt,Tt)?_.createElement(q9,{key:H.id,position:[dt,Tt],eventHandlers:{click:()=>R(H),mouseover:St=>St.target.openPopup()}},_.createElement(G9,{className:"custom-popup"},_.createElement("div",{className:"min-w-[250px] p-2"},_.createElement("h3",{className:"font-bold text-lg text-blue-600 mb-2"},H.name),_.createElement("div",{className:"space-y-1 text-sm text-gray-600"},_.createElement("p",null,_.createElement("strong",null,"Region:")," ",H.region),_.createElement("p",null,_.createElement("strong",null,"Speakers:")," ",H.speakers?.toLocaleString()||"N/A"),_.createElement("p",null,_.createElement("strong",null,"Status:")," ",H.status)),_.createElement("button",{onClick:()=>ot(H),className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors text-sm"},"Explore Language")))):null})))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},_.createElement("div",{className:"p-6 border-b border-gray-200"},_.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"All Languages (",D.length,")"),_.createElement("p",{className:"text-gray-600 mt-1"},"Discover the linguistic diversity of Pakistan")),_.createElement("div",{className:"text-sm text-gray-600"},"Page ",lt," of ",Qt))),Y?_.createElement("div",{className:"flex justify-center items-center py-12"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})):D.length===0?_.createElement("div",{className:"text-center py-12"},_.createElement(ro,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 text-lg mt-4"},"No languages found matching your criteria."),_.createElement("p",{className:"text-gray-400 mt-2"},"Try adjusting your search or filters.")):V==="grid"?_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 p-6"},$t.map(H=>_.createElement(k,{key:H.id,language:H}))):_.createElement("div",{className:"space-y-4 p-6"},$t.map(H=>_.createElement(Z,{key:H.id,language:H}))),Qt>1&&_.createElement("div",{className:"px-6 py-4 border-t border-gray-200"},_.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4"},_.createElement("div",{className:"text-sm text-gray-600"},"Showing ",(lt-1)*z+1," to ",Math.min(lt*z,D.length)," of ",D.length," languages"),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{onClick:()=>bt(H=>Math.max(H-1,1)),disabled:lt===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Previous"),Array.from({length:Math.min(5,Qt)},(H,dt)=>{const Tt=dt+1;return _.createElement("button",{key:Tt,onClick:()=>bt(Tt),className:`px-4 py-2 rounded-lg transition-colors ${lt===Tt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`},Tt)}),Qt>5&&_.createElement("span",{className:"px-2 py-2"},"..."),_.createElement("button",{onClick:()=>bt(H=>Math.min(H+1,Qt)),disabled:lt===Qt,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Next"))))),_.createElement(bl,null,S&&_.createElement(At.div,{id:"language-detail",initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white rounded-2xl shadow-lg border border-blue-200 mt-8 overflow-hidden"},_.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6"},_.createElement("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4"},_.createElement("div",null,_.createElement("h2",{className:"text-3xl font-bold mb-2"},S.name),_.createElement("p",{className:"text-blue-100 text-lg"},"Comprehensive language information and dictionary")),_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>R(null),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition-colors"},_.createElement(wm,{size:20}),"Close"))),_.createElement("div",{className:"p-6"},_.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_.createElement("div",null,_.createElement("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 border-b pb-3"},"Basic Information"),_.createElement("div",{className:"space-y-4"},_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"ISO Code"),_.createElement("span",{className:"text-gray-900 font-semibold"},S.isoCode||"N/A")),_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"Region"),_.createElement("span",{className:"text-gray-900 font-semibold"},S.region||"N/A")),_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"Family"),_.createElement("span",{className:"text-gray-900 font-semibold"},S.family||"N/A")),_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"Speakers"),_.createElement("span",{className:"text-gray-900 font-semibold"},S.speakers?.toLocaleString()||"N/A")),_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"Status"),_.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Vt(S.status)}`},S.status||"Unknown")),_.createElement("div",{className:"flex justify-between items-center py-3 border-b border-gray-100"},_.createElement("span",{className:"font-medium text-gray-700"},"Location"),_.createElement("span",{className:"text-gray-900 font-semibold"},S.location||"N/A"))),S.introduction&&_.createElement("div",{className:"mt-8"},_.createElement("h4",{className:"text-xl font-semibold mb-4 text-gray-900"},"Introduction"),_.createElement("p",{className:"text-gray-700 leading-relaxed"},S.introduction)),S.history&&_.createElement("div",{className:"mt-6"},_.createElement("h4",{className:"text-xl font-semibold mb-4 text-gray-900"},"History"),_.createElement("p",{className:"text-gray-700 leading-relaxed"},S.history))),_.createElement("div",null,_.createElement("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 border-b pb-3"},"Dictionary (",S.dictionary?.length||0," words)"),S.dictionary&&S.dictionary.length>0?_.createElement("div",{className:"max-h-96 overflow-y-auto space-y-4 pr-2"},S.dictionary.map((H,dt)=>_.createElement(At.div,{key:dt,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:dt*.1},className:"border border-gray-200 rounded-xl p-4 bg-gray-50 hover:bg-white transition-colors"},_.createElement("div",{className:"flex justify-between items-start mb-3"},_.createElement("h4",{className:"font-bold text-xl text-green-600"},H.word),H.region&&_.createElement("span",{className:"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full font-medium"},H.region)),H.pronunciation&&_.createElement("p",{className:"text-gray-600 text-sm mb-2"},_.createElement("span",{className:"font-medium"},"Pronunciation:")," ",H.pronunciation),_.createElement("p",{className:"text-gray-700 mb-3"},_.createElement("span",{className:"font-medium"},"Meaning:")," ",H.meaning),H.dialects&&H.dialects.some(Tt=>Tt)&&_.createElement("div",{className:"mb-3"},_.createElement("p",{className:"text-sm font-medium text-gray-700 mb-2"},"Dialect Variations:"),_.createElement("div",{className:"flex flex-wrap gap-2"},H.dialects.filter(Tt=>Tt).map((Tt,St)=>_.createElement("span",{key:St,className:"bg-white text-gray-700 text-xs px-3 py-2 rounded-lg border border-gray-300 shadow-sm"},Tt)))),H.example&&_.createElement("p",{className:"text-gray-600 text-sm italic border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded-r-lg"},_.createElement("span",{className:"font-medium"},"Example:"),' "',H.example,'"')))):_.createElement("div",{className:"text-center py-8 bg-gray-50 rounded-xl"},_.createElement(ro,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 mt-4"},"No dictionary entries available for this language."),_.createElement("p",{className:"text-gray-400 text-sm mt-1"},"Check back later for updates.")))))))))},o2=()=>_.createElement("footer",{className:"bg-transparent backdrop-blur-lg text-black mt-16"},_.createElement("div",{className:"max-w-7xl mx-auto px-6 py-12"},_.createElement("div",{className:"grid md:grid-cols-4 gap-12"},_.createElement("div",{className:"col-span-2"},_.createElement("h3",{className:"text-2xl font-bold text-blue-400 mb-4"},"Language Explorer"),_.createElement("p",{className:"text-black leading-relaxed mb-6"},"Discover the world's linguistic diversity through our comprehensive platform. Explore languages, cultures, and connect with global communities."),_.createElement("div",{className:"flex space-x-5"},[{name:"Facebook",href:"#",svg:_.createElement("path",{d:`M24 12.073c0-6.627-5.373-12-12-12s-12 \r
                    5.373-12 12c0 5.99 4.388 10.954 \r
                    10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 \r
                    1.792-4.669 4.533-4.669 1.312 0 2.686.235 \r
                    2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 \r
                    1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 \r
                    23.027 24 18.062 24 12.073z`})},{name:"Twitter",href:"#",svg:_.createElement("path",{d:`M23.953 4.57a10 10 0 01-2.825.775 \r
                    4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 \r
                    1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 \r
                    4.067 6.13 1.64 3.162a4.822 4.822 0 \r
                    00-.666 2.475c0 1.71.87 3.213 \r
                    2.188 4.096a4.904 4.904 0 \r
                    01-2.228-.616v.06a4.923 4.923 0 \r
                    003.946 4.827 4.996 4.996 0 \r
                    01-2.212.085 4.936 4.936 0 \r
                    004.604 3.417 9.867 9.867 0 \r
                    01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 \r
                    13.995 0 007.557 2.209c9.053 0 13.998-7.496 \r
                    13.998-13.985 0-.21 0-.42-.015-.63A9.935 \r
                    9.935 0 0024 4.59z`})},{name:"GitHub",href:"#",svg:_.createElement("path",{d:`M12 2C6.477 2 2 6.484 2 \r
                    12.017c0 4.425 2.865 8.18 \r
                    6.839 9.504.5.092.682-.217.682-.483 \r
                    0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 \r
                    1.003.07 1.531 1.032 1.531 \r
                    1.032.892 1.53 2.341 1.088 \r
                    2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 \r
                    0-1.093.39-1.988 \r
                    1.029-2.688-.103-.253-.446-1.272.098-2.65 \r
                    0 0 .84-.27 \r
                    2.75 1.026A9.564 9.564 0 \r
                    0112 6.844c.85.004 \r
                    1.705.115 \r
                    2.504.337 \r
                    1.909-1.296 \r
                    2.747-1.027 \r
                    2.747-1.027.546 1.379.202 \r
                    2.398.1 \r
                    2.651.64.7 \r
                    1.028 1.595 \r
                    1.028 2.688 \r
                    0 3.848-2.339 4.695-4.566 \r
                    4.943.359.309.678.92.678 \r
                    1.855 0 1.338-.012 \r
                    2.419-.012 2.747 \r
                    0 .268.18.58.688.482A10.019 \r
                    10.019 0 0022 \r
                    12.017C22 6.484 17.522 2 \r
                    12 2z`})}].map(n=>_.createElement("a",{key:n.name,href:n.href,className:"text-black hover:text-blue-400 transition-colors duration-300"},_.createElement("span",{className:"sr-only"},n.name),_.createElement("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24"},n.svg))))),_.createElement("div",null,_.createElement("h4",{className:"text-lg font-semibold mb-4 text-black"},"Quick Links"),_.createElement("ul",{className:"space-y-2"},["About Us","Language Database","Interactive Maps","Learning Resources"].map(n=>_.createElement("li",{key:n},_.createElement("a",{href:"#",className:"text-black hover:text-blue-400 transition-colors duration-300"},n))))),_.createElement("div",null,_.createElement("h4",{className:"text-lg font-semibold mb-4 text-black"},"Contact Info"),_.createElement("ul",{className:"space-y-3 text-black"},_.createElement("li",{className:"flex items-center"},_.createElement("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:`M3 8l7.89 4.26a2 2 0 \r
                    002.22 0L21 8M5 19h14a2 2 \r
                    0 002-2V7a2 2 0 00-2-2H5a2 \r
                    2 0 00-2 2v10a2 2 0 002 \r
                    2z`})),"info@languageexplorer.com"),_.createElement("li",{className:"flex items-center"},_.createElement("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:`M3 5a2 2 0 012-2h3.28a1 1 \r
                    0 01.948.684l1.498 \r
                    4.493a1 1 0 01-.502 \r
                    1.21l-2.257 1.13a11.042 \r
                    11.042 0 005.516 \r
                    5.516l1.13-2.257a1 1 \r
                    0 011.21-.502l4.493 \r
                    1.498a1 1 0 \r
                    01.684.949V19a2 2 0 \r
                    01-2 2h-1C9.716 21 \r
                    3 14.284 3 6V5z`})),"+1 (555) 123-4567")))),_.createElement("div",{className:"border-t border-gray-700 mt-10 pt-6 text-center text-black text-sm"},_.createElement("p",null,"© 2024 Language Explorer. All rights reserved.")))),$9=["📘","📖","A","B","C","Ω","文","ع","क"],W9=({user:n,isAdmin:t,setView:e})=>_.createElement("div",{className:"min-h-screen flex flex-col bg-transparent"},_.createElement("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-900 to-blue-900 text-black overflow-hidden",style:{backgroundImage:"url('')",backgroundSize:"cover",backgroundBlendMode:"overlay"}},_.createElement("div",{className:"absolute inset-0 pointer-events-none overflow-hidden"},$9.map((s,o)=>_.createElement(At.span,{key:o,initial:{y:-100,opacity:0},animate:{y:"100vh",opacity:[0,1,1,0],x:Math.random()*window.innerWidth},transition:{duration:6+Math.random()*4,repeat:1/0,delay:Math.random()*5},className:"absolute text-2xl md:text-3xl opacity-70",style:{left:`${Math.random()*100}%`}},s))),_.createElement(At.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:1.2,ease:"easeOut"},className:"relative z-10 max-w-6xl px-4 text-center"},_.createElement("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 leading-tight drop-shadow-lg"},"Discover the World's",_.createElement("span",{className:"block text-blue-500"},"Linguistic Diversity")),_.createElement("p",{className:"text-xl md:text-2xl mb-10 text-black max-w-3xl mx-auto leading-relaxed"},"Explore thousands of languages, cultures, and dialects through our interactive platform. Join a global community of language enthusiasts and researchers."),!n&&_.createElement("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center"},_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e("user"),className:"bg-white text-blue-600 hover:bg-blue-50 font-bold py-4 px-10 rounded-full text-lg shadow-xl transition-all"},"Start Your Journey"),_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e("admin"),className:"border-2 border-white text-white hover:bg-white hover:text-blue-600 font-bold py-4 px-10 rounded-full text-lg shadow-xl"},"Admin Access")),n&&_.createElement("div",{className:"mt-8"},_.createElement("p",{className:"text-lg mb-4"},"Welcome back,"," ",_.createElement("span",{className:"font-semibold"},n.email),"!"),_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e(t?"admin":"user"),className:"bg-white text-blue-600 hover:bg-blue-50 font-bold py-3 px-8 rounded-full shadow-lg transition-all"},"Continue to ",t?"Admin Panel":"Dashboard")))),_.createElement("section",{className:"py-20 bg-gray-50"},_.createElement("div",{className:"max-w-6xl mx-auto px-4"},_.createElement("div",{className:"text-center mb-14"},_.createElement("h2",{className:"text-4xl font-extrabold text-gray-800 mb-4"},"Why Choose"," ",_.createElement("span",{className:"text-blue-600"},"Language Explorer?")),_.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Our platform offers comprehensive tools and resources for language discovery, learning, and research.")),_.createElement("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-10"},[{title:"Comprehensive Database",desc:"Access detailed information on over 7,000+ languages worldwide, including historical data, speaker statistics, and linguistic characteristics.",color:"bg-blue-600"},{title:"Interactive Maps",desc:"Visualize language distribution with our dynamic, interactive maps. Explore linguistic patterns and geographical influences.",color:"bg-emerald-500"},{title:"Personal Collections",desc:"Create and manage your personalized language collections. Save favorites, track progress, and share your discoveries.",color:"bg-purple-600"}].map((s,o)=>_.createElement(At.div,{key:o,whileHover:{scale:1.05},className:"bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl border border-gray-100"},_.createElement("div",{className:`w-16 h-16 ${s.color} rounded-full flex items-center justify-center mb-6 shadow-lg`},_.createElement("span",{className:"text-2xl text-white"},"📘")),_.createElement("h3",{className:"text-2xl font-semibold text-gray-800 mb-4"},s.title),_.createElement("p",{className:"text-gray-600 leading-relaxed"},s.desc)))))),_.createElement("section",{className:"py-20 bg-gray-100"},_.createElement("div",{className:"max-w-6xl mx-auto px-4"},_.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-10 text-center"},[{value:"7,000+",label:"Languages Cataloged",color:"text-blue-600"},{value:"200+",label:"Countries Covered",color:"text-emerald-500"},{value:"50K+",label:"Active Users",color:"text-purple-600"},{value:"24/7",label:"Platform Availability",color:"text-red-500"}].map((s,o)=>_.createElement(At.div,{key:o,initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o*.2},viewport:{once:!0}},_.createElement("div",{className:`text-4xl md:text-5xl font-extrabold ${s.color} mb-2`},s.value),_.createElement("div",{className:"text-gray-700"},s.label)))))),_.createElement("section",{className:"py-20 bg-gradient-to-r from-blue-700 to-purple-700 text-white relative overflow-hidden"},_.createElement(At.div,{initial:{scale:.9,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"max-w-4xl mx-auto px-4 text-center"},_.createElement("h2",{className:"text-4xl md:text-5xl font-extrabold mb-4"},"Ready to Explore Languages?"),_.createElement("p",{className:"text-xl mb-8 text-blue-100"},"Join thousands of language enthusiasts and start your linguistic journey today."),!n&&_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e("user"),className:"bg-white text-blue-600 hover:bg-blue-50 font-bold py-4 px-8 rounded-full text-lg shadow-xl transition-all"},"Create Free Account"))),_.createElement(o2,null)),X9=()=>_.createElement("div",{className:"min-h-screen flex flex-col bg-white"},_.createElement("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden bg-gradient-to-br from-blue-900 via-indigo-900 to-purple-800"},_.createElement(At.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:.6},transition:{duration:2},style:{backgroundImage:"url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1350&q=80')",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(14px) brightness(0.5)"}}),[...Array(5)].map((n,t)=>_.createElement(At.div,{key:t,className:"absolute w-32 h-44 bg-white rounded-md shadow-lg opacity-20",animate:{rotateY:[0,15,-15,0],rotateX:[0,5,-5,0],y:[0,-10,10,0],x:[0,10,-10,0]},transition:{duration:6+t,repeat:1/0,ease:"easeInOut"},style:{top:`${10+t*10}%`,left:`${20+t*10}%`}})),_.createElement(At.div,{initial:{opacity:0,y:-80,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{duration:1.5,ease:"easeOut"},className:"relative z-10 text-center px-6 max-w-4xl"},_.createElement("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 leading-tight text-white drop-shadow-lg"},"Explore ",_.createElement("span",{className:"text-blue-300 animate-pulse"},"Languages")," of the World"),_.createElement("p",{className:"text-xl md:text-2xl text-gray-200 leading-relaxed drop-shadow-md mb-8"},"Dive into the beauty of human languages. Discover, learn, and preserve linguistic diversity across the globe."),_.createElement(At.button,{whileHover:{scale:1.1,rotate:2},whileTap:{scale:.95,rotate:-1},className:"bg-gradient-to-r from-blue-400 to-purple-500 text-white font-bold py-4 px-10 rounded-full shadow-2xl text-lg transition-all"},"Start Exploring")),_.createElement(At.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:.15},transition:{duration:2},style:{backgroundImage:"radial-gradient(rgba(255,255,255,0.05) 1px, transparent 1px)",backgroundSize:"50px 50px"}})),_.createElement("section",{className:"py-20 bg-gray-50"},_.createElement("div",{className:"max-w-6xl mx-auto px-4 grid md:grid-cols-2 gap-12 items-center"},_.createElement(At.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0}},_.createElement("img",{src:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=900&q=80",alt:"Language Exploration",className:"rounded-2xl shadow-lg"})),_.createElement(At.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0}},_.createElement("h2",{className:"text-3xl font-bold text-gray-800 mb-4"},"Our Story"),_.createElement("p",{className:"text-gray-600 mb-4 leading-relaxed"},"Language Explorer began as a small initiative by linguists, technologists, and cultural enthusiasts determined to preserve the beauty of human languages. What started as a digital archive quickly transformed into an interactive global platform connecting communities, scholars, and learners worldwide."),_.createElement("p",{className:"text-gray-600 leading-relaxed"},"Today, we are proud to host a comprehensive database, interactive maps, and innovative tools that empower individuals to explore, learn, and contribute to the global linguistic heritage.")))),_.createElement("section",{className:"py-20 bg-gradient-to-r from-blue-700 to-purple-700 text-white"},_.createElement("div",{className:"max-w-6xl mx-auto px-4 grid md:grid-cols-2 gap-12 text-center md:text-left"},_.createElement(At.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.7},viewport:{once:!0}},_.createElement("h3",{className:"text-3xl font-bold mb-4"},"Our Mission"),_.createElement("p",{className:"text-blue-100 leading-relaxed"},"To make linguistic knowledge accessible, interactive, and meaningful for everyone — from researchers to language lovers.")),_.createElement(At.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.7,delay:.2},viewport:{once:!0}},_.createElement("h3",{className:"text-3xl font-bold mb-4"},"Our Vision"),_.createElement("p",{className:"text-blue-100 leading-relaxed"},"A world where every language is valued, preserved, and celebrated, fostering cultural understanding and global connection.")))),_.createElement("section",{className:"py-20 bg-gray-100"},_.createElement("div",{className:"max-w-6xl mx-auto px-4 text-center"},_.createElement("h2",{className:"text-4xl font-extrabold text-gray-800 mb-12"},"Our Journey"),_.createElement("div",{className:"space-y-12 relative border-l-4 border-blue-600 ml-6"},[{year:"2018",event:"The idea of Language Explorer was born with a small archive of 50 languages."},{year:"2020",event:"We launched interactive maps, reaching over 10,000 users worldwide."},{year:"2022",event:"Our platform expanded to 7,000+ documented languages and partnered with universities."},{year:"2024",event:"Community-driven features enabled users to contribute and preserve endangered languages."}].map((n,t)=>_.createElement(At.div,{key:t,initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:t*.2},viewport:{once:!0},className:"pl-6 relative"},_.createElement("div",{className:"absolute -left-6 top-1 w-4 h-4 bg-blue-600 rounded-full"}),_.createElement("h4",{className:"text-xl font-semibold text-gray-800"},n.year),_.createElement("p",{className:"text-gray-600"},n.event)))))),_.createElement("section",{className:"py-20 bg-white"},_.createElement("div",{className:"max-w-6xl mx-auto px-4 text-center"},_.createElement("h2",{className:"text-4xl font-extrabold text-gray-800 mb-14"},"Meet Our Team"),_.createElement("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-10"},[{name:"Dr. Sarah Johnson",role:"Chief Linguist",img:"https://randomuser.me/api/portraits/women/44.jpg"},{name:"Michael Chen",role:"Lead Developer",img:"https://randomuser.me/api/portraits/men/46.jpg"},{name:"Amina Hassan",role:"Cultural Researcher",img:"https://randomuser.me/api/portraits/women/68.jpg"}].map((n,t)=>_.createElement(At.div,{key:t,whileHover:{scale:1.05},className:"bg-gray-50 rounded-2xl shadow-lg p-6"},_.createElement("img",{src:n.img,alt:n.name,className:"w-28 h-28 rounded-full mx-auto mb-4 object-cover shadow-md"}),_.createElement("h4",{className:"text-xl font-semibold text-gray-800"},n.name),_.createElement("p",{className:"text-gray-500"},n.role)))))),_.createElement("section",{className:"py-20 bg-gradient-to-r from-indigo-700 to-blue-700 text-white relative overflow-hidden"},_.createElement(At.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"max-w-4xl mx-auto px-4 text-center"},_.createElement("h2",{className:"text-4xl md:text-5xl font-extrabold mb-4"},"Join Us in Preserving Languages"),_.createElement("p",{className:"text-xl mb-8 text-blue-100"},"Be part of a global movement to celebrate, document, and share the world’s linguistic heritage."),_.createElement(At.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-white text-blue-600 hover:bg-blue-50 font-bold py-4 px-8 rounded-full text-lg shadow-xl transition-all"},"Get Involved"))),_.createElement(o2,null)),Q9=({user:n})=>{const[t,e]=tt.useState([]),[s,o]=tt.useState(""),[u,f]=tt.useState(""),[g,y]=tt.useState(""),[E,T]=tt.useState("all"),[S,R]=tt.useState("grid"),[V,K]=tt.useState("word"),[$,X]=tt.useState(!1),[ct,Q]=tt.useState(1),[Y,ht]=tt.useState(24),[lt,bt]=tt.useState(!0),[z,M]=tt.useState(null);tt.useEffect(()=>{bt(!0);try{const Z=I_(Ud(ol,"languages"),D_("name")),H=L_(Z,dt=>{const Tt=dt.docs.map(St=>({id:St.id,...St.data()}));e(Tt),bt(!1)});return()=>H()}catch(Z){console.error("Error loading languages:",Z),bt(!1)}},[]);const O=tt.useMemo(()=>t.flatMap(Z=>(Z.dictionary||[]).map(H=>({...H,languageName:Z.name,languageId:Z.id,languageRegion:Z.region,languageFamily:Z.family,languageSpeakers:Z.speakers}))),[t]),q=tt.useMemo(()=>!s&&!u&&!g?O:O.filter(Z=>{const H=Z.word?.toLowerCase().includes(s.toLowerCase())||Z.meaning?.toLowerCase().includes(s.toLowerCase())||Z.pronunciation?.toLowerCase().includes(s.toLowerCase())||Z.example?.toLowerCase().includes(s.toLowerCase())||Z.dialects?.some(St=>St?.toLowerCase().includes(s.toLowerCase())),dt=!u||Z.languageName===u,Tt=!g||Z.region===g||Z.languageRegion===g;return H&&dt&&Tt}),[O,s,u,g]),F=tt.useMemo(()=>[...q].sort((Z,H)=>{switch(V){case"word":return Z.word?.localeCompare(H.word||"");case"language":return Z.languageName?.localeCompare(H.languageName||"");case"region":return(Z.region||Z.languageRegion)?.localeCompare(H.region||H.languageRegion||"");default:return 0}}),[q,V]),D=tt.useMemo(()=>{const Z=(ct-1)*Y;return F.slice(Z,Z+Y)},[F,ct,Y]),U=Math.ceil(F.length/Y),$t=tt.useMemo(()=>[...new Set(t.map(Z=>Z.name))].sort(),[t]),Qt=tt.useMemo(()=>[...new Set(t.map(Z=>Z.region))].sort(),[t]),ot=tt.useMemo(()=>t.reduce((Z,H)=>(H.dictionary&&H.dictionary.length>0&&(Z[H.name]=H.dictionary.map(dt=>({...dt,languageName:H.name,languageId:H.id,languageRegion:H.region}))),Z),{}),[t]),Et=tt.useMemo(()=>t.reduce((Z,H)=>{if(H.dictionary&&H.dictionary.length>0){const dt=H.region;Z[dt]||(Z[dt]=[]),Z[dt].push(...H.dictionary.map(Tt=>({...Tt,languageName:H.name,languageId:H.id,languageRegion:H.region})))}return Z},{}),[t]),pt=tt.useCallback(()=>{o(""),f(""),y(""),Q(1)},[]),Vt=tt.useCallback(Z=>{M(Z)},[]),k=tt.useMemo(()=>({totalWords:O.length,totalLanguages:Object.keys(ot).length,totalRegions:Object.keys(Et).length,averageWordsPerLanguage:O.length/Math.max(Object.keys(ot).length,1)}),[O,ot,Et]);return _.createElement("div",{className:"min-h-screen bg-gray-50"},_.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_.createElement(At.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8"},_.createElement("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4"},"Language Dictionary"),_.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Explore words, meanings, and dialects from Pakistan's rich linguistic heritage")),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Total Words"),_.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},k.totalWords.toLocaleString())),_.createElement("div",{className:"p-2 bg-blue-100 rounded-lg"},_.createElement(ro,{className:"text-blue-600",size:20})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Languages"),_.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},k.totalLanguages)),_.createElement("div",{className:"p-2 bg-green-100 rounded-lg"},_.createElement(Rh,{className:"text-green-600",size:20})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Regions"),_.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},k.totalRegions)),_.createElement("div",{className:"p-2 bg-purple-100 rounded-lg"},_.createElement(co,{className:"text-purple-600",size:20})))),_.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},_.createElement("div",{className:"flex items-center justify-between"},_.createElement("div",null,_.createElement("p",{className:"text-sm font-medium text-gray-600"},"Avg. Words"),_.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Math.round(k.averageWordsPerLanguage))),_.createElement("div",{className:"p-2 bg-orange-100 rounded-lg"},_.createElement(Bu,{className:"text-orange-600",size:20}))))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-8"},_.createElement("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between"},_.createElement("div",{className:"flex-1 w-full lg:max-w-md"},_.createElement("div",{className:"relative"},_.createElement(yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),_.createElement("input",{type:"text",placeholder:"Search words, meanings, pronunciations, dialects...",value:s,onChange:Z=>{o(Z.target.value),Q(1)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}))),_.createElement("div",{className:"flex flex-wrap gap-3 w-full lg:w-auto"},_.createElement(At.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>X(!$),className:"flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors"},_.createElement(gv,{size:18}),"Filters",$?_.createElement(JC,{size:16}):_.createElement(QC,{size:16})),_.createElement("div",{className:"flex border border-gray-300 rounded-xl overflow-hidden"},_.createElement("button",{onClick:()=>R("grid"),className:`px-4 py-3 transition-colors ${S==="grid"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`},_.createElement(e2,{size:18})),_.createElement("button",{onClick:()=>R("list"),className:`px-4 py-3 transition-colors ${S==="list"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`},_.createElement(n2,{size:18}))),_.createElement("select",{value:V,onChange:Z=>K(Z.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:"word"},"Sort by Word"),_.createElement("option",{value:"language"},"Sort by Language"),_.createElement("option",{value:"region"},"Sort by Region")),_.createElement("select",{value:Y,onChange:Z=>{ht(Number(Z.target.value)),Q(1)},className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:24},"24 per page"),_.createElement("option",{value:48},"48 per page"),_.createElement("option",{value:96},"96 per page"),_.createElement("option",{value:192},"192 per page")))),_.createElement(bl,null,$&&_.createElement(At.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-200"},_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Language"),_.createElement("select",{value:u,onChange:Z=>{f(Z.target.value),Q(1)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Languages"),$t.map(Z=>_.createElement("option",{key:Z,value:Z},Z)))),_.createElement("div",null,_.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Region"),_.createElement("select",{value:g,onChange:Z=>{y(Z.target.value),Q(1)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},_.createElement("option",{value:""},"All Regions"),Qt.map(Z=>_.createElement("option",{key:Z,value:Z},Z))))),_.createElement("div",{className:"flex justify-between items-center mt-4"},_.createElement("div",{className:"text-sm text-gray-600"},q.length.toLocaleString()," words found"),_.createElement("div",{className:"flex gap-3"},_.createElement("button",{onClick:pt,className:"text-blue-600 hover:text-blue-800 font-medium text-sm"},"Clear all filters"),_.createElement("button",{className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-medium text-sm"},_.createElement(t2,{size:16}),"Export Results")))))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-8"},_.createElement("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between"},_.createElement("div",{className:"flex flex-wrap gap-2"},[{key:"all",label:"All Words",count:q.length},{key:"byLanguage",label:"By Language",count:Object.keys(ot).length},{key:"byRegion",label:"By Region",count:Object.keys(Et).length}].map(Z=>_.createElement(At.button,{key:Z.key,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{T(Z.key),Q(1)},className:`px-6 py-3 rounded-xl font-medium transition-colors ${E===Z.key?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},Z.label,_.createElement("span",{className:"ml-2 px-2 py-1 text-xs bg-white/20 rounded-full"},Z.count.toLocaleString())))))),_.createElement(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},lt?_.createElement("div",{className:"flex justify-center items-center py-12"},_.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})):E==="all"?_.createElement(J9,{entries:D,displayMode:S,onEntryClick:Vt,totalEntries:q.length,currentPage:ct,totalPages:U,onPageChange:Q}):E==="byLanguage"?_.createElement(tz,{entriesByLanguage:ot,searchTerm:s,displayMode:S,onEntryClick:Vt}):_.createElement(ez,{entriesByRegion:Et,searchTerm:s,displayMode:S,onEntryClick:Vt})),_.createElement(bl,null,z&&_.createElement(nz,{entry:z,onClose:()=>M(null)}))))},J9=({entries:n,displayMode:t,onEntryClick:e,totalEntries:s,currentPage:o,totalPages:u,onPageChange:f})=>n.length===0?_.createElement("div",{className:"text-center py-12"},_.createElement(Tm,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 text-lg mt-4"},"No words found matching your criteria."),_.createElement("p",{className:"text-gray-400 mt-2"},"Try adjusting your search or filters.")):_.createElement("div",null,_.createElement("div",{className:"p-6 border-b border-gray-200"},_.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},_.createElement("div",null,_.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"All Dictionary Words"),_.createElement("p",{className:"text-gray-600 mt-1"},"Showing ",(o-1)*n.length+1," to ",o*n.length," of ",s.toLocaleString()," words")))),t==="grid"?_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 p-6"},n.map((g,y)=>_.createElement(ju,{key:`${g.languageId}-${g.word}-${y}`,entry:g,displayMode:t,onClick:e}))):_.createElement("div",{className:"space-y-4 p-6"},n.map((g,y)=>_.createElement(ju,{key:`${g.languageId}-${g.word}-${y}`,entry:g,displayMode:t,onClick:e}))),u>1&&_.createElement("div",{className:"px-6 py-4 border-t border-gray-200"},_.createElement(iz,{currentPage:o,totalPages:u,onPageChange:f}))),tz=({entriesByLanguage:n,searchTerm:t,displayMode:e,onEntryClick:s})=>{const o=Object.entries(n).filter(([u,f])=>t?f.some(g=>g.word?.toLowerCase().includes(t.toLowerCase())||g.meaning?.toLowerCase().includes(t.toLowerCase())):!0).sort(([u],[f])=>u.localeCompare(f));return o.length===0?_.createElement("div",{className:"text-center py-12"},_.createElement(Tm,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 text-lg mt-4"},"No languages found matching your criteria.")):_.createElement("div",{className:"space-y-6 p-6"},o.map(([u,f])=>{const g=f.filter(y=>!t||y.word?.toLowerCase().includes(t.toLowerCase())||y.meaning?.toLowerCase().includes(t.toLowerCase()));return g.length===0?null:_.createElement(At.div,{key:u,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-xl p-6"},_.createElement("h3",{className:"text-2xl font-bold text-blue-600 mb-4 pb-3 border-b border-gray-200 flex items-center gap-3"},_.createElement(Rh,{className:"text-blue-500",size:24}),u,_.createElement("span",{className:"text-sm font-normal text-gray-500 bg-white px-3 py-1 rounded-full"},g.length," words")),e==="grid"?_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},g.map((y,E)=>_.createElement(ju,{key:`${u}-${y.word}-${E}`,entry:y,displayMode:e,onClick:s}))):_.createElement("div",{className:"space-y-3"},g.map((y,E)=>_.createElement(ju,{key:`${u}-${y.word}-${E}`,entry:y,displayMode:e,onClick:s}))))}))},ez=({entriesByRegion:n,searchTerm:t,displayMode:e,onEntryClick:s})=>{const o=Object.entries(n).filter(([u,f])=>t?f.some(g=>g.word?.toLowerCase().includes(t.toLowerCase())||g.meaning?.toLowerCase().includes(t.toLowerCase())):!0).sort(([u],[f])=>u.localeCompare(f));return o.length===0?_.createElement("div",{className:"text-center py-12"},_.createElement(Tm,{className:"mx-auto text-gray-400",size:48}),_.createElement("p",{className:"text-gray-500 text-lg mt-4"},"No regions found matching your criteria.")):_.createElement("div",{className:"space-y-6 p-6"},o.map(([u,f])=>{const g=f.filter(y=>!t||y.word?.toLowerCase().includes(t.toLowerCase())||y.meaning?.toLowerCase().includes(t.toLowerCase()));return g.length===0?null:_.createElement(At.div,{key:u,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-xl p-6"},_.createElement("h3",{className:"text-2xl font-bold text-green-600 mb-4 pb-3 border-b border-gray-200 flex items-center gap-3"},_.createElement(co,{className:"text-green-500",size:24}),u,_.createElement("span",{className:"text-sm font-normal text-gray-500 bg-white px-3 py-1 rounded-full"},g.length," words")),e==="grid"?_.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},g.map((y,E)=>_.createElement(ju,{key:`${u}-${y.word}-${E}`,entry:y,displayMode:e,onClick:s}))):_.createElement("div",{className:"space-y-3"},g.map((y,E)=>_.createElement(ju,{key:`${u}-${y.word}-${E}`,entry:y,displayMode:e,onClick:s}))))}))},ju=({entry:n,displayMode:t,onClick:e})=>{const s=()=>{e(n)};return t==="list"?_.createElement(At.div,{whileHover:{scale:1.01},className:"bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-300 p-4 cursor-pointer",onClick:s},_.createElement("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3"},_.createElement("div",{className:"flex-1"},_.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-2"},_.createElement("h3",{className:"text-xl font-bold text-blue-600"},n.word),_.createElement("span",{className:"bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full font-medium"},n.languageName),n.region&&_.createElement("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full"},n.region)),n.pronunciation&&_.createElement("p",{className:"text-gray-600 text-sm mb-2 flex items-center gap-2"},_.createElement(Ly,{size:14}),_.createElement("span",{className:"font-medium"},"Pronunciation:")," ",n.pronunciation),_.createElement("p",{className:"text-gray-700 mb-2"},_.createElement("span",{className:"font-medium"},"Meaning:")," ",n.meaning),n.dialects&&n.dialects.some(o=>o)&&_.createElement("div",{className:"mb-2"},_.createElement("p",{className:"text-sm font-medium text-gray-700 mb-1"},"Dialect Variations:"),_.createElement("div",{className:"flex flex-wrap gap-1"},n.dialects.filter(o=>o).map((o,u)=>_.createElement("span",{key:u,className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded border"},o)))),n.example&&_.createElement("p",{className:"text-gray-600 text-sm italic mt-2"},'"',_.createElement("span",{className:"font-medium"},"Example:")," ",n.example,'"')))):_.createElement(At.div,{whileHover:{scale:1.02,y:-2},className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 p-5 cursor-pointer group",onClick:s},_.createElement("div",{className:"flex justify-between items-start mb-3"},_.createElement("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors"},n.word),_.createElement("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium"},n.languageName)),n.pronunciation&&_.createElement("p",{className:"text-gray-600 text-sm mb-2 flex items-center gap-2"},_.createElement(Ly,{size:14}),_.createElement("span",{className:"font-medium"},"Sound:")," ",n.pronunciation),_.createElement("p",{className:"text-gray-700 mb-3 line-clamp-2"},n.meaning),n.region&&_.createElement("p",{className:"text-gray-600 text-sm mb-2"},_.createElement("span",{className:"font-medium"},"Region:")," ",n.region),n.dialects&&n.dialects.some(o=>o)&&_.createElement("div",{className:"mb-3"},_.createElement("p",{className:"text-xs font-medium text-gray-700 mb-1"},"Dialects:"),_.createElement("div",{className:"flex flex-wrap gap-1"},n.dialects.filter(o=>o).slice(0,2).map((o,u)=>_.createElement("span",{key:u,className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded border border-blue-200"},o)),n.dialects.filter(o=>o).length>2&&_.createElement("span",{className:"bg-gray-50 text-gray-600 text-xs px-2 py-1 rounded border"},"+",n.dialects.filter(o=>o).length-2," more"))),n.example&&_.createElement("p",{className:"text-gray-600 text-sm italic border-l-3 border-blue-500 pl-3 py-1 bg-blue-50 rounded-r"},'"',n.example,'"'))},nz=({entry:n,onClose:t})=>_.createElement(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t},_.createElement(At.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation()},_.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6"},_.createElement("div",{className:"flex justify-between items-start"},_.createElement("div",null,_.createElement("h2",{className:"text-3xl font-bold mb-2"},n.word),_.createElement("p",{className:"text-blue-100 text-lg"},n.languageName)),_.createElement("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors"},_.createElement(wm,{size:24})))),_.createElement("div",{className:"p-6 space-y-6"},n.pronunciation&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2"},_.createElement(Ly,{size:18}),"Pronunciation"),_.createElement("p",{className:"text-gray-700 text-lg"},n.pronunciation)),_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Meaning"),_.createElement("p",{className:"text-gray-700 text-lg"},n.meaning)),n.region&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2"},_.createElement(co,{size:18}),"Specific Region"),_.createElement("p",{className:"text-gray-700"},n.region)),n.dialects&&n.dialects.some(e=>e)&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"Dialect Variations"),_.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},n.dialects.filter(e=>e).map((e,s)=>_.createElement("div",{key:s,className:"bg-gray-50 rounded-lg p-3 border border-gray-200"},_.createElement("p",{className:"text-gray-700"},e))))),n.example&&_.createElement("div",null,_.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Example Usage"),_.createElement("div",{className:"bg-blue-50 rounded-xl p-4 border-l-4 border-blue-500"},_.createElement("p",{className:"text-gray-700 text-lg italic"},'"',n.example,'"')))))),iz=({currentPage:n,totalPages:t,onPageChange:e})=>{const s=()=>{const u=[],f=[];for(let g=Math.max(2,n-2);g<=Math.min(t-1,n+2);g++)u.push(g);return n-2>2?f.push(1,"..."):f.push(1),f.push(...u),n+2<t-1?f.push("...",t):f.push(t),f};return _.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4"},_.createElement("div",{className:"text-sm text-gray-600"},"Page ",n," of ",t),_.createElement("div",{className:"flex gap-2"},_.createElement("button",{onClick:()=>e(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Previous"),s().map((o,u)=>_.createElement("button",{key:u,onClick:()=>typeof o=="number"&&e(o),className:`px-4 py-2 rounded-lg transition-colors ${n===o?"bg-blue-600 text-white":o==="..."?"cursor-default":"border border-gray-300 hover:bg-gray-50"}`,disabled:o==="..."},o)),_.createElement("button",{onClick:()=>e(Math.min(t,n+1)),disabled:n===t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},"Next")))},sz=({user:n,isAdmin:t,onLogout:e,currentView:s,setView:o,setShowLogin:u})=>{const[f,g]=tt.useState(!1),y=[{label:"Home",view:"home"},{label:"About Us",view:"about"},{label:"Language Explorer",view:"user"},{label:"Dictionary",view:"dictionary"},...t?[{label:"Admin Panel",view:"admin"}]:[]];return _.createElement(At.nav,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"sticky top-0 z-50 bg-gradient-to-r from-blue-700 to-blue-500 text-white shadow-lg backdrop-blur-md"},_.createElement("div",{className:"container mx-auto flex justify-between items-center px-4 py-3"},_.createElement(At.div,{whileHover:{scale:1.05},className:"text-2xl font-extrabold cursor-pointer tracking-wide",onClick:()=>o("home")},"🌍 Language Explorer"),_.createElement("div",{className:"hidden md:flex items-center space-x-6"},y.map(E=>_.createElement(At.button,{key:E.view,onClick:()=>o(E.view),className:`relative px-4 py-2 rounded-lg transition-colors ${s===E.view?"bg-white text-blue-700 font-semibold":"hover:bg-blue-600"}`,whileHover:{scale:1.1},whileTap:{scale:.95}},E.label)),n?_.createElement(_.Fragment,null,_.createElement("span",{className:"mx-2 px-3 py-1 bg-blue-400/80 rounded-full text-sm shadow"},"👋 ",n.email.split("@")[0]),_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-all font-semibold shadow"},"Logout")):_.createElement(At.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"bg-white text-blue-700 px-4 py-2 rounded-lg font-semibold shadow hover:bg-blue-50 transition-all"},"Login / Sign Up")),_.createElement("button",{className:"md:hidden p-2 rounded-lg hover:bg-blue-600 transition",onClick:()=>g(!f)},f?_.createElement(wm,{size:28}):_.createElement(f9,{size:28}))),_.createElement(bl,null,f&&_.createElement(At.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4},className:"md:hidden bg-blue-600/95 backdrop-blur-md shadow-lg"},_.createElement("div",{className:"flex flex-col space-y-3 p-4"},y.map(E=>_.createElement("button",{key:E.view,onClick:()=>{o(E.view),g(!1)},className:`w-full text-left px-4 py-2 rounded-lg ${s===E.view?"bg-white text-blue-700 font-semibold":"hover:bg-blue-500"}`},E.label)),n?_.createElement(_.Fragment,null,_.createElement("span",{className:"px-4 py-2 bg-blue-500/80 rounded-lg text-sm"},"👋 ",n.email.split("@")[0]),_.createElement("button",{onClick:e,className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-all font-semibold"},"Logout")):_.createElement("button",{onClick:()=>{u(!0),g(!1)},className:"w-full px-4 py-2 bg-white text-blue-700 font-semibold rounded-lg hover:bg-blue-50 transition-all"},"Login / Sign Up")))))};function rz(){const[n,t]=tt.useState(null),[e,s]=tt.useState(""),[o,u]=tt.useState(""),[f,g]=tt.useState(""),[y,E]=tt.useState(""),[T,S]=tt.useState(!0),[R,V]=tt.useState(!1),[K,$]=tt.useState(!1),[X,ct]=tt.useState("home"),[Q,Y]=tt.useState(!1),[ht,lt]=tt.useState(""),bt=["adminjunaid@gmail.com"];tt.useEffect(()=>{const O=OM(ed,q=>{t(q),$(q?bt.includes(q.email):!1)});return()=>O()},[bt]);const z=async O=>{O.preventDefault(),V(!0);try{if(T)await MM(ed,e,o),lt("Login successful! Redirecting to Home...");else{const q=await PM(ed,e,o);await oV(Bd(ol,"users",q.user.uid),{firstName:f,lastName:y,email:e,favorites:[],createdAt:rh(),lastLogin:rh()}),lt("Sign Up successful! Redirecting to Home...")}s(""),u(""),g(""),E(""),Y(!1),ct("home"),setTimeout(()=>lt(""),3e3)}catch(q){alert(q.message)}V(!1)},M=async()=>{try{await kM(ed),ct("home")}catch(O){alert(O.message)}};return _.createElement("div",{className:"min-h-screen bg-gray-100"},_.createElement(sz,{user:n,isAdmin:K,onLogout:M,currentView:X,setView:ct,setShowLogin:Y}),ht&&_.createElement("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded shadow z-50"},ht),_.createElement("div",{className:"container mx-auto px-4 py-8"},X==="home"&&_.createElement(W9,{user:n}),X==="about"&&_.createElement(X9,null),X==="user"&&_.createElement(Y9,{user:n}),X==="admin"&&K&&_.createElement(S9,{user:n}),X==="dictionary"&&_.createElement(Q9,{user:n}),_.createElement(bl,null,Q&&!n&&_.createElement(At.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 flex items-center justify-center z-50 bg-black/40"},_.createElement(At.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full"},_.createElement("h1",{className:"text-3xl font-bold text-center mb-6 text-blue-600"},T?"Login":"Sign Up"),_.createElement("form",{onSubmit:z},!T&&_.createElement("div",{className:"flex gap-2 mb-4"},_.createElement("input",{type:"text",placeholder:"First Name",value:f,onChange:O=>g(O.target.value),className:"flex-1 border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",required:!0}),_.createElement("input",{type:"text",placeholder:"Last Name",value:y,onChange:O=>E(O.target.value),className:"flex-1 border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",required:!0})),_.createElement("div",{className:"mb-4"},_.createElement("input",{type:"email",placeholder:"Email",value:e,onChange:O=>s(O.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",required:!0})),_.createElement("div",{className:"mb-4"},_.createElement("input",{type:"password",placeholder:"Password",value:o,onChange:O=>u(O.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300",required:!0})),_.createElement("button",{type:"submit",disabled:R,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded mb-4 disabled:opacity-50"},R?"Processing...":T?"Login":"Sign Up"),_.createElement("p",{className:"text-center text-sm"},T?"Don't have an account? ":"Already have an account? ",_.createElement("button",{type:"button",onClick:()=>S(!T),className:"text-blue-500 hover:text-blue-700 font-bold"},T?"Sign Up":"Login")),_.createElement("button",{type:"button",onClick:()=>Y(!1),className:"mt-4 text-red-500 hover:text-red-700 text-sm w-full"},"Cancel")))))))}RR.createRoot(document.getElementById("root")).render(_.createElement(tt.StrictMode,null,_.createElement(rz,null)));
